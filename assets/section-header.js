"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(e){var n="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(t,e)})(e)}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);t=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(t,n.prototype),t}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _isNativeFunction(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function r(o,i,s){function c(t,e){if(!i[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=i[t]={exports:{}},o[t][0].call(n.exports,function(e){return c(o[t][1][e]||e)},n,n.exports,r,o,i,s)}return i[t].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,n){var r=function(){_inherits(t,_wrapNativeSuper(HTMLElement));var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"connectedCallback",value:function(){this.burgerIcon=this.querySelector(".nav__icon--burger"),this.closeIcon=this.querySelector(".nav__icon--close"),this.shopButton=this.querySelector(".nav__link--Shop"),this.closeIconDesktop=this.querySelector(".nav__icon--close--desktop"),this.desktopWrapper=this.querySelector(".sidebar-nav-overlay--desktop"),this.links=this.querySelectorAll(".js-sidebar-nav__link"),this.backButtons=this.querySelectorAll(".js-secondary-menu__top-bar--back"),this.closeButtons=document.querySelectorAll(".js-secondary-menu__top-bar--close"),this.addEventListeners()}},{key:"disconnectedCallback",value:function(){this.removeEventListeners()}},{key:"addEventListeners",value:function(){var t=this;this.toggleIconsClasses=function(){t.querySelector(".sidebar-nav-wrapper--mobile").classList.toggle("nav-active"),t.querySelectorAll(".nav__icon").forEach(function(e){return e.classList.toggle("nav__icon--js-hidden")})},this.openNav=function(){t.querySelector("#sidebar-menu-desktop").style.left="0",t.querySelector("#sidebar-nav-overlay--desktop").style.display="block"},this.closeNav=function(){t.querySelector("#sidebar-menu-desktop").style.left="-100%",t.querySelector("#sidebar-nav-overlay--desktop").style.display="none"},this.burgerIcon.addEventListener("click",function(e){e.preventDefault(),t.toggleIconsClasses(),t.querySelector(".nav__icon--close").classList.toggle("close-active")}),this.closeIcon.addEventListener("click",function(e){e.preventDefault(),t.toggleIconsClasses()}),this.shopButton.addEventListener("click",function(e){e.preventDefault(),t.openNav(),t.querySelector(".sidebar-nav-wrapper--desktop").classList.toggle("nav-active")}),this.closeIconDesktop.addEventListener("click",function(e){e.preventDefault(),t.closeNav(),t.querySelector(".sidebar-nav-wrapper--desktop").classList.toggle("nav-active")}),this.desktopWrapper.addEventListener("click",function(){t.closeNav(),t.querySelector(".sidebar-nav-wrapper--desktop").classList.remove("nav-active")}),this.links.forEach(function(t){return t.addEventListener("click",function(e){e.preventDefault(),t.nextElementSibling.classList.toggle("secondary-menu-open")})}),this.backButtons.forEach(function(e){return e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),document.querySelector(".secondary-menu-open").classList.toggle("secondary-menu-open")})}),this.closeButtons.forEach(function(e){return e.addEventListener("click",function(e){e.preventDefault(),t.toggleIconsClasses()})})}},{key:"removeEventListeners",value:function(){var t=this;this.burgerIcon.removeEventListener("click",this.toggleIconsClasses),this.closeIcon.removeEventListener("click",this.toggleIconsClasses),this.shopButton.removeEventListener("click",this.openNav),this.closeIconDesktop.removeEventListener("click",this.closeNav),this.desktopWrapper.removeEventListener("click",this.closeNav),this.links.forEach(function(t){return t.removeEventListener("click",function(e){e.preventDefault(),t.nextElementSibling.classList.toggle("secondary-menu-open")})}),this.backButtons.forEach(function(e){return e.removeEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),document.querySelector(".secondary-menu-open").classList.toggle("secondary-menu-open")})}),this.closeButtons.forEach(function(e){return e.removeEventListener("click",function(e){e.preventDefault(),t.toggleIconsClasses()})})}}]),t}();customElements.define("sidebar-toggle",r)},{}]},{},[1]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2VjdGlvbi1oZWFkZXIuanMiLCJzZWN0aW9uLWhlYWRlci5qcyJdLCJuYW1lcyI6WyJyIiwiZSIsIm4iLCJ0IiwibyIsImkiLCJmIiwiYyIsInJlcXVpcmUiLCJ1IiwiYSIsIkVycm9yIiwiY29kZSIsInAiLCJleHBvcnRzIiwiY2FsbCIsImxlbmd0aCIsIjEiLCJtb2R1bGUiLCJTaWRlYmFyVG9nZ2xlIiwiX2luaGVyaXRzIiwiX3dyYXBOYXRpdmVTdXBlciIsIkhUTUxFbGVtZW50IiwiX3N1cGVyIiwiX2NyZWF0ZVN1cGVyIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsImFwcGx5IiwiYXJndW1lbnRzIiwiX2NyZWF0ZUNsYXNzIiwia2V5IiwidmFsdWUiLCJidXJnZXJJY29uIiwicXVlcnlTZWxlY3RvciIsImNsb3NlSWNvbiIsInNob3BCdXR0b24iLCJjbG9zZUljb25EZXNrdG9wIiwiZGVza3RvcFdyYXBwZXIiLCJsaW5rcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJiYWNrQnV0dG9ucyIsImNsb3NlQnV0dG9ucyIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsIl90aGlzIiwidG9nZ2xlSWNvbnNDbGFzc2VzIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiZm9yRWFjaCIsImljb24iLCJvcGVuTmF2Iiwic3R5bGUiLCJsZWZ0IiwiZGlzcGxheSIsImNsb3NlTmF2IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJyZW1vdmUiLCJsaW5rIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiYmFja0J1dHRvbiIsInN0b3BQcm9wYWdhdGlvbiIsImNsb3NlQnV0dG9uIiwiX3RoaXMyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIl0sIm1hcHBpbmdzIjoiODVHQUFB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QyxFQUFBdkMsS0FDQUEsS0FBQU0sV0FBQWtDLG9CQUFBLFFBQUF4QyxLQUFBb0Isa0JBQUEsRUFDQXBCLEtBQUFRLFVBQUFnQyxvQkFBQSxRQUFBeEMsS0FBQW9CLGtCQUFBLEVBQ0FwQixLQUFBUyxXQUFBK0Isb0JBQUEsUUFBQXhDLEtBQUF5QixPQUFBLEVBQ0F6QixLQUFBVSxpQkFBQThCLG9CQUFBLFFBQUF4QyxLQUFBNkIsUUFBQSxFQUNBN0IsS0FBQVcsZUFBQTZCLG9CQUFBLFFBQUF4QyxLQUFBNkIsUUFBQSxFQUVBN0IsS0FBQVksTUFBQVcsUUFBQSxTQUFBVyxHQUFBLE9BQ0FBLEVBQUFNLG9CQUFBLFFBQUEsU0FBQVQsR0FDQUEsRUFBQUMsZUFBQSxFQUNBRSxFQUFBQyxtQkFBQWQsVUFBQUMsT0FBQSxxQkFBQSxDQUNBLENBQUEsQ0FBQSxDQUNBLEVBRUF0QixLQUFBYyxZQUFBUyxRQUFBLFNBQUFhLEdBQUEsT0FDQUEsRUFBQUksb0JBQUEsUUFBQSxTQUFBVCxHQUNBQSxFQUFBQyxlQUFBLEVBQ0FELEVBQUFNLGdCQUFBLEVBQ0FyQixTQUFBVCxjQUFBLHNCQUFBLEVBQUFjLFVBQUFDLE9BQUEscUJBQUEsQ0FDQSxDQUFBLENBQUEsQ0FDQSxFQUVBdEIsS0FBQWUsYUFBQVEsUUFBQSxTQUFBZSxHQUFBLE9BQ0FBLEVBQUFFLG9CQUFBLFFBQUEsU0FBQVQsR0FDQUEsRUFBQUMsZUFBQSxFQUNBTyxFQUFBbkIsbUJBQUEsQ0FDQSxDQUFBLENBQUEsQ0FDQSxDQUNBLENBQUEsRUFBQSxFQUFBM0IsQ0FBQSxFQW5IQSxFQXNIQWdELGVBQUFDLE9BQUEsaUJBQUFqRCxDQUFBLENDR0EsRUFBRSxHQUFHLEVBQUUsR0RqQ1AsQ0FBQSxFQUFBIiwiZmlsZSI6InNlY3Rpb24taGVhZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8vIGNsYXNzIFNpZGViYXJUb2dnbGUgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4vLyAgIGNvbnN0cnVjdG9yKCkge1xuLy8gICAgIHN1cGVyKCk7XG5cbi8vICAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2lkZWJhci10b2dnbGUtdGVtcGxhdGVcIik7XG5cbi8vICAgICBjb25zdCBidXJnZXJJY29uID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwiLm5hdl9faWNvbi0tYnVyZ2VyXCIpO1xuLy8gICAgIGNvbnN0IGNsb3NlSWNvbiA9IHRoaXMucXVlcnlTZWxlY3RvcihcIi5uYXZfX2ljb24tLWNsb3NlXCIpO1xuLy8gICAgIGNvbnN0IHNob3BCdXR0b24gPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19saW5rLS1TaG9wXCIpO1xuLy8gICAgIGNvbnN0IGNsb3NlSWNvbkRlc2t0b3AgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19pY29uLS1jbG9zZS0tZGVza3RvcFwiKTtcbi8vICAgICBjb25zdCBkZXNrdG9wV3JhcHBlciA9IHRoaXMucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFyLW5hdi1vdmVybGF5LS1kZXNrdG9wXCIpO1xuLy8gICAgIGNvbnN0IGxpbmtzID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKFwiLmpzLXNpZGViYXItbmF2X19saW5rXCIpO1xuLy8gICAgIGNvbnN0IGJhY2tCdXR0b25zID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKFxuLy8gICAgICAgXCIuanMtc2Vjb25kYXJ5LW1lbnVfX3RvcC1iYXItLWJhY2tcIlxuLy8gICAgICk7XG4vLyAgICAgY29uc3QgY2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbi8vICAgICAgIFwiLmpzLXNlY29uZGFyeS1tZW51X190b3AtYmFyLS1jbG9zZVwiXG4vLyAgICAgKTtcblxuLy8gICAgIGNvbnN0IHRvZ2dsZUljb25zQ2xhc3NlcyA9ICgpID0+IHtcbi8vICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFyLW5hdi13cmFwcGVyLS1tb2JpbGVcIikuY2xhc3NMaXN0LnRvZ2dsZShcbi8vICAgICAgICAgXCJuYXYtYWN0aXZlXCJcbi8vICAgICAgICk7XG4vLyAgICAgICBjb25zdCBpY29ucyA9IHRoaXMucXVlcnlTZWxlY3RvckFsbChcIi5uYXZfX2ljb25cIik7XG4vLyAgICAgICBpY29ucy5mb3JFYWNoKChpY29uKSA9PiBpY29uLmNsYXNzTGlzdC50b2dnbGUoXCJuYXZfX2ljb24tLWpzLWhpZGRlblwiKSk7XG4vLyAgICAgfTtcblxuLy8gICAgIGNvbnN0IG9wZW5OYXYgPSAoKSA9PiB7XG4vLyAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCIjc2lkZWJhci1tZW51LWRlc2t0b3BcIikuc3R5bGUubGVmdCA9IFwiMFwiO1xuLy8gICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKFwiI3NpZGViYXItbmF2LW92ZXJsYXktLWRlc2t0b3BcIikuc3R5bGUuZGlzcGxheSA9XG4vLyAgICAgICAgIFwiYmxvY2tcIjtcbi8vICAgICB9O1xuXG4vLyAgICAgY29uc3QgY2xvc2VOYXYgPSAoKSA9PiB7XG4vLyAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCIjc2lkZWJhci1tZW51LWRlc2t0b3BcIikuc3R5bGUubGVmdCA9IFwiLTEwMCVcIjtcbi8vICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcihcIiNzaWRlYmFyLW5hdi1vdmVybGF5LS1kZXNrdG9wXCIpLnN0eWxlLmRpc3BsYXkgPVxuLy8gICAgICAgICBcIm5vbmVcIjtcbi8vICAgICB9O1xuXG4vLyAgICAgYnVyZ2VySWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4vLyAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuLy8gICAgICAgdG9nZ2xlSWNvbnNDbGFzc2VzKCk7XG4vLyAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19pY29uLS1jbG9zZVwiKS5jbGFzc0xpc3QudG9nZ2xlKFwiY2xvc2UtYWN0aXZlXCIpO1xuLy8gICAgIH0pO1xuXG4vLyAgICAgY2xvc2VJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbi8vICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4vLyAgICAgICB0b2dnbGVJY29uc0NsYXNzZXMoKTtcbi8vICAgICB9KTtcblxuLy8gICAgIHNob3BCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuLy8gICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbi8vICAgICAgIG9wZW5OYXYoKTtcbi8vICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFyLW5hdi13cmFwcGVyLS1kZXNrdG9wXCIpLmNsYXNzTGlzdC50b2dnbGUoXG4vLyAgICAgICAgIFwibmF2LWFjdGl2ZVwiXG4vLyAgICAgICApO1xuLy8gICAgIH0pO1xuXG4vLyAgICAgY2xvc2VJY29uRGVza3RvcC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4vLyAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuLy8gICAgICAgY2xvc2VOYXYoKTtcbi8vICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFyLW5hdi13cmFwcGVyLS1kZXNrdG9wXCIpLmNsYXNzTGlzdC50b2dnbGUoXG4vLyAgICAgICAgIFwibmF2LWFjdGl2ZVwiXG4vLyAgICAgICApO1xuLy8gICAgIH0pO1xuXG4vLyAgICAgZGVza3RvcFdyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbi8vICAgICAgIGNsb3NlTmF2KCk7XG4vLyAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCIuc2lkZWJhci1uYXYtd3JhcHBlci0tZGVza3RvcFwiKS5jbGFzc0xpc3QucmVtb3ZlKFxuLy8gICAgICAgICBcIm5hdi1hY3RpdmVcIlxuLy8gICAgICAgKTtcbi8vICAgICB9KTtcblxuLy8gICAgIGxpbmtzLmZvckVhY2goKGxpbmspID0+XG4vLyAgICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbi8vICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbi8vICAgICAgICAgbGluay5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnRvZ2dsZShcInNlY29uZGFyeS1tZW51LW9wZW5cIik7XG4vLyAgICAgICB9KVxuLy8gICAgICk7XG5cbi8vICAgICBiYWNrQnV0dG9ucy5mb3JFYWNoKChiYWNrQnV0dG9uKSA9PlxuLy8gICAgICAgYmFja0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4vLyAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4vLyAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuLy8gICAgICAgICBkb2N1bWVudFxuLy8gICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnNlY29uZGFyeS1tZW51LW9wZW5cIilcbi8vICAgICAgICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcInNlY29uZGFyeS1tZW51LW9wZW5cIik7XG4vLyAgICAgICB9KVxuLy8gICAgICk7XG5cbi8vICAgICBjbG9zZUJ1dHRvbnMuZm9yRWFjaCgoY2xvc2VCdXR0b24pID0+XG4vLyAgICAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4vLyAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4vLyAgICAgICAgIHRvZ2dsZUljb25zQ2xhc3NlcygpO1xuLy8gICAgICAgfSlcbi8vICAgICApO1xuLy8gICB9XG4vLyB9XG5cbi8vIGN1c3RvbUVsZW1lbnRzLmRlZmluZShcInNpZGViYXItdG9nZ2xlXCIsIFNpZGViYXJUb2dnbGUpO1xuXG5jbGFzcyBTaWRlYmFyVG9nZ2xlIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcblxuICAgIHRoaXMuYnVyZ2VySWNvbiA9IHRoaXMucXVlcnlTZWxlY3RvcihcIi5uYXZfX2ljb24tLWJ1cmdlclwiKTtcbiAgICB0aGlzLmNsb3NlSWNvbiA9IHRoaXMucXVlcnlTZWxlY3RvcihcIi5uYXZfX2ljb24tLWNsb3NlXCIpO1xuICAgIHRoaXMuc2hvcEJ1dHRvbiA9IHRoaXMucXVlcnlTZWxlY3RvcihcIi5uYXZfX2xpbmstLVNob3BcIik7XG4gICAgdGhpcy5jbG9zZUljb25EZXNrdG9wID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwiLm5hdl9faWNvbi0tY2xvc2UtLWRlc2t0b3BcIik7XG4gICAgdGhpcy5kZXNrdG9wV3JhcHBlciA9IHRoaXMucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFyLW5hdi1vdmVybGF5LS1kZXNrdG9wXCIpO1xuICAgIHRoaXMubGlua3MgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuanMtc2lkZWJhci1uYXZfX2xpbmtcIik7XG4gICAgdGhpcy5iYWNrQnV0dG9ucyA9IHRoaXMucXVlcnlTZWxlY3RvckFsbChcIi5qcy1zZWNvbmRhcnktbWVudV9fdG9wLWJhci0tYmFja1wiKTtcbiAgICB0aGlzLmNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuanMtc2Vjb25kYXJ5LW1lbnVfX3RvcC1iYXItLWNsb3NlXCIpO1xuXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy50b2dnbGVJY29uc0NsYXNzZXMgPSAoKSA9PiB7XG4gICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCIuc2lkZWJhci1uYXYtd3JhcHBlci0tbW9iaWxlXCIpLmNsYXNzTGlzdC50b2dnbGUoXCJuYXYtYWN0aXZlXCIpO1xuICAgICAgY29uc3QgaWNvbnMgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmF2X19pY29uXCIpO1xuICAgICAgaWNvbnMuZm9yRWFjaCgoaWNvbikgPT4gaWNvbi5jbGFzc0xpc3QudG9nZ2xlKFwibmF2X19pY29uLS1qcy1oaWRkZW5cIikpO1xuICAgIH07XG5cbiAgICB0aGlzLm9wZW5OYXYgPSAoKSA9PiB7XG4gICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCIjc2lkZWJhci1tZW51LWRlc2t0b3BcIikuc3R5bGUubGVmdCA9IFwiMFwiO1xuICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKFwiI3NpZGViYXItbmF2LW92ZXJsYXktLWRlc2t0b3BcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zZU5hdiA9ICgpID0+IHtcbiAgICAgIHRoaXMucXVlcnlTZWxlY3RvcihcIiNzaWRlYmFyLW1lbnUtZGVza3RvcFwiKS5zdHlsZS5sZWZ0ID0gXCItMTAwJVwiO1xuICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKFwiI3NpZGViYXItbmF2LW92ZXJsYXktLWRlc2t0b3BcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH07XG5cbiAgICB0aGlzLmJ1cmdlckljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMudG9nZ2xlSWNvbnNDbGFzc2VzKCk7XG4gICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19pY29uLS1jbG9zZVwiKS5jbGFzc0xpc3QudG9nZ2xlKFwiY2xvc2UtYWN0aXZlXCIpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jbG9zZUljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMudG9nZ2xlSWNvbnNDbGFzc2VzKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNob3BCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMub3Blbk5hdigpO1xuICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKFwiLnNpZGViYXItbmF2LXdyYXBwZXItLWRlc2t0b3BcIikuY2xhc3NMaXN0LnRvZ2dsZShcIm5hdi1hY3RpdmVcIik7XG4gICAgfSk7XG5cbiAgICB0aGlzLmNsb3NlSWNvbkRlc2t0b3AuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuY2xvc2VOYXYoKTtcbiAgICAgIHRoaXMucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFyLW5hdi13cmFwcGVyLS1kZXNrdG9wXCIpLmNsYXNzTGlzdC50b2dnbGUoXCJuYXYtYWN0aXZlXCIpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5kZXNrdG9wV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZU5hdigpO1xuICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKFwiLnNpZGViYXItbmF2LXdyYXBwZXItLWRlc2t0b3BcIikuY2xhc3NMaXN0LnJlbW92ZShcIm5hdi1hY3RpdmVcIik7XG4gICAgfSk7XG5cbiAgICB0aGlzLmxpbmtzLmZvckVhY2goKGxpbmspID0+XG4gICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGluay5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnRvZ2dsZShcInNlY29uZGFyeS1tZW51LW9wZW5cIik7XG4gICAgICB9KVxuICAgICk7XG5cbiAgICB0aGlzLmJhY2tCdXR0b25zLmZvckVhY2goKGJhY2tCdXR0b24pID0+XG4gICAgICBiYWNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2Vjb25kYXJ5LW1lbnUtb3BlblwiKS5jbGFzc0xpc3QudG9nZ2xlKFwic2Vjb25kYXJ5LW1lbnUtb3BlblwiKTtcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIHRoaXMuY2xvc2VCdXR0b25zLmZvckVhY2goKGNsb3NlQnV0dG9uKSA9PlxuICAgICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnRvZ2dsZUljb25zQ2xhc3NlcygpO1xuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5idXJnZXJJY29uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnRvZ2dsZUljb25zQ2xhc3Nlcyk7XG4gICAgdGhpcy5jbG9zZUljb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMudG9nZ2xlSWNvbnNDbGFzc2VzKTtcbiAgICB0aGlzLnNob3BCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMub3Blbk5hdik7XG4gICAgdGhpcy5jbG9zZUljb25EZXNrdG9wLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlTmF2KTtcbiAgICB0aGlzLmRlc2t0b3BXcmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlTmF2KTtcblxuICAgIHRoaXMubGlua3MuZm9yRWFjaCgobGluaykgPT5cbiAgICAgIGxpbmsucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBsaW5rLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QudG9nZ2xlKFwic2Vjb25kYXJ5LW1lbnUtb3BlblwiKTtcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIHRoaXMuYmFja0J1dHRvbnMuZm9yRWFjaCgoYmFja0J1dHRvbikgPT5cbiAgICAgIGJhY2tCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWNvbmRhcnktbWVudS1vcGVuXCIpLmNsYXNzTGlzdC50b2dnbGUoXCJzZWNvbmRhcnktbWVudS1vcGVuXCIpO1xuICAgICAgfSlcbiAgICApO1xuXG4gICAgdGhpcy5jbG9zZUJ1dHRvbnMuZm9yRWFjaCgoY2xvc2VCdXR0b24pID0+XG4gICAgICBjbG9zZUJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMudG9nZ2xlSWNvbnNDbGFzc2VzKCk7XG4gICAgICB9KVxuICAgICk7XG4gIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwic2lkZWJhci10b2dnbGVcIiwgU2lkZWJhclRvZ2dsZSk7XG4iLCIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIGNsYXNzIFNpZGViYXJUb2dnbGUgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4vLyAgIGNvbnN0cnVjdG9yKCkge1xuLy8gICAgIHN1cGVyKCk7XG5cbi8vICAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2lkZWJhci10b2dnbGUtdGVtcGxhdGVcIik7XG5cbi8vICAgICBjb25zdCBidXJnZXJJY29uID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwiLm5hdl9faWNvbi0tYnVyZ2VyXCIpO1xuLy8gICAgIGNvbnN0IGNsb3NlSWNvbiA9IHRoaXMucXVlcnlTZWxlY3RvcihcIi5uYXZfX2ljb24tLWNsb3NlXCIpO1xuLy8gICAgIGNvbnN0IHNob3BCdXR0b24gPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19saW5rLS1TaG9wXCIpO1xuLy8gICAgIGNvbnN0IGNsb3NlSWNvbkRlc2t0b3AgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19pY29uLS1jbG9zZS0tZGVza3RvcFwiKTtcbi8vICAgICBjb25zdCBkZXNrdG9wV3JhcHBlciA9IHRoaXMucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFyLW5hdi1vdmVybGF5LS1kZXNrdG9wXCIpO1xuLy8gICAgIGNvbnN0IGxpbmtzID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKFwiLmpzLXNpZGViYXItbmF2X19saW5rXCIpO1xuLy8gICAgIGNvbnN0IGJhY2tCdXR0b25zID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKFxuLy8gICAgICAgXCIuanMtc2Vjb25kYXJ5LW1lbnVfX3RvcC1iYXItLWJhY2tcIlxuLy8gICAgICk7XG4vLyAgICAgY29uc3QgY2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbi8vICAgICAgIFwiLmpzLXNlY29uZGFyeS1tZW51X190b3AtYmFyLS1jbG9zZVwiXG4vLyAgICAgKTtcblxuLy8gICAgIGNvbnN0IHRvZ2dsZUljb25zQ2xhc3NlcyA9ICgpID0+IHtcbi8vICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFyLW5hdi13cmFwcGVyLS1tb2JpbGVcIikuY2xhc3NMaXN0LnRvZ2dsZShcbi8vICAgICAgICAgXCJuYXYtYWN0aXZlXCJcbi8vICAgICAgICk7XG4vLyAgICAgICBjb25zdCBpY29ucyA9IHRoaXMucXVlcnlTZWxlY3RvckFsbChcIi5uYXZfX2ljb25cIik7XG4vLyAgICAgICBpY29ucy5mb3JFYWNoKChpY29uKSA9PiBpY29uLmNsYXNzTGlzdC50b2dnbGUoXCJuYXZfX2ljb24tLWpzLWhpZGRlblwiKSk7XG4vLyAgICAgfTtcblxuLy8gICAgIGNvbnN0IG9wZW5OYXYgPSAoKSA9PiB7XG4vLyAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCIjc2lkZWJhci1tZW51LWRlc2t0b3BcIikuc3R5bGUubGVmdCA9IFwiMFwiO1xuLy8gICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKFwiI3NpZGViYXItbmF2LW92ZXJsYXktLWRlc2t0b3BcIikuc3R5bGUuZGlzcGxheSA9XG4vLyAgICAgICAgIFwiYmxvY2tcIjtcbi8vICAgICB9O1xuXG4vLyAgICAgY29uc3QgY2xvc2VOYXYgPSAoKSA9PiB7XG4vLyAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCIjc2lkZWJhci1tZW51LWRlc2t0b3BcIikuc3R5bGUubGVmdCA9IFwiLTEwMCVcIjtcbi8vICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcihcIiNzaWRlYmFyLW5hdi1vdmVybGF5LS1kZXNrdG9wXCIpLnN0eWxlLmRpc3BsYXkgPVxuLy8gICAgICAgICBcIm5vbmVcIjtcbi8vICAgICB9O1xuXG4vLyAgICAgYnVyZ2VySWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4vLyAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuLy8gICAgICAgdG9nZ2xlSWNvbnNDbGFzc2VzKCk7XG4vLyAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19pY29uLS1jbG9zZVwiKS5jbGFzc0xpc3QudG9nZ2xlKFwiY2xvc2UtYWN0aXZlXCIpO1xuLy8gICAgIH0pO1xuXG4vLyAgICAgY2xvc2VJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbi8vICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4vLyAgICAgICB0b2dnbGVJY29uc0NsYXNzZXMoKTtcbi8vICAgICB9KTtcblxuLy8gICAgIHNob3BCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuLy8gICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbi8vICAgICAgIG9wZW5OYXYoKTtcbi8vICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFyLW5hdi13cmFwcGVyLS1kZXNrdG9wXCIpLmNsYXNzTGlzdC50b2dnbGUoXG4vLyAgICAgICAgIFwibmF2LWFjdGl2ZVwiXG4vLyAgICAgICApO1xuLy8gICAgIH0pO1xuXG4vLyAgICAgY2xvc2VJY29uRGVza3RvcC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4vLyAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuLy8gICAgICAgY2xvc2VOYXYoKTtcbi8vICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFyLW5hdi13cmFwcGVyLS1kZXNrdG9wXCIpLmNsYXNzTGlzdC50b2dnbGUoXG4vLyAgICAgICAgIFwibmF2LWFjdGl2ZVwiXG4vLyAgICAgICApO1xuLy8gICAgIH0pO1xuXG4vLyAgICAgZGVza3RvcFdyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbi8vICAgICAgIGNsb3NlTmF2KCk7XG4vLyAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCIuc2lkZWJhci1uYXYtd3JhcHBlci0tZGVza3RvcFwiKS5jbGFzc0xpc3QucmVtb3ZlKFxuLy8gICAgICAgICBcIm5hdi1hY3RpdmVcIlxuLy8gICAgICAgKTtcbi8vICAgICB9KTtcblxuLy8gICAgIGxpbmtzLmZvckVhY2goKGxpbmspID0+XG4vLyAgICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbi8vICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbi8vICAgICAgICAgbGluay5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnRvZ2dsZShcInNlY29uZGFyeS1tZW51LW9wZW5cIik7XG4vLyAgICAgICB9KVxuLy8gICAgICk7XG5cbi8vICAgICBiYWNrQnV0dG9ucy5mb3JFYWNoKChiYWNrQnV0dG9uKSA9PlxuLy8gICAgICAgYmFja0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4vLyAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4vLyAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuLy8gICAgICAgICBkb2N1bWVudFxuLy8gICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnNlY29uZGFyeS1tZW51LW9wZW5cIilcbi8vICAgICAgICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcInNlY29uZGFyeS1tZW51LW9wZW5cIik7XG4vLyAgICAgICB9KVxuLy8gICAgICk7XG5cbi8vICAgICBjbG9zZUJ1dHRvbnMuZm9yRWFjaCgoY2xvc2VCdXR0b24pID0+XG4vLyAgICAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4vLyAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4vLyAgICAgICAgIHRvZ2dsZUljb25zQ2xhc3NlcygpO1xuLy8gICAgICAgfSlcbi8vICAgICApO1xuLy8gICB9XG4vLyB9XG5cbi8vIGN1c3RvbUVsZW1lbnRzLmRlZmluZShcInNpZGViYXItdG9nZ2xlXCIsIFNpZGViYXJUb2dnbGUpO1xuXG5jbGFzcyBTaWRlYmFyVG9nZ2xlIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcblxuICAgIHRoaXMuYnVyZ2VySWNvbiA9IHRoaXMucXVlcnlTZWxlY3RvcihcIi5uYXZfX2ljb24tLWJ1cmdlclwiKTtcbiAgICB0aGlzLmNsb3NlSWNvbiA9IHRoaXMucXVlcnlTZWxlY3RvcihcIi5uYXZfX2ljb24tLWNsb3NlXCIpO1xuICAgIHRoaXMuc2hvcEJ1dHRvbiA9IHRoaXMucXVlcnlTZWxlY3RvcihcIi5uYXZfX2xpbmstLVNob3BcIik7XG4gICAgdGhpcy5jbG9zZUljb25EZXNrdG9wID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwiLm5hdl9faWNvbi0tY2xvc2UtLWRlc2t0b3BcIik7XG4gICAgdGhpcy5kZXNrdG9wV3JhcHBlciA9IHRoaXMucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFyLW5hdi1vdmVybGF5LS1kZXNrdG9wXCIpO1xuICAgIHRoaXMubGlua3MgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuanMtc2lkZWJhci1uYXZfX2xpbmtcIik7XG4gICAgdGhpcy5iYWNrQnV0dG9ucyA9IHRoaXMucXVlcnlTZWxlY3RvckFsbChcIi5qcy1zZWNvbmRhcnktbWVudV9fdG9wLWJhci0tYmFja1wiKTtcbiAgICB0aGlzLmNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuanMtc2Vjb25kYXJ5LW1lbnVfX3RvcC1iYXItLWNsb3NlXCIpO1xuXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy50b2dnbGVJY29uc0NsYXNzZXMgPSAoKSA9PiB7XG4gICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCIuc2lkZWJhci1uYXYtd3JhcHBlci0tbW9iaWxlXCIpLmNsYXNzTGlzdC50b2dnbGUoXCJuYXYtYWN0aXZlXCIpO1xuICAgICAgY29uc3QgaWNvbnMgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmF2X19pY29uXCIpO1xuICAgICAgaWNvbnMuZm9yRWFjaCgoaWNvbikgPT4gaWNvbi5jbGFzc0xpc3QudG9nZ2xlKFwibmF2X19pY29uLS1qcy1oaWRkZW5cIikpO1xuICAgIH07XG5cbiAgICB0aGlzLm9wZW5OYXYgPSAoKSA9PiB7XG4gICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCIjc2lkZWJhci1tZW51LWRlc2t0b3BcIikuc3R5bGUubGVmdCA9IFwiMFwiO1xuICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKFwiI3NpZGViYXItbmF2LW92ZXJsYXktLWRlc2t0b3BcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zZU5hdiA9ICgpID0+IHtcbiAgICAgIHRoaXMucXVlcnlTZWxlY3RvcihcIiNzaWRlYmFyLW1lbnUtZGVza3RvcFwiKS5zdHlsZS5sZWZ0ID0gXCItMTAwJVwiO1xuICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKFwiI3NpZGViYXItbmF2LW92ZXJsYXktLWRlc2t0b3BcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH07XG5cbiAgICB0aGlzLmJ1cmdlckljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMudG9nZ2xlSWNvbnNDbGFzc2VzKCk7XG4gICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19pY29uLS1jbG9zZVwiKS5jbGFzc0xpc3QudG9nZ2xlKFwiY2xvc2UtYWN0aXZlXCIpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jbG9zZUljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMudG9nZ2xlSWNvbnNDbGFzc2VzKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNob3BCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMub3Blbk5hdigpO1xuICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKFwiLnNpZGViYXItbmF2LXdyYXBwZXItLWRlc2t0b3BcIikuY2xhc3NMaXN0LnRvZ2dsZShcIm5hdi1hY3RpdmVcIik7XG4gICAgfSk7XG5cbiAgICB0aGlzLmNsb3NlSWNvbkRlc2t0b3AuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuY2xvc2VOYXYoKTtcbiAgICAgIHRoaXMucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFyLW5hdi13cmFwcGVyLS1kZXNrdG9wXCIpLmNsYXNzTGlzdC50b2dnbGUoXCJuYXYtYWN0aXZlXCIpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5kZXNrdG9wV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZU5hdigpO1xuICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKFwiLnNpZGViYXItbmF2LXdyYXBwZXItLWRlc2t0b3BcIikuY2xhc3NMaXN0LnJlbW92ZShcIm5hdi1hY3RpdmVcIik7XG4gICAgfSk7XG5cbiAgICB0aGlzLmxpbmtzLmZvckVhY2goKGxpbmspID0+XG4gICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGluay5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnRvZ2dsZShcInNlY29uZGFyeS1tZW51LW9wZW5cIik7XG4gICAgICB9KVxuICAgICk7XG5cbiAgICB0aGlzLmJhY2tCdXR0b25zLmZvckVhY2goKGJhY2tCdXR0b24pID0+XG4gICAgICBiYWNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2Vjb25kYXJ5LW1lbnUtb3BlblwiKS5jbGFzc0xpc3QudG9nZ2xlKFwic2Vjb25kYXJ5LW1lbnUtb3BlblwiKTtcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIHRoaXMuY2xvc2VCdXR0b25zLmZvckVhY2goKGNsb3NlQnV0dG9uKSA9PlxuICAgICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnRvZ2dsZUljb25zQ2xhc3NlcygpO1xuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5idXJnZXJJY29uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnRvZ2dsZUljb25zQ2xhc3Nlcyk7XG4gICAgdGhpcy5jbG9zZUljb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMudG9nZ2xlSWNvbnNDbGFzc2VzKTtcbiAgICB0aGlzLnNob3BCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMub3Blbk5hdik7XG4gICAgdGhpcy5jbG9zZUljb25EZXNrdG9wLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlTmF2KTtcbiAgICB0aGlzLmRlc2t0b3BXcmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlTmF2KTtcblxuICAgIHRoaXMubGlua3MuZm9yRWFjaCgobGluaykgPT5cbiAgICAgIGxpbmsucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBsaW5rLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QudG9nZ2xlKFwic2Vjb25kYXJ5LW1lbnUtb3BlblwiKTtcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIHRoaXMuYmFja0J1dHRvbnMuZm9yRWFjaCgoYmFja0J1dHRvbikgPT5cbiAgICAgIGJhY2tCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWNvbmRhcnktbWVudS1vcGVuXCIpLmNsYXNzTGlzdC50b2dnbGUoXCJzZWNvbmRhcnktbWVudS1vcGVuXCIpO1xuICAgICAgfSlcbiAgICApO1xuXG4gICAgdGhpcy5jbG9zZUJ1dHRvbnMuZm9yRWFjaCgoY2xvc2VCdXR0b24pID0+XG4gICAgICBjbG9zZUJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMudG9nZ2xlSWNvbnNDbGFzc2VzKCk7XG4gICAgICB9KVxuICAgICk7XG4gIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwic2lkZWJhci10b2dnbGVcIiwgU2lkZWJhclRvZ2dsZSk7XG5cbn0se31dfSx7fSxbMV0pXG5cbiJdfQ==
