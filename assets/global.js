"use strict";function ownKeys(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(i),!0).forEach(function(t){_defineProperty(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function _defineProperty(t,e,i){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0===i)return("string"===e?String:Number)(t);i=i.call(t,e||"default");if("object"!==_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var i,n,s,o,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return n=!(i=!0),{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){n=!0,s=t},f:function(){try{i||null==r.return||r.return()}finally{if(n)throw s}}};if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length)return r&&(t=r),o=0,{s:e=function(){},n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){var i;if(t)return"string"==typeof t?_arrayLikeToArray(t,e):"Map"===(i="Object"===(i=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function n(s,o,r){function a(e,t){if(!o[e]){if(!s[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(l)return l(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}i=o[e]={exports:{}},s[e][0].call(i.exports,function(t){return a(s[e][1][t]||t)},i,i.exports,n,s,o,r)}return o[e].exports}for(var l="function"==typeof require&&require,t=0;t<r.length;t++)a(r[t]);return a}({1:[function(t,e,i){var n,s;n="undefined"!=typeof window?window:this,s=function(){function t(){}var e=t.prototype;return e.on=function(t,e){var i;return t&&e&&((i=(i=this._events=this._events||{})[t]=i[t]||[]).includes(e)||i.push(e)),this},e.once=function(t,e){var i;return t&&e&&(this.on(t,e),((i=this._onceEvents=this._onceEvents||{})[t]=i[t]||{})[e]=!0),this},e.off=function(t,e){t=this._events&&this._events[t];return t&&t.length&&-1!=(e=t.indexOf(e))&&t.splice(e,1),this},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];var n,s=this._onceEvents&&this._onceEvents[t],o=_createForOfIteratorHelper(i);try{for(o.s();!(n=o.n()).done;){var r=n.value;s&&s[r]&&(this.off(t,r),delete s[r]),r.apply(this,e)}}catch(t){o.e(t)}finally{o.f()}}return this},e.allOff=function(){return delete this._events,delete this._onceEvents,this},t},"object"==_typeof(e)&&e.exports?e.exports=s():n.EvEmitter=s()},{}],2:[function(t,e,i){var n,s;n=this,s=function(e){var i={extend:function(t,e){return Object.assign(t,e)},modulo:function(t,e){return(t%e+e)%e},makeArray:function(t){return Array.isArray(t)?t:null==t?[]:"object"==_typeof(t)&&"number"==typeof t.length?_toConsumableArray(t):[t]},removeFrom:function(t,e){e=t.indexOf(e);-1!=e&&t.splice(e,1)},getParent:function(t,e){for(;t.parentNode&&t!=document.body;)if((t=t.parentNode).matches(e))return t},getQueryElement:function(t){return"string"==typeof t?document.querySelector(t):t},handleEvent:function(t){var e="on"+t.type;this[e]&&this[e](t)},filterFindElements:function(t,n){return(t=i.makeArray(t)).filter(function(t){return t instanceof HTMLElement}).reduce(function(t,e){var i;return n?(e.matches(n)&&t.push(e),i=e.querySelectorAll(n),t=t.concat.apply(t,_toConsumableArray(i))):t.push(e),t},[])},debounceMethod:function(t,e,i){i=i||100;var n=t.prototype[e],s=e+"Timeout";t.prototype[e]=function(){var t=this,e=(clearTimeout(this[s]),arguments);this[s]=setTimeout(function(){n.apply(t,e),delete t[s]},i)}},docReady:function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},toDashed:function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()}},a=e.console;return i.htmlInit=function(o,r){i.docReady(function(){var n="data-"+i.toDashed(r),t=document.querySelectorAll("[".concat(n,"]")),s=e.jQuery;_toConsumableArray(t).forEach(function(e){var t,i=e.getAttribute(n);try{t=i&&JSON.parse(i)}catch(t){return void(a&&a.error("Error parsing ".concat(n," on ").concat(e.className,": ").concat(t)))}i=new o(e,t);s&&s.data(e,r,i)})})},i},"object"==_typeof(e)&&e.exports?e.exports=s(n):n.fizzyUIUtils=s(n)},{}],3:[function(t,e,i){var n,s;n="undefined"!=typeof window?window:this,s=function(t,s){var e=t.prototype;return e.insert=function(t,e){var i,n,s,o,r,t=this._makeCells(t);t&&t.length&&(i=this.cells.length,e=void 0===e?i:e,r=t,n=document.createDocumentFragment(),r.forEach(function(t){return n.appendChild(t.element)}),r=n,(s=e===i)?this.slider.appendChild(r):(o=this.cells[e].element,this.slider.insertBefore(r,o)),0===e?this.cells=t.concat(this.cells):s?this.cells=this.cells.concat(t):(r=this.cells.splice(e,i-e),this.cells=this.cells.concat(t).concat(r)),this._sizeCells(t),this.cellChange(e),this.positionSliderAtSelected())},e.append=function(t){this.insert(t,this.cells.length)},e.prepend=function(t){this.insert(t,0)},e.remove=function(t){var i,n=this,t=this.getCells(t);t&&t.length&&(i=this.cells.length-1,t.forEach(function(t){t.remove();var e=n.cells.indexOf(t);i=Math.min(e,i),s.removeFrom(n.cells,t)}),this.cellChange(i),this.positionSliderAtSelected())},e.cellSizeChange=function(t){var t=this.getCell(t);t&&(t.getSize(),t=this.cells.indexOf(t),this.cellChange(t))},e.cellChange=function(t){var e=this.selectedElement,e=(this._positionCells(t),this._updateWrapShiftCells(),this.setGallerySize(),this.getCell(e));e&&(this.selectedIndex=this.getCellSlideIndex(e)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex)},t},"object"==_typeof(e)&&e.exports?e.exports=s(t("./core"),t("fizzy-ui-utils")):s(n.Flickity,n.fizzyUIUtils)},{"./core":6,"fizzy-ui-utils":2}],4:[function(t,e,i){var n,s;n="undefined"!=typeof window?window:this,s=function(e){var t={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){var t=this,e=(this.applyDragForce(),this.applySelectedAttraction(),this.x);this.integratePhysics(),this.positionSlider(),this.settle(e),this.isAnimating&&requestAnimationFrame(function(){return t.animate()})},positionSlider:function(){var t=this.x;this.isWrapping&&(t=e.modulo(t,this.slideableWidth)-this.slideableWidth,this.shiftWrapCells(t)),this.setTranslateX(t,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(t,e){t+=this.cursorPosition,this.options.rightToLeft&&(t=-t);t=this.getPositionValue(t);this.slider.style.transform=e?"translate3d(".concat(t,",0,0)"):"translateX(".concat(t,")")},dispatchScrollEvent:function(){var t,e=this.slides[0];e&&(t=(e=-this.x-e.target)/this.slidesWidth,this.dispatchEvent("scroll",null,[t,e]))},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},settle:function(t){this.isPointerDown||Math.round(100*this.x)!==Math.round(100*t)||this.restingFrames++,2<this.restingFrames&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(t){var e=this.cursorPosition+t,e=(this._shiftCells(this.beforeShiftCells,e,-1),this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition));this._shiftCells(this.afterShiftCells,e,1)},_shiftCells:function(t,i,n){var s=this;t.forEach(function(t){var e=0<i?n:0;s._wrapShiftCell(t,e),i-=t.size.outerWidth})},_unshiftCells:function(t){var e=this;t&&t.length&&t.forEach(function(t){return e._wrapShiftCell(t,0)})},_wrapShiftCell:function(t,e){this._renderCellPosition(t,t.x+this.slideableWidth*e)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(t){this.velocity+=t},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){var t;this.isDraggable&&this.isPointerDown&&(t=this.dragX-this.x-this.velocity,this.applyForce(t))},applySelectedAttraction:function(){var t;this.isDraggable&&this.isPointerDown||this.isFreeScrolling||!this.slides.length||(t=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction,this.applyForce(t))}};return t},"object"==_typeof(e)&&e.exports?e.exports=s(t("fizzy-ui-utils")):(n.Flickity=n.Flickity||{},n.Flickity.animatePrototype=s(n.fizzyUIUtils))},{"fizzy-ui-utils":2}],5:[function(t,e,i){var n,s;n="undefined"!=typeof window?window:this,s=function(t){var e="flickity-cell";function i(t){this.element=t,this.element.classList.add(e),this.x=0,this.unselect()}var n=i.prototype;return n.destroy=function(){this.unselect(),this.element.classList.remove(e),this.element.style.transform="",this.element.removeAttribute("aria-hidden")},n.getSize=function(){this.size=t(this.element)},n.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},n.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},n.remove=function(){this.element.remove()},i},"object"==_typeof(e)&&e.exports?e.exports=s(t("get-size")):(n.Flickity=n.Flickity||{},n.Flickity.Cell=s(n.getSize))},{"get-size":15}],6:[function(t,e,i){var n,s;n="undefined"!=typeof window?window:this,s=function(a,t,e,l,i,h,n){var s=a.getComputedStyle,o=a.console,r=a.jQuery,c=0,u={};function d(t,e){var i,n=l.getQueryElement(t);if(n){if(this.element=n,this.element.flickityGUID)return(i=u[this.element.flickityGUID])&&i.option(e),i;r&&(this.$element=r(this.element)),this.options=_objectSpread({},this.constructor.defaults),this.option(e),this._create()}else o&&o.error("Bad element for Flickity: ".concat(n||t))}d.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},d.create={};var f=d.prototype,p=(Object.assign(f,t.prototype),f._create=function(){var t,e,i=this.options,n=i.resize,s=i.watchCSS,i=i.rightToLeft,o=this.guid=++c;for(t in this.element.flickityGUID=o,(u[o]=this).selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.beginMargin=i?"marginRight":"marginLeft",this.endMargin=i?"marginLeft":"marginRight",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),this.focusableElems=[this.element],(n||s)&&a.addEventListener("resize",this),this.options.on){var r=this.options.on[t];this.on(t,r)}for(e in d.create)d.create[e].call(this);s?this.watchCSS():this.activate()},f.option=function(t){Object.assign(this.options,t)},f.activate=function(){var t,e;this.isActive||(this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),e=this._filterFindCellElements(this.element.children),(t=this.slider).append.apply(t,_toConsumableArray(e)),this.viewport.append(this.slider),this.element.append(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready"))},f._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",this.slider=t},f._filterFindCellElements=function(t){return l.filterFindElements(t,this.options.cellSelector)},f.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._updateWrapShiftCells(),this.setGallerySize()},f._makeCells=function(t){return this._filterFindCellElements(t).map(function(t){return new i(t)})},f.getLastCell=function(){return this.cells[this.cells.length-1]},f.getLastSlide=function(){return this.slides[this.slides.length-1]},f.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},f._positionCells=function(t){var e,i=this,n=(this.maxCellHeight=(t=t||0)&&this.maxCellHeight||0,0);0<t&&(e=this.cells[t-1],n=e.x+e.size.outerWidth),this.cells.slice(t).forEach(function(t){t.x=n,i._renderCellPosition(t,n),n+=t.size.outerWidth,i.maxCellHeight=Math.max(t.size.outerHeight,i.maxCellHeight)}),this.slideableWidth=n,this.updateSlides(),this._containSlides(),this.slidesWidth=this.cells.length?this.getLastSlide().target-this.slides[0].target:0},f._renderCellPosition=function(t,e){e*=this.options.rightToLeft?-1:1,this.options.percentPosition&&(e*=this.size.innerWidth/t.size.width),e=this.getPositionValue(e);t.element.style.transform="translateX( ".concat(e," )")},f._sizeCells=function(t){t.forEach(function(t){return t.getSize()})},f.updateSlides=function(){var n,s,o,r,a=this;this.slides=[],this.cells.length&&(n=this.beginMargin,s=this.endMargin,o=new h(n,s,this.cellAlign),this.slides.push(o),r=this._getCanCellFit(),this.cells.forEach(function(t,e){var i;o.cells.length&&(i=o.outerWidth-o.firstMargin+(t.size.outerWidth-t.size[s]),r(e,i)||(o.updateTarget(),o=new h(n,s,a.cellAlign),a.slides.push(o))),o.addCell(t)}),o.updateTarget(),this.updateSelectedSlide())},f._getCanCellFit=function(){var e,t,i,n=this.options.groupCells;return n?"number"==typeof n?(e=parseInt(n,10),function(t){return t%e!=0}):(t=1,(n="string"==typeof n&&n.match(/^(\d+)%$/))&&(t=parseInt(n[1],10)/100),i=(this.size.innerWidth+1)*t,function(t,e){return e<=i}):function(){return!1}},f._init=f.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},f.getSize=function(){this.size=e(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign},{left:0,center:.5,right:1}),g=(f.setCellAlign=function(){var t=this.options,e=t.cellAlign,t=t.rightToLeft,i=p[e];this.cellAlign=void 0!==i?i:e,t&&(this.cellAlign=1-this.cellAlign)},f.setGallerySize=function(){var t;this.options.setGallerySize&&(t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight,this.viewport.style.height="".concat(t,"px"))},f._updateWrapShiftCells=function(){var t,e;this.isWrapping=this.getIsWrapping(),this.isWrapping&&(this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells),e=this.cursorPosition,t=this.cells.length-1,this.beforeShiftCells=this._getGapCells(e,t,-1),e=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(e,0,1))},f.getIsWrapping=function(){var t=this.options.wrapAround;if(!t||this.slides.length<2)return!1;if("fill"===t){var e=this.slideableWidth-this.size.innerWidth;if(!(e>this.size.innerWidth)){var i,n=_createForOfIteratorHelper(this.cells);try{for(n.s();!(i=n.n()).done;)if(i.value.size.outerWidth>e)return!1}catch(t){n.e(t)}finally{n.f()}}}return!0},f._getGapCells=function(t,e,i){for(var n=[];0<t;){var s=this.cells[e];if(!s)break;n.push(s),e+=i,t-=s.size.outerWidth}return n},f._containSlides=function(){var e,i,n,s=this;this.options.contain&&!this.isWrapping&&this.cells.length&&((e=this.slideableWidth-this.getLastCell().size[this.endMargin])<this.size.innerWidth?this.slides.forEach(function(t){t.target=e*s.cellAlign}):(i=this.cursorPosition+this.cells[0].size[this.beginMargin],n=e-this.size.innerWidth*(1-this.cellAlign),this.slides.forEach(function(t){t.target=Math.max(t.target,i),t.target=Math.min(t.target,n)})))},f.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;this.emitEvent(t,n),r&&this.$element&&(n=t+=this.options.namespaceJQueryEvents?".flickity":"",e&&((e=new r.Event(e)).type=t,n=e),this.$element.trigger(n,i))},["dragStart","dragMove","dragEnd","pointerDown","pointerMove","pointerEnd","staticClick"]),m=f.emitEvent,t=(f.emitEvent=function(t,e){var i,n;"staticClick"===t&&(i=(n=this.getParentCell(e[0].target))&&n.element,n=n&&this.cells.indexOf(n),e=e.concat(i,n)),m.call(this,t,e),g.includes(t)&&r&&this.$element&&(t+=this.options.namespaceJQueryEvents?".flickity":"",i=e.shift(0),(n=new r.Event(i)).type=t,this.$element.trigger(n,e))},f.select=function(t,e,i){this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.isWrapping||e)&&(t=l.modulo(t,this.slides.length)),this.slides[t])&&(e=this.selectedIndex,this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!==e)&&this.dispatchEvent("change",null,[t])},f._wrapSelect=function(t){var e,i,n,s,o,r;this.isWrapping&&(e=this.selectedIndex,i=this.slideableWidth,n=this.slides.length,this.isDragSelect||(r=l.modulo(t,n),s=Math.abs(r-e),o=Math.abs(r+n-e),r=Math.abs(r-n-e),o<s?t+=n:r<s&&(t-=n)),t<0?this.x-=i:n<=t&&(this.x+=i))},f.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},f.next=function(t,e){this.select(this.selectedIndex+1,t,e)},f.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),(this.selectedSlide=t).select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},f.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},f.selectInitialIndex=function(){var t=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(t&&"string"==typeof t)if(this.queryCell(t))return void this.selectCell(t,!1,!0);var e=0;t&&this.slides[t]&&(e=t),this.select(e,!1,!0)}},f.selectCell=function(t,e,i){var t=this.queryCell(t);t&&(t=this.getCellSlideIndex(t),this.select(t,e,i))},f.getCellSlideIndex=function(e){var t=this.slides.find(function(t){return t.cells.includes(e)});return this.slides.indexOf(t)},f.getCell=function(t){var e,i=_createForOfIteratorHelper(this.cells);try{for(i.s();!(e=i.n()).done;){var n=e.value;if(n.element===t)return n}}catch(t){i.e(t)}finally{i.f()}},f.getCells=function(t){var e=this;return(t=l.makeArray(t)).map(function(t){return e.getCell(t)}).filter(Boolean)},f.getCellElements=function(){return this.cells.map(function(t){return t.element})},f.getParentCell=function(t){var e=this.getCell(t);return e||(e=t.closest(".flickity-slider > *"),this.getCell(e))},f.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(i<=1+2*t)return this.getCellElements();for(var n=[],s=e-t;s<=e+t;s++){var o=this.isWrapping?l.modulo(s,i):s,o=this.slides[o];o&&(n=n.concat(o.getCellElements()))}return n},f.queryCell=function(t){return"number"==typeof t?this.cells[t]:("string"==typeof t&&!t.match(/^[#.]?[\d/]/)&&(t=this.element.querySelector(t)),this.getCell(t))},f.uiChange=function(){this.emitEvent("uiChange")},f.onresize=function(){this.watchCSS(),this.resize()},l.debounceMethod(d,"onresize",150),f.resize=function(){var t;!this.isActive||this.isAnimating||this.isDragging||(this.getSize(),this.isWrapping&&(this.x=l.modulo(this.x,this.slideableWidth)),this.positionCells(),this._updateWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize"),t=this.selectedElements&&this.selectedElements[0],this.selectCell(t,!1,!0))},f.watchCSS=function(){this.options.watchCSS&&(s(this.element,":after").content.includes("flickity")?this.activate():this.deactivate())},f.onkeydown=function(t){var e=document.activeElement,t=d.keyboardHandlers[t.key];this.options.accessibility&&e&&t&&this.focusableElems.some(function(t){return e===t})&&t.call(this)},d.keyboardHandlers={ArrowLeft:function(){this.uiChange(),this[this.options.rightToLeft?"next":"previous"]()},ArrowRight:function(){this.uiChange(),this[this.options.rightToLeft?"previous":"next"]()}},f.focus=function(){this.element.focus({preventScroll:!0})},f.deactivate=function(){var t;this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach(function(t){return t.destroy()}),this.viewport.remove(),(t=this.element).append.apply(t,_toConsumableArray(this.slider.children)),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},f.destroy=function(){this.deactivate(),a.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),r&&this.$element&&r.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete u[this.guid]},Object.assign(f,n),d.data=function(t){if(t=l.getQueryElement(t))return u[t.flickityGUID]},l.htmlInit(d,"flickity"),a.jQueryBridget);return r&&t&&t("flickity",d,r),d.setJQuery=function(t){r=t},d.Cell=i,d.Slide=h,d},"object"==_typeof(e)&&e.exports?e.exports=s(n,t("ev-emitter"),t("get-size"),t("fizzy-ui-utils"),t("./cell"),t("./slide"),t("./animate")):(e=n.Flickity,n.Flickity=s(n,n.EvEmitter,n.getSize,n.fizzyUIUtils,e.Cell,e.Slide,e.animatePrototype))},{"./animate":4,"./cell":5,"./slide":14,"ev-emitter":1,"fizzy-ui-utils":2,"get-size":15}],7:[function(t,e,i){var n,s;n="undefined"!=typeof window?window:this,s=function(s,t,e,o){Object.assign(t.defaults,{draggable:">1",dragThreshold:3});var i=t.prototype;function r(){return{x:s.pageXOffset,y:s.pageYOffset}}return Object.assign(i,e.prototype),i.touchActionValue="",t.create.drag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable),this.on("pointerDown",this.handlePointerDown),this.on("pointerUp",this.handlePointerUp),this.on("pointerDown",this.handlePointerDone),this.on("dragStart",this.handleDragStart),this.on("dragMove",this.handleDragMove),this.on("dragEnd",this.handleDragEnd),this.on("staticClick",this.handleStaticClick)},i.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},i.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},i.updateDraggable=function(){">1"===this.options.draggable?this.isDraggable=1<this.slides.length:this.isDraggable=this.options.draggable,this.element.classList.toggle("is-draggable",this.isDraggable)},i._uiChangeDrag=function(){delete this.isFreeScrolling},i.handlePointerDown=function(t){var e,i,n;this.isDraggable&&(e="touchstart"===t.type,i="touch"===t.pointerType,n=t.target.matches("input, textarea, select"),e||i||n||t.preventDefault(),n||this.focus(),document.activeElement!==this.element&&document.activeElement.blur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=r(),s.addEventListener("scroll",this)),this.bindActivePointerEvents(t)},i.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},i.handlePointerUp=function(){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down")},i.handlePointerDone=function(){s.removeEventListener("scroll",this),delete this.pointerDownScroll},i.handleDragStart=function(){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),s.removeEventListener("scroll",this))},i.handleDragMove=function(t,e,i){this.isDraggable&&(t.preventDefault(),this.previousDragX=this.dragX,t=this.options.rightToLeft?-1:1,this.isWrapping&&(i.x%=this.slideableWidth),i=this.dragStartPosition+i.x*t,this.isWrapping||(i=(i=(t=Math.max(-this.slides[0].target,this.dragStartPosition))<i?.5*(i+t):i)<(t=Math.min(-this.getLastSlide().target,this.dragStartPosition))?.5*(i+t):i),this.dragX=i,this.dragMoveTime=new Date)},i.handleDragEnd=function(){var t,e,i;this.isDraggable&&((t=this.options.freeScroll)&&(this.isFreeScrolling=!0),e=this.dragEndRestingSelect(),t&&!this.isWrapping?(i=this.getRestingPosition(),this.isFreeScrolling=-i>this.slides[0].target&&-i<this.getLastSlide().target):t||e!==this.selectedIndex||(e+=this.dragEndBoostSelect()),delete this.previousDragX,this.isDragSelect=this.isWrapping,this.select(e),delete this.isDragSelect)},i.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),t=this._getClosestResting(t,e,-1);return(i.distance<t.distance?i:t).index},i._getClosestResting=function(t,e,i){for(var n=this.selectedIndex,s=1/0,o=this.options.contain&&!this.isWrapping?function(t,e){return t<=e}:function(t,e){return t<e};o(e,s)&&(s=e,null!==(e=this.getSlideDistance(-t,n+=i)));)e=Math.abs(e);return{distance:s,index:n-i}},i.getSlideDistance=function(t,e){var i=this.slides.length,n=this.options.wrapAround&&1<i,s=n?o.modulo(e,i):e,s=this.slides[s];return s?(n=n?this.slideableWidth*Math.floor(e/i):0,t-(s.target+n)):null},i.dragEndBoostSelect=function(){var t,e;return void 0===this.previousDragX||!this.dragMoveTime||100<new Date-this.dragMoveTime?0:(t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX,0<t&&0<e?1:t<0&&e<0?-1:0)},i.onscroll=function(){var t=r(),e=this.pointerDownScroll.x-t.x,t=this.pointerDownScroll.y-t.y;(3<Math.abs(e)||3<Math.abs(t))&&this.pointerDone()},t},"object"==_typeof(e)&&e.exports?e.exports=s(n,t("./core"),t("unidragger"),t("fizzy-ui-utils")):n.Flickity=s(n,n.Flickity,n.Unidragger,n.fizzyUIUtils)},{"./core":6,"fizzy-ui-utils":2,unidragger:18}],8:[function(t,e,i){var n,s;n="undefined"!=typeof window?window:this,s=function(t,e){return t.create.imagesLoaded=function(){this.on("activate",this.imagesLoaded)},t.prototype.imagesLoaded=function(){var i=this;this.options.imagesLoaded&&e(this.slider).on("progress",function(t,e){e=i.getParentCell(e.img);i.cellSizeChange(e&&e.element),i.options.freeScroll||i.positionSliderAtSelected()})},t},"object"==_typeof(e)&&e.exports?e.exports=s(t("./core"),t("imagesloaded")):s(n.Flickity,n.imagesLoaded)},{"./core":6,imagesloaded:16}],9:[function(t,e,i){var n;"object"==_typeof(e)&&e.exports&&(n=t("./core"),t("./drag"),t("./prev-next-button"),t("./page-dots"),t("./player"),t("./add-remove-cell"),t("./lazyload"),t("./imagesloaded"),e.exports=n)},{"./add-remove-cell":3,"./core":6,"./drag":7,"./imagesloaded":8,"./lazyload":10,"./page-dots":11,"./player":12,"./prev-next-button":13}],10:[function(t,e,i){var n,s;n="undefined"!=typeof window?window:this,s=function(t,e){var s="data-flickity-lazyload",o="".concat(s,"-src"),r="".concat(s,"-srcset"),a="img[".concat(s,"], img[").concat(o,"], ")+"img[".concat(r,"], source[").concat(r,"]"),i=(t.create.lazyLoad=function(){this.on("select",this.lazyLoad),this.handleLazyLoadComplete=this.onLazyLoadComplete.bind(this)},t.prototype);function n(t){if(t.matches("img")){var e=t.getAttribute(s),i=t.getAttribute(o),n=t.getAttribute(r);if(e||i||n)return t}return _toConsumableArray(t.querySelectorAll(a))}function l(t,e){this.img=t,this.onComplete=e,this.load()}return i.lazyLoad=function(){var e=this,t=this.options.lazyLoad;t&&this.getAdjacentCellElements("number"==typeof t?t:0).map(n).flat().forEach(function(t){return new l(t,e.handleLazyLoadComplete)})},i.onLazyLoadComplete=function(t,e){t=this.getParentCell(t),t=t&&t.element;this.cellSizeChange(t),this.dispatchEvent("lazyLoad",e,t)},l.prototype.handleEvent=e.handleEvent,l.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute(s)||this.img.getAttribute(o),e=this.img.getAttribute(r);this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute(s),this.img.removeAttribute(o),this.img.removeAttribute(r)},l.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},l.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},l.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this),(this.img.parentNode.matches("picture")?this.img.parentNode:this.img).classList.add(e),this.onComplete(this.img,t)},t.LazyLoader=l,t},"object"==_typeof(e)&&e.exports?e.exports=s(t("./core"),t("fizzy-ui-utils")):s(n.Flickity,n.fizzyUIUtils)},{"./core":6,"fizzy-ui-utils":2}],11:[function(t,e,i){var n,s;n="undefined"!=typeof window?window:this,s=function(t,i){function e(){this.holder=document.createElement("div"),this.holder.className="flickity-page-dots",this.dots=[]}e.prototype.setDots=function(t){t-=this.dots.length;0<t?this.addDots(t):t<0&&this.removeDots(-t)},e.prototype.addDots=function(t){var e,n=this,t=new Array(t).fill().map(function(t,e){var i=document.createElement("button"),e=(i.setAttribute("type","button"),e+1+n.dots.length);return i.className="flickity-page-dot",i.textContent="View slide ".concat(e),i});(e=this.holder).append.apply(e,_toConsumableArray(t)),this.dots=this.dots.concat(t)},e.prototype.removeDots=function(t){this.dots.splice(this.dots.length-t,t).forEach(function(t){return t.remove()})},e.prototype.updateSelected=function(t){this.selectedDot&&(this.selectedDot.classList.remove("is-selected"),this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[t],this.selectedDot.classList.add("is-selected"),this.selectedDot.setAttribute("aria-current","step"))},t.PageDots=e,Object.assign(t.defaults,{pageDots:!0}),t.create.pageDots=function(){this.options.pageDots&&(this.pageDots=new e,this.handlePageDotsClick=this.onPageDotsClick.bind(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))};var n=t.prototype;return n.activatePageDots=function(){var t;this.pageDots.setDots(this.slides.length),(t=this.focusableElems).push.apply(t,_toConsumableArray(this.pageDots.dots)),this.pageDots.holder.addEventListener("click",this.handlePageDotsClick),this.element.append(this.pageDots.holder)},n.onPageDotsClick=function(t){t=this.pageDots.dots.indexOf(t.target);-1!==t&&(this.uiChange(),this.select(t))},n.updateSelectedPageDots=function(){this.pageDots.updateSelected(this.selectedIndex)},n.updatePageDots=function(){var t,e=this;this.pageDots.dots.forEach(function(t){i.removeFrom(e.focusableElems,t)}),this.pageDots.setDots(this.slides.length),(t=this.focusableElems).push.apply(t,_toConsumableArray(this.pageDots.dots))},n.deactivatePageDots=function(){this.pageDots.holder.remove(),this.pageDots.holder.removeEventListener("click",this.handlePageDotsClick)},t.PageDots=e,t},"object"==_typeof(e)&&e.exports?e.exports=s(t("./core"),t("fizzy-ui-utils")):s(n.Flickity,n.fizzyUIUtils)},{"./core":6,"fizzy-ui-utils":2}],12:[function(t,e,i){var n,s;n="undefined"!=typeof window?window:this,s=function(t){function e(t,e){this.autoPlay=t,this.onTick=e,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}e.prototype.play=function(){"playing"!==this.state&&(document.hidden?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()))},e.prototype.tick=function(){var t,e=this;"playing"===this.state&&(t="number"==typeof this.autoPlay?this.autoPlay:3e3,this.clear(),this.timeout=setTimeout(function(){e.onTick(),e.tick()},t))},e.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},e.prototype.clear=function(){clearTimeout(this.timeout)},e.prototype.pause=function(){"playing"===this.state&&(this.state="paused",this.clear())},e.prototype.unpause=function(){"paused"===this.state&&this.play()},e.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},e.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},Object.assign(t.defaults,{pauseAutoPlayOnHover:!0}),t.create.player=function(){var t=this;this.player=new e(this.options.autoPlay,function(){t.next(!0)}),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)};var i=t.prototype;return i.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},i.playPlayer=function(){this.player.play()},i.stopPlayer=function(){this.player.stop()},i.pausePlayer=function(){this.player.pause()},i.unpausePlayer=function(){this.player.unpause()},i.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},i.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},i.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},t.Player=e,t},"object"==_typeof(e)&&e.exports?e.exports=s(t("./core")):s(n.Flickity)},{"./core":6}],13:[function(t,e,i){var n,s;n="undefined"!=typeof window?window:this,s=function(t){var h="http://www.w3.org/2000/svg";function s(t,e,i){this.increment=t,this.direction=e,this.isPrevious="previous"===t,this.isLeft="left"===e,this._create(i)}s.prototype._create=function(t){var e=this.element=document.createElement("button"),i=(e.className="flickity-button flickity-prev-next-button ".concat(this.increment),this.isPrevious?"Previous":"Next"),i=(e.setAttribute("type","button"),e.setAttribute("aria-label",i),this.disable(),this.createSVG(i,t));e.append(i)},s.prototype.createSVG=function(t,e){var i,n,s,o,r=document.createElementNS(h,"svg"),a=(r.setAttribute("class","flickity-button-icon"),r.setAttribute("viewBox","0 0 100 100"),document.createElementNS(h,"title")),t=(a.append(t),document.createElementNS(h,"path")),l="string"==typeof(e=e)?e:(l=e.x0,i=e.x1,n=e.x2,s=e.x3,o=e.y1,e=e.y2,"M ".concat(l,", 50\n    L ").concat(i,", ").concat(o+50,"\n    L ").concat(n,", ").concat(e+50,"\n    L ").concat(s,", 50\n    L ").concat(n,", ").concat(50-e,"\n    L ").concat(i,", ").concat(50-o,"\n    Z"));return t.setAttribute("d",l),t.setAttribute("class","arrow"),this.isLeft||t.setAttribute("transform","translate(100, 100) rotate(180)"),r.append(a,t),r},s.prototype.enable=function(){this.element.removeAttribute("disabled")},s.prototype.disable=function(){this.element.setAttribute("disabled",!0)},Object.assign(t.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),t.create.prevNextButtons=function(){var t,e,i,n=this;this.options.prevNextButtons&&(t=(e=this.options).rightToLeft,e=e.arrowShape,i=t?"left":"right",this.prevButton=new s("previous",t?"right":"left",e),this.nextButton=new s("next",i,e),this.focusableElems.push(this.prevButton.element),this.focusableElems.push(this.nextButton.element),this.handlePrevButtonClick=function(){n.uiChange(),n.previous()},this.handleNextButtonClick=function(){n.uiChange(),n.next()},this.on("activate",this.activatePrevNextButtons),this.on("select",this.updatePrevNextButtons))};var e=t.prototype;return e.updatePrevNextButtons=function(){var t=this.slides.length?this.slides.length-1:0;this.updatePrevNextButton(this.prevButton,0),this.updatePrevNextButton(this.nextButton,t)},e.updatePrevNextButton=function(t,e){this.isWrapping&&1<this.slides.length?t.enable():(t[(e=this.selectedIndex!==e)?"enable":"disable"](),e||document.activeElement!==t.element||this.focus())},e.activatePrevNextButtons=function(){this.prevButton.element.addEventListener("click",this.handlePrevButtonClick),this.nextButton.element.addEventListener("click",this.handleNextButtonClick),this.element.append(this.prevButton.element,this.nextButton.element),this.on("deactivate",this.deactivatePrevNextButtons)},e.deactivatePrevNextButtons=function(){this.prevButton.element.remove(),this.nextButton.element.remove(),this.prevButton.element.removeEventListener("click",this.handlePrevButtonClick),this.nextButton.element.removeEventListener("click",this.handleNextButtonClick),this.off("deactivate",this.deactivatePrevNextButtons)},t.PrevNextButton=s,t},"object"==_typeof(e)&&e.exports?e.exports=s(t("./core")):s(n.Flickity)},{"./core":6}],14:[function(t,e,i){var n,s;n="undefined"!=typeof window?window:this,s=function(){function t(t,e,i){this.beginMargin=t,this.endMargin=e,this.cellAlign=i,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1===this.cells.length&&(this.x=t.x,this.firstMargin=t.size[this.beginMargin])},e.updateTarget=function(){var t=this.getLastCell(),t=t?t.size[this.endMargin]:0,t=this.outerWidth-(this.firstMargin+t);this.target=this.x+this.firstMargin+t*this.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.cells.forEach(function(t){return t.select()})},e.unselect=function(){this.cells.forEach(function(t){return t.unselect()})},e.getCellElements=function(){return this.cells.map(function(t){return t.element})},t},"object"==_typeof(e)&&e.exports?e.exports=s():(n.Flickity=n.Flickity||{},n.Flickity.Slide=s())},{}],15:[function(t,e,i){var n,s;n=window,s=function(){function u(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var d=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];d.length;return function(t){var i,e,n,s,o,r,a,l,h,c;if((t="string"==typeof t?document.querySelector(t):t)&&"object"==_typeof(t)&&t.nodeType)return"none"==(i=getComputedStyle(t)).display?(e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},d.forEach(function(t){e[t]=0}),e):((n={}).width=t.offsetWidth,n.height=t.offsetHeight,t=n.isBorderBox="border-box"==i.boxSizing,d.forEach(function(t){var e=i[t],e=parseFloat(e);n[t]=isNaN(e)?0:e}),s=n.paddingLeft+n.paddingRight,o=n.paddingTop+n.paddingBottom,r=n.marginLeft+n.marginRight,a=n.marginTop+n.marginBottom,l=n.borderLeftWidth+n.borderRightWidth,h=n.borderTopWidth+n.borderBottomWidth,!1!==(c=u(i.width))&&(n.width=c+(t?0:s+l)),!1!==(c=u(i.height))&&(n.height=c+(t?0:o+h)),n.innerWidth=n.width-(s+l),n.innerHeight=n.height-(o+h),n.outerWidth=n.width+r,n.outerHeight=n.height+a,n)}},"object"==_typeof(e)&&e.exports?e.exports=s():n.getSize=s()},{}],16:[function(t,e,i){var n,s;n="undefined"!=typeof window?window:this,s=function(e,t){var o=e.jQuery,r=e.console;function a(t,e,i){if(!(this instanceof a))return new a(t,e,i);var n,s=t;(s="string"==typeof t?document.querySelectorAll(t):s)?(this.elements=(n=s,Array.isArray(n)?n:"object"==_typeof(n)&&"number"==typeof n.length?_toConsumableArray(n):[n]),this.options={},"function"==typeof e?i=e:Object.assign(this.options,e),i&&this.on("always",i),this.getImages(),o&&(this.jqDeferred=new o.Deferred),setTimeout(this.check.bind(this))):r.error("Bad element for imagesLoaded ".concat(s||t))}(a.prototype=Object.create(t.prototype)).getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};var l=[1,9,11],s=(a.prototype.addElementImages=function(t){"IMG"===t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&l.includes(e)){var i,n=_createForOfIteratorHelper(t.querySelectorAll("img"));try{for(n.s();!(i=n.n()).done;){var s=i.value;this.addImage(s)}}catch(t){n.e(t)}finally{n.f()}if("string"==typeof this.options.background){var o,r=_createForOfIteratorHelper(t.querySelectorAll(this.options.background));try{for(r.s();!(o=r.n()).done;){var a=o.value;this.addElementBackgroundImages(a)}}catch(t){r.e(t)}finally{r.f()}}}},/url\((['"])?(.*?)\1\)/gi);function i(t){this.img=t}function n(t,e){this.url=t,this.element=e,this.img=new Image}return a.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=s.exec(e.backgroundImage);null!==i;){var n=i&&i[2];n&&this.addBackground(n,t),i=s.exec(e.backgroundImage)}},a.prototype.addImage=function(t){t=new i(t);this.images.push(t)},a.prototype.addBackground=function(t,e){t=new n(t,e);this.images.push(t)},a.prototype.check=function(){var e,n=this;this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?(e=function(t,e,i){setTimeout(function(){n.progress(t,e,i)})},this.images.forEach(function(t){t.once("progress",e),t.check()})):this.complete()},a.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&r&&r.log("progress: ".concat(i),t,e)},a.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(t=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[t](this))},(i.prototype=Object.create(t.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src)},i.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},i.prototype.confirm=function(t,e){this.isLoaded=t;t=this.img.parentNode,t="PICTURE"===t.nodeName?t:this.img;this.emitEvent("progress",[this,t,e])},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(n.prototype=Object.create(i.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},n.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},(a.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((o=t).fn.imagesLoaded=function(t,e){return new a(this,t,e).jqDeferred.promise(o(this))})})(),a},"object"==_typeof(e)&&e.exports?e.exports=s(n,t("ev-emitter")):n.imagesLoaded=s(n,n.EvEmitter)},{"ev-emitter":1}],17:[function(t,e,i){var n="undefined"!=typeof window?window:{},s=function(n,d,o){var f,p,t,g,F,r,m,e,c,j,a,O,B,i,N,l,u,v,H,y,b,C,U,E,R,q,X,G,s,h,V,Q,w,S,$,x,J,K,Y,z,A,D,_,P,Z,tt,et,it,L,nt,st,ot,rt,k,I,W,at,M,lt,ht,ct,T,ut,dt,ft,pt,gt,mt,vt={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in p=n.lazySizesConfig||n.lazysizesConfig||{},vt)t in p||(p[t]=vt[t]);return d&&d.getElementsByClassName?(g=d.documentElement,F=n.HTMLPictureElement,m="getAttribute",e=n[r="addEventListener"].bind(n),c=n.setTimeout,j=n.requestAnimationFrame||c,a=n.requestIdleCallback,O=/^picture$/i,B=["load","error","lazyincluded","_lazyloaded"],i={},N=Array.prototype.forEach,l=function(t,e){return i[e]||(i[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),i[e].test(t[m]("class")||"")&&i[e]},u=function(t,e){l(t,e)||t.setAttribute("class",(t[m]("class")||"").trim()+" "+e)},v=function(t,e){(e=l(t,e))&&t.setAttribute("class",(t[m]("class")||"").replace(e," "))},H=function t(e,i,n){var s=n?r:"removeEventListener";n&&t(e,i),B.forEach(function(t){e[s](t,i)})},y=function(t,e,i,n,s){var o=d.createEvent("Event");return(i=i||{}).instance=f,o.initEvent(e,!n,!s),o.detail=i,t.dispatchEvent(o),o},b=function(t,e){var i;!F&&(i=n.picturefill||p.pf)?(e&&e.src&&!t[m]("srcset")&&t.setAttribute("srcset",e.src),i({reevaluate:!0,elements:[t]})):e&&e.src&&(t.src=e.src)},C=function(t,e){return(getComputedStyle(t,null)||{})[e]},U=function(t,e,i){for(i=i||t.offsetWidth;i<p.minSize&&e&&!t._lazysizesWidth;)i=e.offsetWidth,e=e.parentNode;return i},G=[],s=X=[],bt._lsFlush=yt,E=bt,h=function(i,t){return t?function(){E(i)}:function(){var t=this,e=arguments;E(function(){i.apply(t,e)})}},V=function(t){function e(){var t=o.now()-n;t<99?c(e,99-t):(a||s)(s)}var i,n,s=function(){i=null,t()};return function(){n=o.now(),i=i||c(e,99)}},st=/^img$/i,ot=/^iframe$/i,rt="onscroll"in n&&!/(gle|ing)bot/.test(navigator.userAgent),W=-1,at=function(t){return(P=null==P?"hidden"==C(d.body,"visibility"):P)||!("hidden"==C(t.parentNode,"visibility")&&"hidden"==C(t,"visibility"))},Z=Et,et=I=k=0,it=p.throttleDelay,L=p.ricTimeout,nt=a&&49<L?function(){a(wt,{timeout:L}),L!==p.ricTimeout&&(L=p.ricTimeout)}:h(function(){c(wt)},!0),lt=h(St),ht=function(t){lt({target:t.target})},ct=h(function(e,t,i,n,s){var o,r,a,l,h;(r=y(e,"lazybeforeunveil",t)).defaultPrevented||(n&&(i?u(e,p.autosizesClass):e.setAttribute("sizes",n)),i=e[m](p.srcsetAttr),n=e[m](p.srcAttr),s&&(o=(l=e.parentNode)&&O.test(l.nodeName||"")),a=t.firesLoad||"src"in e&&(i||n||o),r={target:e},u(e,p.loadingClass),a&&(clearTimeout($),$=c(Ct,2500),H(e,ht,!0)),o&&N.call(l.getElementsByTagName("source"),xt),i?e.setAttribute("srcset",i):n&&!o&&(ot.test(e.nodeName)?(t=n,0==(h=(l=e).getAttribute("data-load-mode")||p.iframeLoadMode)?l.contentWindow.location.replace(t):1==h&&(l.src=t)):e.src=n),s&&(i||o)&&b(e,{src:n})),e._lazyRace&&delete e._lazyRace,v(e,p.lazyClass),E(function(){var t=e.complete&&1<e.naturalWidth;a&&!t||(t&&u(e,p.fastLoadedClass),St(r),e._lazyCache=!0,c(function(){"_lazyCache"in e&&delete e._lazyCache},9)),"lazy"==e.loading&&I--},!0)}),ut=V(function(){p.loadMode=3,M()}),Q={_:function(){J=o.now(),f.elements=d.getElementsByClassName(p.lazyClass),w=d.getElementsByClassName(p.lazyClass+" "+p.preloadClass),e("scroll",M,!0),e("resize",M,!0),e("pageshow",function(t){var e;t.persisted&&(e=d.querySelectorAll("."+p.loadingClass)).length&&e.forEach&&j(function(){e.forEach(function(t){t.complete&&T(t)})})}),n.MutationObserver?new MutationObserver(M).observe(g,{childList:!0,subtree:!0,attributes:!0}):(g[r]("DOMNodeInserted",M,!0),g[r]("DOMAttrModified",M,!0),setInterval(M,999)),e("hashchange",M,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(t){d[r](t,M,!0)}),/d$|^c/.test(d.readyState)?At():(e("load",At),d[r]("DOMContentLoaded",M),c(At,2e4)),f.elements.length?(Et(),E._lsFlush()):M()},checkElems:M=function(t){var e;(t=!0===t)&&(L=33),tt||(tt=!0,(e=it-(o.now()-et))<0&&(e=0),t||e<9?nt():c(nt,e))},unveil:T=function(t){var e,i,n,s;t._lazyRace||!(!(s="auto"==(n=(i=st.test(t.nodeName))&&(t[m](p.sizesAttr)||t[m]("sizes"))))&&S||!i||!t[m]("src")&&!t.srcset||t.complete||l(t,p.errorClass))&&l(t,p.lazyClass)||(e=y(t,"lazyunveilread").detail,s&&dt.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,I++,ct(t,e,s,n,i))},_aLSL:zt},pt=h(function(t,e,i,n){var s,o,r;if(t._lazysizesWidth=n,t.setAttribute("sizes",n+="px"),O.test(e.nodeName||""))for(o=0,r=(s=e.getElementsByTagName("source")).length;o<r;o++)s[o].setAttribute("sizes",n);i.detail.dataAttr||b(t,i.detail)}),dt={_:function(){ft=d.getElementsByClassName(p.autosizesClass),e("resize",gt)},checkElems:gt=V(function(){var t,e=ft.length;if(e)for(t=0;t<e;t++)Dt(ft[t])}),updateElem:Dt},mt=function t(){!t.i&&d.getElementsByClassName&&(t.i=!0,dt._(),Q._())},c(function(){p.init&&mt()}),f={cfg:p,autoSizer:dt,loader:Q,init:mt,uP:b,aC:u,rC:v,hC:l,fire:y,gW:U,rAF:E}):{init:function(){},cfg:p,noSupport:!0};function yt(){var t=s;for(s=X.length?G:X,q=!(R=!0);t.length;)t.shift()();R=!1}function bt(t,e){R&&!e?t.apply(this,arguments):(s.push(t),q||(q=!0,(d.hidden?c:j)(yt)))}function Ct(t){I--,t&&!(I<0)&&t.target||(I=0)}function Et(){var t,e,i,n,s,o,r,a,l,h,c,u=f.elements;if((x=p.loadMode)&&I<8&&(t=u.length)){for(e=0,W++;e<t;e++)if(u[e]&&!u[e]._lazyRace)if(!rt||f.prematureUnveil&&f.prematureUnveil(u[e]))T(u[e]);else if((r=u[e][m]("data-expand"))&&(s=+r)||(s=k),l||(l=!p.expand||p.expand<1?500<g.clientHeight&&500<g.clientWidth?500:370:p.expand,h=(f._defEx=l)*p.expFactor,c=p.hFac,P=null,k<h&&I<1&&2<W&&2<x&&!d.hidden?(k=h,W=0):k=1<x&&1<W&&I<6?l:0),a!==s&&(K=innerWidth+s*c,Y=innerHeight+s,o=-1*s,a=s),h=u[e].getBoundingClientRect(),(_=h.bottom)>=o&&(z=h.top)<=Y&&(D=h.right)>=o*c&&(A=h.left)<=K&&(_||D||A||z)&&(p.loadHidden||at(u[e]))&&(S&&I<3&&!r&&(x<3||W<4)||function(t,e){var i,n=t,s=at(t);for(z-=e,_+=e,A-=e,D+=e;s&&(n=n.offsetParent)&&n!=d.body&&n!=g;)(s=0<(C(n,"opacity")||1))&&"visible"!=C(n,"overflow")&&(i=n.getBoundingClientRect(),s=D>i.left&&A<i.right&&_>i.top-1&&z<i.bottom+1);return s}(u[e],s))){if(T(u[e]),n=!0,9<I)break}else!n&&S&&!i&&I<4&&W<4&&2<x&&(w[0]||p.preloadAfterLoad)&&(w[0]||!r&&(_||D||A||z||"auto"!=u[e][m](p.sizesAttr)))&&(i=w[0]||u[e]);i&&!n&&T(i)}}function wt(){tt=!1,et=o.now(),Z()}function St(t){var e=t.target;e._lazyCache?delete e._lazyCache:(Ct(t),u(e,p.loadedClass),v(e,p.loadingClass),H(e,ht),y(e,"lazyloaded"))}function xt(t){var e,i=t[m](p.srcsetAttr);(e=p.customMedia[t[m]("data-media")||t[m]("media")])&&t.setAttribute("media",e),i&&t.setAttribute("srcset",i)}function zt(){3==p.loadMode&&(p.loadMode=2),ut()}function At(){S||(o.now()-J<999?c(At,999):(S=!0,p.loadMode=3,M(),e("scroll",zt,!0)))}function Dt(t,e,i){var n=t.parentNode;n&&(i=U(t,n,i),(e=y(t,"lazybeforesizes",{width:i,dataAttr:!!e})).defaultPrevented||(i=e.detail.width)&&i!==t._lazysizesWidth&&pt(t,n,e,i))}};s=s(n,n.document,Date),n.lazySizes=s,"object"==_typeof(e)&&e.exports&&(e.exports=s)},{}],18:[function(t,e,i){var n,s;n="undefined"!=typeof window?window:this,s=function(s,t){function e(){}var o,i,t=e.prototype=Object.create(t.prototype),r=(t.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i="ontouchstart"in s?(o="touchstart",["touchmove","touchend","touchcancel"]):s.PointerEvent?(o="pointerdown",["pointermove","pointerup","pointercancel"]):(o="mousedown",["mousemove","mouseup"]),t.touchActionValue="none",t.bindHandles=function(){this._bindHandles("addEventListener",this.touchActionValue)},t.unbindHandles=function(){this._bindHandles("removeEventListener","")},t._bindHandles=function(e,i){var n=this;this.handles.forEach(function(t){t[e](o,n),t[e]("click",n),s.PointerEvent&&(t.style.touchAction=i)})},t.bindActivePointerEvents=function(){var e=this;i.forEach(function(t){s.addEventListener(t,e)})},t.unbindActivePointerEvents=function(){var e=this;i.forEach(function(t){s.removeEventListener(t,e)})},t.withPointer=function(t,e){e.pointerId===this.pointerIdentifier&&this[t](e,e)},t.withTouch=function(t,e){var i,n,s=_createForOfIteratorHelper(e.changedTouches);try{for(s.s();!(n=s.n()).done;){var o=n.value;o.identifier===this.pointerIdentifier&&(i=o)}}catch(t){s.e(t)}finally{s.f()}i&&this[t](e,i)},t.onmousedown=function(t){this.pointerDown(t,t)},t.ontouchstart=function(t){this.pointerDown(t,t.changedTouches[0])},t.onpointerdown=function(t){this.pointerDown(t,t)},["TEXTAREA","INPUT","SELECT","OPTION"]),a=["radio","checkbox","button","submit","image","file"];return t.pointerDown=function(t,e){var i=r.includes(t.target.nodeName),n=a.includes(t.target.type);this.isPointerDown||t.button||i&&!n||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},this.bindActivePointerEvents(),this.emitEvent("pointerDown",[t,e]))},t.onmousemove=function(t){this.pointerMove(t,t)},t.onpointermove=function(t){this.withPointer("pointerMove",t)},t.ontouchmove=function(t){this.withTouch("pointerMove",t)},t.pointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};this.emitEvent("pointerMove",[t,e,i]),!this.isDragging&&this.hasDragStarted(i)&&this.dragStart(t,e),this.isDragging&&this.dragMove(t,e,i)},t.hasDragStarted=function(t){return 3<Math.abs(t.x)||3<Math.abs(t.y)},t.dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.emitEvent("dragStart",[t,e])},t.dragMove=function(t,e,i){this.emitEvent("dragMove",[t,e,i])},t.onmouseup=function(t){this.pointerUp(t,t)},t.onpointerup=function(t){this.withPointer("pointerUp",t)},t.ontouchend=function(t){this.withTouch("pointerUp",t)},t.pointerUp=function(t,e){this.pointerDone(),this.emitEvent("pointerUp",[t,e]),this.isDragging?this.dragEnd(t,e):this.staticClick(t,e)},t.dragEnd=function(t,e){var i=this;this.isDragging=!1,setTimeout(function(){return delete i.isPreventingClicks}),this.emitEvent("dragEnd",[t,e])},t.pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this.unbindActivePointerEvents(),this.emitEvent("pointerDone")},t.onpointercancel=function(t){this.withPointer("pointerCancel",t)},t.ontouchcancel=function(t){this.withTouch("pointerCancel",t)},t.pointerCancel=function(t,e){this.pointerDone(),this.emitEvent("pointerCancel",[t,e])},t.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},t.staticClick=function(t,e){var i=this,n="mouseup"===t.type;n&&this.isIgnoringMouseUp||(this.emitEvent("staticClick",[t,e]),n&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete i.isIgnoringMouseUp},400)))},e},"object"==_typeof(e)&&e.exports?e.exports=s(n,t("ev-emitter")):n.Unidragger=s(n,n.EvEmitter)},{"ev-emitter":1}],19:[function(t,e,i){window.Flickity=t("flickity"),t("lazysizes"),window.PubSub=t("./scripts/pubsub"),window.debounce=function(n,s){var o,r=this;return function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];clearTimeout(o),o=setTimeout(function(){return n.apply(r,e)},s)}},window.throttle=function(n,s){var o=!1,r=null;function a(){null==r?o=!1:(n.apply(void 0,_toConsumableArray(r)),r=null,setTimeout(a,s))}return function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];o?r=e:(n.apply(void 0,e),o=!0,setTimeout(a,s))}}},{"./scripts/pubsub":20,flickity:9,lazysizes:17}],20:[function(t,e,i){e.exports={EVENTS:{cartUpdated:"cart-updated"},subscribers:{},subscribe:function(t,e){var i=this;return void 0===this.subscribers[t]&&(this.subscribers[t]=[]),this.subscribers[t]=[].concat(_toConsumableArray(this.subscribers[t]),[e]),function(){i.subscribers[t]=i.subscribers[t].filter(function(t){return t!==e})}},publish:function(t,e){this.subscribers[t]&&this.subscribers[t].forEach(function(t){t(e)})}}},{}]},{},[19]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvZXYtZW1pdHRlci9ldi1lbWl0dGVyLmpzIiwiZ2xvYmFsLmpzIiwibm9kZV9tb2R1bGVzL2Zpenp5LXVpLXV0aWxzL3V0aWxzLmpzIiwibm9kZV9tb2R1bGVzL2ZsaWNraXR5L2pzL2FkZC1yZW1vdmUtY2VsbC5qcyIsIm5vZGVfbW9kdWxlcy9mbGlja2l0eS9qcy9hbmltYXRlLmpzIiwibm9kZV9tb2R1bGVzL2ZsaWNraXR5L2pzL2NlbGwuanMiLCJub2RlX21vZHVsZXMvZmxpY2tpdHkvanMvY29yZS5qcyIsIm5vZGVfbW9kdWxlcy9mbGlja2l0eS9qcy9kcmFnLmpzIiwibm9kZV9tb2R1bGVzL2ZsaWNraXR5L2pzL2xhenlsb2FkLmpzIiwibm9kZV9tb2R1bGVzL2ZsaWNraXR5L2pzL2ltYWdlc2xvYWRlZC5qcyIsIm5vZGVfbW9kdWxlcy9mbGlja2l0eS9qcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9mbGlja2l0eS9qcy9wYWdlLWRvdHMuanMiLCJub2RlX21vZHVsZXMvZmxpY2tpdHkvanMvcGxheWVyLmpzIiwibm9kZV9tb2R1bGVzL2ZsaWNraXR5L2pzL3ByZXYtbmV4dC1idXR0b24uanMiLCJub2RlX21vZHVsZXMvZ2V0LXNpemUvZ2V0LXNpemUuanMiLCJub2RlX21vZHVsZXMvZmxpY2tpdHkvanMvc2xpZGUuanMiLCJub2RlX21vZHVsZXMvaW1hZ2VzbG9hZGVkL2ltYWdlc2xvYWRlZC5qcyIsIm5vZGVfbW9kdWxlcy9sYXp5c2l6ZXMvbGF6eXNpemVzLmpzIiwibm9kZV9tb2R1bGVzL3VuaWRyYWdnZXIvdW5pZHJhZ2dlci5qcyIsInNyYy9nbG9iYWwuanMiLCJzcmMvc2NyaXB0cy9wdWJzdWIuanMiXSwibmFtZXMiOlsiciIsImUiLCJuIiwidCIsIm8iLCJpIiwiZiIsImMiLCJyZXF1aXJlIiwidSIsImEiLCJFcnJvciIsImNvZGUiLCJwIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiZ2xvYmFsIiwiZmFjdG9yeSIsIndpbmRvdyIsInRoaXMiLCJFdkVtaXR0ZXIiLCJwcm90byIsInByb3RvdHlwZSIsIm9uIiwiZXZlbnROYW1lIiwibGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJldmVudHMiLCJfZXZlbnRzIiwiaW5jbHVkZXMiLCJwdXNoIiwib25jZSIsIm9uY2VFdmVudHMiLCJfb25jZUV2ZW50cyIsIm9mZiIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImVtaXRFdmVudCIsImFyZ3MiLCJzbGljZSIsIl9zdGVwIiwib25jZUxpc3RlbmVycyIsIl9pdGVyYXRvciIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwicyIsImRvbmUiLCJ2YWx1ZSIsImFwcGx5IiwiZXJyIiwiYWxsT2ZmIiwiX3R5cGVvZiIsIjIiLCJ1dGlscyIsImIiLCJPYmplY3QiLCJhc3NpZ24iLCJudW0iLCJkaXYiLCJvYmoiLCJBcnJheSIsImlzQXJyYXkiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnkiLCJlbGVtIiwic2VsZWN0b3IiLCJwYXJlbnROb2RlIiwiZG9jdW1lbnQiLCJib2R5IiwibWF0Y2hlcyIsInF1ZXJ5U2VsZWN0b3IiLCJldmVudCIsIm1ldGhvZCIsInR5cGUiLCJlbGVtcyIsIm1ha2VBcnJheSIsImZpbHRlciIsIkhUTUxFbGVtZW50IiwicmVkdWNlIiwiZmZFbGVtcyIsImNoaWxkRWxlbXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29uY2F0IiwiX2NsYXNzIiwibWV0aG9kTmFtZSIsInRocmVzaG9sZCIsInRpbWVvdXROYW1lIiwiX3RoaXMiLCJjbGVhclRpbWVvdXQiLCJhcmd1bWVudHMiLCJzZXRUaW1lb3V0Iiwib25Eb2NSZWFkeSIsInJlYWR5U3RhdGUiLCJhZGRFdmVudExpc3RlbmVyIiwic3RyIiwicmVwbGFjZSIsIm1hdGNoIiwiJDEiLCIkMiIsInRvTG93ZXJDYXNlIiwiY29uc29sZSIsImh0bWxJbml0IiwiV2lkZ2V0Q2xhc3MiLCJuYW1lc3BhY2UiLCJkb2NSZWFkeSIsImRhdGFBdHRyIiwidG9EYXNoZWQiLCJkYXRhQXR0ckVsZW1zIiwialF1ZXJ5IiwiZm9yRWFjaCIsIm9wdGlvbnMiLCJhdHRyIiwiZ2V0QXR0cmlidXRlIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJjbGFzc05hbWUiLCJpbnN0YW5jZSIsImRhdGEiLCJmaXp6eVVJVXRpbHMiLCIzIiwiRmxpY2tpdHkiLCJpbnNlcnQiLCJsZW4iLCJmcmFnbWVudCIsImlzQXBwZW5kIiwiaW5zZXJ0Q2VsbEVsZW1lbnQiLCJlbmRDZWxscyIsImNlbGxzIiwiX21ha2VDZWxscyIsInVuZGVmaW5lZCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjZWxsIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50Iiwic2xpZGVyIiwiaW5zZXJ0QmVmb3JlIiwiX3NpemVDZWxscyIsImNlbGxDaGFuZ2UiLCJwb3NpdGlvblNsaWRlckF0U2VsZWN0ZWQiLCJhcHBlbmQiLCJwcmVwZW5kIiwicmVtb3ZlIiwibWluQ2VsbEluZGV4IiwiX3RoaXMyIiwiZ2V0Q2VsbHMiLCJNYXRoIiwibWluIiwicmVtb3ZlRnJvbSIsImNlbGxTaXplQ2hhbmdlIiwiZ2V0Q2VsbCIsImdldFNpemUiLCJjaGFuZ2VkQ2VsbEluZGV4IiwicHJldlNlbGVjdGVkRWxlbSIsInNlbGVjdGVkRWxlbWVudCIsIl9wb3NpdGlvbkNlbGxzIiwiX3VwZGF0ZVdyYXBTaGlmdENlbGxzIiwic2V0R2FsbGVyeVNpemUiLCJzZWxlY3RlZEluZGV4IiwiZ2V0Q2VsbFNsaWRlSW5kZXgiLCJzbGlkZXMiLCJzZWxlY3QiLCIuL2NvcmUiLCJpc0FuaW1hdGluZyIsInJlc3RpbmdGcmFtZXMiLCJhbmltYXRlIiwiX3RoaXMzIiwicHJldmlvdXNYIiwiYXBwbHlEcmFnRm9yY2UiLCJhcHBseVNlbGVjdGVkQXR0cmFjdGlvbiIsIngiLCJpbnRlZ3JhdGVQaHlzaWNzIiwicG9zaXRpb25TbGlkZXIiLCJzZXR0bGUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJpc1dyYXBwaW5nIiwibW9kdWxvIiwic2xpZGVhYmxlV2lkdGgiLCJzaGlmdFdyYXBDZWxscyIsInNldFRyYW5zbGF0ZVgiLCJkaXNwYXRjaFNjcm9sbEV2ZW50IiwiaXMzZCIsImN1cnNvclBvc2l0aW9uIiwicmlnaHRUb0xlZnQiLCJ0cmFuc2xhdGVYIiwiZ2V0UG9zaXRpb25WYWx1ZSIsInN0eWxlIiwidHJhbnNmb3JtIiwicHJvZ3Jlc3MiLCJmaXJzdFNsaWRlIiwicG9zaXRpb25YIiwidGFyZ2V0Iiwic2xpZGVzV2lkdGgiLCJkaXNwYXRjaEV2ZW50Iiwic2VsZWN0ZWRTbGlkZSIsInZlbG9jaXR5IiwicG9zaXRpb24iLCJwZXJjZW50UG9zaXRpb24iLCJyb3VuZCIsInNpemUiLCJpbm5lcldpZHRoIiwiaXNQb2ludGVyRG93biIsImlzRnJlZVNjcm9sbGluZyIsImJlZm9yZUdhcCIsImFmdGVyR2FwIiwiX3NoaWZ0Q2VsbHMiLCJiZWZvcmVTaGlmdENlbGxzIiwiYWZ0ZXJTaGlmdENlbGxzIiwiZ2FwIiwic2hpZnQiLCJfdGhpczQiLCJjZWxsU2hpZnQiLCJfd3JhcFNoaWZ0Q2VsbCIsIm91dGVyV2lkdGgiLCJfdGhpczUiLCJfcmVuZGVyQ2VsbFBvc2l0aW9uIiwiZ2V0RnJpY3Rpb25GYWN0b3IiLCJmb3JjZSIsImRyYWdGb3JjZSIsImlzRHJhZ2dhYmxlIiwiZHJhZ1giLCJhcHBseUZvcmNlIiwic2VsZWN0ZWRBdHRyYWN0aW9uIiwiYW5pbWF0ZVByb3RvdHlwZSIsImZpenp5LXVpLXV0aWxzIiwiNSIsImNlbGxDbGFzc05hbWUiLCJDZWxsIiwiY2xhc3NMaXN0IiwiYWRkIiwidW5zZWxlY3QiLCJkZXN0cm95IiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiZ2V0LXNpemUiLCI2IiwiU2xpZGUiLCJnZXRDb21wdXRlZFN0eWxlIiwiR1VJRCIsImluc3RhbmNlcyIsInF1ZXJ5RWxlbWVudCIsImdldFF1ZXJ5RWxlbWVudCIsImZsaWNraXR5R1VJRCIsIm9wdGlvbiIsIiRlbGVtZW50IiwiX29iamVjdFNwcmVhZCIsImNvbnN0cnVjdG9yIiwiZGVmYXVsdHMiLCJfY3JlYXRlIiwiYWNjZXNzaWJpbGl0eSIsImNlbGxBbGlnbiIsImZyZWVTY3JvbGxGcmljdGlvbiIsImZyaWN0aW9uIiwibmFtZXNwYWNlSlF1ZXJ5RXZlbnRzIiwicmVzaXplIiwiY3JlYXRlIiwiY2VsbEFsaWduU2hvcnRoYW5kcyIsIl90aGlzJG9wdGlvbnMiLCJ3YXRjaENTUyIsImlkIiwiZ3VpZCIsImJlZ2luTWFyZ2luIiwiZW5kTWFyZ2luIiwidmlld3BvcnQiLCJjcmVhdGVFbGVtZW50IiwiX2NyZWF0ZVNsaWRlciIsImZvY3VzYWJsZUVsZW1zIiwiYWN0aXZhdGUiLCJvcHRzIiwiX3RoaXMkc2xpZGVyIiwiY2VsbEVsZW1zIiwiaXNBY3RpdmUiLCJfZmlsdGVyRmluZENlbGxFbGVtZW50cyIsImNoaWxkcmVuIiwicmVsb2FkQ2VsbHMiLCJ0YWJJbmRleCIsInNlbGVjdEluaXRpYWxJbmRleCIsImlzSW5pdEFjdGl2YXRlZCIsImZpbHRlckZpbmRFbGVtZW50cyIsImNlbGxTZWxlY3RvciIsInBvc2l0aW9uQ2VsbHMiLCJtYXAiLCJjZWxsRWxlbSIsImdldExhc3RDZWxsIiwiZ2V0TGFzdFNsaWRlIiwic3RhcnRDZWxsIiwiX3RoaXM2IiwiY2VsbFgiLCJtYXhDZWxsSGVpZ2h0IiwibWF4Iiwib3V0ZXJIZWlnaHQiLCJ1cGRhdGVTbGlkZXMiLCJfY29udGFpblNsaWRlcyIsInJlbmRlclgiLCJ3aWR0aCIsInBvc2l0aW9uVmFsdWUiLCJzbGlkZSIsImNhbkNlbGxGaXQiLCJfdGhpczciLCJfZ2V0Q2FuQ2VsbEZpdCIsInNsaWRlV2lkdGgiLCJmaXJzdE1hcmdpbiIsInVwZGF0ZVRhcmdldCIsImFkZENlbGwiLCJ1cGRhdGVTZWxlY3RlZFNsaWRlIiwibnVtYmVyIiwicGVyY2VudCIsImdyb3VwV2lkdGgiLCJncm91cENlbGxzIiwicGFyc2VJbnQiLCJwZXJjZW50TWF0Y2giLCJfaW5pdCIsInJlcG9zaXRpb24iLCJzZXRDZWxsQWxpZ24iLCJsZWZ0IiwiY2VudGVyIiwicmlnaHQiLCJ1bmlkcmFnZ2VyRXZlbnRzIiwiX3RoaXMkb3B0aW9uczIiLCJzaG9ydGhhbmQiLCJoZWlnaHQiLCJhZGFwdGl2ZUhlaWdodCIsImxhc3RJbmRleCIsImFmdGVyR2FwWCIsImdldElzV3JhcHBpbmciLCJfdW5zaGlmdENlbGxzIiwiYmVmb3JlR2FwWCIsIl9nZXRHYXBDZWxscyIsIndyYXBBcm91bmQiLCJnYXBXaWR0aCIsIl9zdGVwMiIsIl9pdGVyYXRvcjIiLCJnYXBYIiwiY2VsbEluZGV4IiwiaW5jcmVtZW50IiwiY29udGVudFdpZHRoIiwiYmVnaW5Cb3VuZCIsImVuZEJvdW5kIiwiX3RoaXM4IiwiY29udGFpbiIsImVtaXRBcmdzIiwiJGV2ZW50IiwialFFdmVudCIsIkV2ZW50IiwidHJpZ2dlciIsIl9lbWl0RXZlbnQiLCJqUXVlcnlCcmlkZ2V0IiwiY2xpY2tlZENlbGwiLCJnZXRQYXJlbnRDZWxsIiwiaXNXcmFwIiwiaXNJbnN0YW50IiwiX3dyYXBTZWxlY3QiLCJwcmV2SW5kZXgiLCJzdGFydEFuaW1hdGlvbiIsImRlbHRhIiwiYmFja1dyYXBEZWx0YSIsImZvcmV3YXJkV3JhcERlbHRhIiwiaXNEcmFnU2VsZWN0Iiwid3JhcEluZGV4IiwiYWJzIiwicHJldmlvdXMiLCJuZXh0IiwidW5zZWxlY3RTZWxlY3RlZFNsaWRlIiwic2VsZWN0ZWRDZWxscyIsInNlbGVjdGVkRWxlbWVudHMiLCJnZXRDZWxsRWxlbWVudHMiLCJzZWxlY3RlZENlbGwiLCJpbml0aWFsSW5kZXgiLCJxdWVyeUNlbGwiLCJzZWxlY3RDZWxsIiwiY2VsbFNsaWRlIiwiZmluZCIsIl9zdGVwMyIsIl9pdGVyYXRvcjMiLCJfdGhpczkiLCJCb29sZWFuIiwiY2xvc2VzdCIsImdldEFkamFjZW50Q2VsbEVsZW1lbnRzIiwiYWRqQ291bnQiLCJzbGlkZUluZGV4IiwidWlDaGFuZ2UiLCJvbnJlc2l6ZSIsImRlYm91bmNlTWV0aG9kIiwiaXNEcmFnZ2luZyIsImNvbnRlbnQiLCJkZWFjdGl2YXRlIiwib25rZXlkb3duIiwiYWN0aXZlRWxlbWVudCIsImhhbmRsZXIiLCJrZXlib2FyZEhhbmRsZXJzIiwia2V5Iiwic29tZSIsIkFycm93TGVmdCIsIkFycm93UmlnaHQiLCJmb2N1cyIsInByZXZlbnRTY3JvbGwiLCJfdGhpcyRlbGVtZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbW92ZURhdGEiLCJzZXRKUXVlcnkiLCJqcSIsIl9GbGlja2l0eSIsIi4vYW5pbWF0ZSIsImV2LWVtaXR0ZXIiLCI3IiwiVW5pZHJhZ2dlciIsImRyYWdnYWJsZSIsImRyYWdUaHJlc2hvbGQiLCJnZXRTY3JvbGxQb3NpdGlvbiIsInBhZ2VYT2Zmc2V0IiwieSIsInBhZ2VZT2Zmc2V0IiwidG91Y2hBY3Rpb25WYWx1ZSIsImRyYWciLCJvbkFjdGl2YXRlRHJhZyIsIl91aUNoYW5nZURyYWciLCJvbkRlYWN0aXZhdGVEcmFnIiwidXBkYXRlRHJhZ2dhYmxlIiwiaGFuZGxlUG9pbnRlckRvd24iLCJoYW5kbGVQb2ludGVyVXAiLCJoYW5kbGVQb2ludGVyRG9uZSIsImhhbmRsZURyYWdTdGFydCIsImhhbmRsZURyYWdNb3ZlIiwiaGFuZGxlRHJhZ0VuZCIsImhhbmRsZVN0YXRpY0NsaWNrIiwiaGFuZGxlcyIsImJpbmRIYW5kbGVzIiwidW5iaW5kSGFuZGxlcyIsInRvZ2dsZSIsImlzVG91Y2hTdGFydCIsImlzVG91Y2hQb2ludGVyIiwiaXNGb2N1c05vZGUiLCJwb2ludGVyVHlwZSIsInByZXZlbnREZWZhdWx0IiwiYmx1ciIsInBvaW50ZXJEb3duU2Nyb2xsIiwiYmluZEFjdGl2ZVBvaW50ZXJFdmVudHMiLCJoYXNEcmFnU3RhcnRlZCIsIm1vdmVWZWN0b3IiLCJpc1RvdWNoU2Nyb2xsaW5nIiwiZHJhZ1N0YXJ0UG9zaXRpb24iLCJwb2ludGVyIiwicHJldmlvdXNEcmFnWCIsImRpcmVjdGlvbiIsIm9yaWdpbkJvdW5kIiwiZHJhZ01vdmVUaW1lIiwiRGF0ZSIsImZyZWVTY3JvbGwiLCJyZXN0aW5nWCIsImRyYWdFbmRSZXN0aW5nU2VsZWN0IiwiZ2V0UmVzdGluZ1Bvc2l0aW9uIiwiZHJhZ0VuZEJvb3N0U2VsZWN0IiwiZGlzdGFuY2UiLCJnZXRTbGlkZURpc3RhbmNlIiwicG9zaXRpdmVSZXN0aW5nIiwiX2dldENsb3Nlc3RSZXN0aW5nIiwibmVnYXRpdmVSZXN0aW5nIiwibWluRGlzdGFuY2UiLCJJbmZpbml0eSIsImNvbmRpdGlvbiIsImRpc3QiLCJtaW5EaXN0IiwiaXNXcmFwQXJvdW5kIiwid3JhcCIsImZsb29yIiwib25zY3JvbGwiLCJzY3JvbGwiLCJzY3JvbGxNb3ZlWCIsInNjcm9sbE1vdmVZIiwicG9pbnRlckRvbmUiLCJsYXp5U3JjQXR0ciIsInVuaWRyYWdnZXIiLCI4IiwiaW1hZ2VzTG9hZGVkIiwiX3RoaXMxMCIsImltYWdlIiwiaW1nIiwiaW1hZ2VzbG9hZGVkIiwiOSIsIi4vYWRkLXJlbW92ZS1jZWxsIiwibGF6eVNyY3NldEF0dHIiLCIuL2ltYWdlc2xvYWRlZCIsIi4vbGF6eWxvYWQiLCIuL3BhZ2UtZG90cyIsIi4vcGxheWVyIiwiLi9wcmV2LW5leHQtYnV0dG9uIiwiMTAiLCJsYXp5QXR0ciIsImltZ1NlbGVjdG9yIiwibGF6eUxvYWQiLCJoYW5kbGVMYXp5TG9hZENvbXBsZXRlIiwib25MYXp5TG9hZENvbXBsZXRlIiwiYmluZCIsImdldENlbGxMYXp5SW1hZ2VzIiwiY2VsbEF0dHIiLCJjZWxsU3JjQXR0ciIsImNlbGxTcmNzZXRBdHRyIiwiTGF6eUxvYWRlciIsIm9uQ29tcGxldGUiLCJsb2FkIiwiX3RoaXMxMSIsImZsYXQiLCJoYW5kbGVFdmVudCIsInNyYyIsInNyY3NldCIsIm9ubG9hZCIsImNvbXBsZXRlIiwib25lcnJvciIsInVwZGF0ZVBhZ2VEb3RzIiwiMTEiLCJQYWdlRG90cyIsImhvbGRlciIsImRvdHMiLCJzZXREb3RzIiwic2xpZGVzTGVuZ3RoIiwiYWRkRG90cyIsInJlbW92ZURvdHMiLCJjb3VudCIsIl90aGlzJGhvbGRlciIsIl90aGlzMTIiLCJuZXdEb3RzIiwiZmlsbCIsIml0ZW0iLCJkb3QiLCJ0ZXh0Q29udGVudCIsInVwZGF0ZVNlbGVjdGVkIiwic2VsZWN0ZWREb3QiLCJwYWdlRG90cyIsImhhbmRsZVBhZ2VEb3RzQ2xpY2siLCJvblBhZ2VEb3RzQ2xpY2siLCJhY3RpdmF0ZVBhZ2VEb3RzIiwidXBkYXRlU2VsZWN0ZWRQYWdlRG90cyIsImRlYWN0aXZhdGVQYWdlRG90cyIsIl90aGlzJGZvY3VzYWJsZUVsZW1zIiwiX3RoaXMkZm9jdXNhYmxlRWxlbXMyIiwiX3RoaXMxMyIsInVucGF1c2VQbGF5ZXIiLCIxMiIsIlBsYXllciIsImF1dG9QbGF5Iiwib25UaWNrIiwic3RhdGUiLCJvblZpc2liaWxpdHlDaGFuZ2UiLCJ2aXNpYmlsaXR5Q2hhbmdlIiwib25WaXNpYmlsaXR5UGxheSIsInZpc2liaWxpdHlQbGF5IiwicGxheSIsImhpZGRlbiIsInRpY2siLCJ0aW1lIiwiX3RoaXMxNCIsImNsZWFyIiwidGltZW91dCIsInN0b3AiLCJwYXVzZSIsInVucGF1c2UiLCJwYXVzZUF1dG9QbGF5T25Ib3ZlciIsInBsYXllciIsIl90aGlzMTUiLCJhY3RpdmF0ZVBsYXllciIsInN0b3BQbGF5ZXIiLCJkZWFjdGl2YXRlUGxheWVyIiwicGxheVBsYXllciIsInBhdXNlUGxheWVyIiwib25tb3VzZWVudGVyIiwib25tb3VzZWxlYXZlIiwiaXNEaXNhYmxlZEZvY3VzZWQiLCJpc0VuYWJsZWQiLCJzdmdVUkkiLCJQcmV2TmV4dEJ1dHRvbiIsImFycm93U2hhcGUiLCJpc1ByZXZpb3VzIiwiaXNMZWZ0IiwibGFiZWwiLCJzdmciLCJkaXNhYmxlIiwiY3JlYXRlU1ZHIiwieDEiLCJ4MiIsIngzIiwieTEiLCJjcmVhdGVFbGVtZW50TlMiLCJ0aXRsZSIsInBhdGgiLCJwYXRoTW92ZW1lbnRzIiwic2hhcGUiLCJ4MCIsInkyIiwiZW5hYmxlIiwicHJldk5leHRCdXR0b25zIiwibmV4dERpcmVjdGlvbiIsIl90aGlzMTYiLCJfdGhpcyRvcHRpb25zMyIsInByZXZCdXR0b24iLCJuZXh0QnV0dG9uIiwiaGFuZGxlUHJldkJ1dHRvbkNsaWNrIiwiaGFuZGxlTmV4dEJ1dHRvbkNsaWNrIiwiYWN0aXZhdGVQcmV2TmV4dEJ1dHRvbnMiLCJ1cGRhdGVQcmV2TmV4dEJ1dHRvbnMiLCJ1cGRhdGVQcmV2TmV4dEJ1dHRvbiIsImJ1dHRvbiIsImRpc2FibGVkSW5kZXgiLCJkZWFjdGl2YXRlUHJldk5leHRCdXR0b25zIiwiMTQiLCJsYXN0Q2VsbCIsImxhc3RNYXJnaW4iLCIxNSIsImdldFN0eWxlU2l6ZSIsInBhcnNlRmxvYXQiLCJpc05hTiIsIm1lYXN1cmVtZW50cyIsInBhZGRpbmdXaWR0aCIsInBhZGRpbmdIZWlnaHQiLCJtYXJnaW5XaWR0aCIsIm1hcmdpbkhlaWdodCIsImJvcmRlcldpZHRoIiwiYm9yZGVySGVpZ2h0Iiwic3R5bGVIZWlnaHQiLCJub2RlVHlwZSIsImRpc3BsYXkiLCJpbm5lckhlaWdodCIsIm1lYXN1cmVtZW50Iiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJpc0JvcmRlckJveCIsImJveFNpemluZyIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0IiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iLCJtYXJnaW5MZWZ0IiwibWFyZ2luUmlnaHQiLCJtYXJnaW5Ub3AiLCJtYXJnaW5Cb3R0b20iLCJib3JkZXJMZWZ0V2lkdGgiLCJib3JkZXJSaWdodFdpZHRoIiwiYm9yZGVyVG9wV2lkdGgiLCJib3JkZXJCb3R0b21XaWR0aCIsInN0eWxlV2lkdGgiLCIxNiIsImxvYWRpbmdJbWFnZSIsImNoZWNrIiwiJCIsIkltYWdlc0xvYWRlZCIsIm9uQWx3YXlzIiwicXVlcnlFbGVtIiwiZWxlbWVudHMiLCJnZXRJbWFnZXMiLCJqcURlZmVycmVkIiwiRGVmZXJyZWQiLCJpbWFnZXMiLCJhZGRFbGVtZW50SW1hZ2VzIiwiZWxlbWVudE5vZGVUeXBlcyIsInJlVVJMIiwibm9kZU5hbWUiLCJhZGRJbWFnZSIsImJhY2tncm91bmQiLCJhZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyIsIl9zdGVwNCIsIl9pdGVyYXRvcjQiLCJfc3RlcDUiLCJfaXRlcmF0b3I1IiwiY2hpbGQiLCJMb2FkaW5nSW1hZ2UiLCJCYWNrZ3JvdW5kIiwidXJsIiwiSW1hZ2UiLCJleGVjIiwiYmFja2dyb3VuZEltYWdlIiwiYWRkQmFja2dyb3VuZCIsIm9uUHJvZ3Jlc3MiLCJfdGhpczE3IiwicHJvZ3Jlc3NlZENvdW50IiwiaGFzQW55QnJva2VuIiwibWVzc2FnZSIsImlzTG9hZGVkIiwibm90aWZ5IiwiZGVidWciLCJsb2ciLCJpc0NvbXBsZXRlIiwianFNZXRob2QiLCJnZXRJc0ltYWdlQ29tcGxldGUiLCJjb25maXJtIiwibmF0dXJhbFdpZHRoIiwicHJveHlJbWFnZSIsImNyb3NzT3JpZ2luIiwiY3VycmVudFNyYyIsInVuYmluZEV2ZW50cyIsIm1ha2VKUXVlcnlQbHVnaW4iLCJmbiIsInByb21pc2UiLCJydW5uaW5nIiwiMTciLCJsYXp5c2l6ZXMiLCJsYXp5U2l6ZXNDZmciLCJwcm9wIiwiZG9jRWxlbSIsInN1cHBvcnRQaWN0dXJlIiwiX2FkZEV2ZW50TGlzdGVuZXIiLCJfZ2V0QXR0cmlidXRlIiwicmVxdWVzdElkbGVDYWxsYmFjayIsInJlZ1BpY3R1cmUiLCJsb2FkRXZlbnRzIiwicmVnQ2xhc3NDYWNoZSIsImhhc0NsYXNzIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZFJlbW92ZUxvYWRFdmVudHMiLCJ0cmlnZ2VyRXZlbnQiLCJ1cGRhdGVQb2x5ZmlsbCIsImdldENTUyIsImdldFdpZHRoIiwickFGIiwid2FpdGluZyIsImZpcnN0Rm5zIiwic2Vjb25kRm5zIiwiZm5zIiwickFGSXQiLCJkZWJvdW5jZSIsImxvYWRlciIsInByZWxvYWRFbGVtcyIsImlzQ29tcGxldGVkIiwicmVzZXRQcmVsb2FkaW5nVGltZXIiLCJsb2FkTW9kZSIsInN0YXJ0ZWQiLCJlTHZXIiwiZWx2SCIsImVMdG9wIiwiZUxsZWZ0IiwiZUxyaWdodCIsImVMYm90dG9tIiwiaXNCb2R5SGlkZGVuIiwibGFzdFRpbWUiLCJnRGVsYXkiLCJySUNUaW1lb3V0IiwiaWRsZUNhbGxiYWNrIiwicmVnSW1nIiwicmVnSWZyYW1lIiwic3VwcG9ydFNjcm9sbCIsImN1cnJlbnRFeHBhbmQiLCJpc0xvYWRpbmciLCJsb3dSdW5zIiwiaXNWaXNpYmxlIiwidGhyb3R0bGVkQ2hlY2tFbGVtZW50cyIsInJhZmVkU3dpdGNoTG9hZGluZ0NsYXNzIiwicmFmU3dpdGNoTG9hZGluZ0NsYXNzIiwibGF6eVVudmVpbCIsInVudmVpbEVsZW1lbnQiLCJhZnRlclNjcm9sbCIsImF1dG9TaXplciIsImF1dG9zaXplc0VsZW1zIiwic2l6ZUVsZW1lbnQiLCJkZWJvdW5jZWRVcGRhdGVFbGVtZW50c1NpemVzIiwiaW5pdCIsImxhenlTaXplc0RlZmF1bHRzIiwibGF6eUNsYXNzIiwibG9hZGVkQ2xhc3MiLCJsb2FkaW5nQ2xhc3MiLCJwcmVsb2FkQ2xhc3MiLCJlcnJvckNsYXNzIiwiYXV0b3NpemVzQ2xhc3MiLCJmYXN0TG9hZGVkQ2xhc3MiLCJpZnJhbWVMb2FkTW9kZSIsInNyY0F0dHIiLCJzcmNzZXRBdHRyIiwic2l6ZXNBdHRyIiwibWluU2l6ZSIsImN1c3RvbU1lZGlhIiwiZXhwRmFjdG9yIiwiaEZhYyIsImxvYWRIaWRkZW4iLCJyaWNUaW1lb3V0IiwidGhyb3R0bGVEZWxheSIsImxhenlTaXplc0NvbmZpZyIsImxhenlzaXplc0NvbmZpZyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJkb2N1bWVudEVsZW1lbnQiLCJIVE1MUGljdHVyZUVsZW1lbnQiLCJlbGUiLCJjbHMiLCJSZWdFeHAiLCJ0ZXN0IiwidHJpbSIsInJlZyIsImRvbSIsImFjdGlvbiIsImV2dCIsIm5hbWUiLCJkZXRhaWwiLCJub0J1YmJsZXMiLCJub0NhbmNlbGFibGUiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsImVsIiwiZnVsbCIsInBvbHlmaWxsIiwicGljdHVyZWZpbGwiLCJwZiIsInJlZXZhbHVhdGUiLCJwYXJlbnQiLCJfbGF6eXNpemVzV2lkdGgiLCJyYWZCYXRjaCIsIl9sc0ZsdXNoIiwicnVuIiwic2ltcGxlIiwidGhhdCIsImZ1bmMiLCJsYXRlciIsImxhc3QiLCJub3ciLCJ0aW1lc3RhbXAiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJjaGVja0VsZW1lbnRzIiwic3dpdGNoTG9hZGluZ0NsYXNzIiwiaXNBdXRvIiwic2l6ZXMiLCJpc0ltZyIsImlzUGljdHVyZSIsImZpcmVzTG9hZCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJyZXNldFByZWxvYWRpbmciLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImhhbmRsZVNvdXJjZXMiLCJjb250ZW50V2luZG93IiwibG9jYXRpb24iLCJfbGF6eVJhY2UiLCJfbGF6eUNhY2hlIiwibG9hZGluZyIsIl8iLCJsb2FkaW5nRWxlbWVudHMiLCJwZXJzaXN0ZWQiLCJNdXRhdGlvbk9ic2VydmVyIiwib2JzZXJ2ZSIsImNoaWxkTGlzdCIsInN1YnRyZWUiLCJhdHRyaWJ1dGVzIiwic2V0SW50ZXJ2YWwiLCJjaGVja0VsZW1zIiwiaXNQcmlvcml0eSIsImRlbGF5IiwidW52ZWlsIiwidXBkYXRlRWxlbSIsIl9hTFNMIiwiYWx0TG9hZG1vZGVTY3JvbGxMaXN0bmVyIiwic291cmNlcyIsImdldFNpemVFbGVtZW50IiwiY2ZnIiwidVAiLCJhQyIsInJDIiwiaEMiLCJmaXJlIiwiZ1ciLCJub1N1cHBvcnQiLCJydW5GbnMiLCJxdWV1ZSIsImVMbGVuIiwiYXV0b0xvYWRFbGVtIiwibG9hZGVkU29tZXRoaW5nIiwiZWxlbUV4cGFuZCIsImVsZW1OZWdhdGl2ZUV4cGFuZCIsImVsZW1FeHBhbmRWYWwiLCJiZWZvcmVFeHBhbmRWYWwiLCJkZWZhdWx0RXhwYW5kIiwicHJlbG9hZEV4cGFuZCIsImxhenlsb2FkRWxlbXMiLCJwcmVtYXR1cmVVbnZlaWwiLCJleHBhbmQiLCJjbGllbnRIZWlnaHQiLCJjbGllbnRXaWR0aCIsIl9kZWZFeCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJib3R0b20iLCJ0b3AiLCJvdXRlclJlY3QiLCJ2aXNpYmxlIiwib2Zmc2V0UGFyZW50IiwicHJlbG9hZEFmdGVyTG9hZCIsInNvdXJjZSIsInNvdXJjZVNyY3NldCIsImxhenlTaXplcyIsIjE4Iiwic3RhcnRFdmVudCIsImFjdGl2ZUV2ZW50cyIsImN1cnNvck5vZGVzIiwiUG9pbnRlckV2ZW50IiwiX2JpbmRIYW5kbGVzIiwiYmluZE1ldGhvZCIsInRvdWNoQWN0aW9uIiwiX3RoaXMxOCIsImhhbmRsZSIsIl90aGlzMTkiLCJ1bmJpbmRBY3RpdmVQb2ludGVyRXZlbnRzIiwiX3RoaXMyMCIsIndpdGhQb2ludGVyIiwicG9pbnRlcklkIiwicG9pbnRlcklkZW50aWZpZXIiLCJ3aXRoVG91Y2giLCJ0b3VjaCIsIl9zdGVwNiIsIl9pdGVyYXRvcjYiLCJjaGFuZ2VkVG91Y2hlcyIsImNoYW5nZWRUb3VjaCIsImlkZW50aWZpZXIiLCJvbm1vdXNlZG93biIsInBvaW50ZXJEb3duIiwib250b3VjaHN0YXJ0Iiwib25wb2ludGVyZG93biIsImNsaWNrVHlwZXMiLCJpc0N1cnNvck5vZGUiLCJpc0NsaWNrVHlwZSIsInBvaW50ZXJEb3duUG9pbnRlciIsInBhZ2VYIiwicGFnZVkiLCJvbm1vdXNlbW92ZSIsInBvaW50ZXJNb3ZlIiwib25wb2ludGVybW92ZSIsIm9udG91Y2htb3ZlIiwiZHJhZ1N0YXJ0IiwiZHJhZ01vdmUiLCJpc1ByZXZlbnRpbmdDbGlja3MiLCJvbm1vdXNldXAiLCJwb2ludGVyVXAiLCJvbnBvaW50ZXJ1cCIsIm9udG91Y2hlbmQiLCJkcmFnRW5kIiwic3RhdGljQ2xpY2siLCJfdGhpczIxIiwib25wb2ludGVyY2FuY2VsIiwib250b3VjaGNhbmNlbCIsInBvaW50ZXJDYW5jZWwiLCJvbmNsaWNrIiwiX3RoaXMyMiIsImlzTW91c2V1cCIsImlzSWdub3JpbmdNb3VzZVVwIiwiMTkiLCJQdWJTdWIiLCJ3YWl0IiwiX3RoaXMyMyIsIl9sZW4iLCJfa2V5IiwidGhyb3R0bGUiLCJjYiIsInN0b3JlZEFyZ3MiLCJjaGVja1N0b3JlZEFyZ3MiLCJfbGVuMiIsIl9rZXkyIiwiLi9zY3JpcHRzL3B1YnN1YiIsImZsaWNraXR5IiwiMjAiLCJFVkVOVFMiLCJjYXJ0VXBkYXRlZCIsInN1YnNjcmliZXJzIiwic3Vic2NyaWJlIiwiY2FsbGJhY2siLCJfdGhpczI0IiwicHVibGlzaCJdLCJtYXBwaW5ncyI6Im8vRkFBQSxDQUFBLFNBQUFBLEVBQUFDLEVBQUFDLEVBQUFDLEdBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FBQSxHQUFBLENBQUFKLEVBQUFHLEdBQUEsQ0FBQSxHQUFBLENBQUFKLEVBQUFJLEdBQUEsQ0FBQSxJQUFBRSxFQUFBLFlBQUEsT0FBQUMsU0FBQUEsUUFBQSxHQUFBLENBQUFGLEdBQUFDLEVBQUEsT0FBQUEsRUFBQUYsRUFBQSxDQUFBLENBQUEsRUFBQSxHQUFBSSxFQUFBLE9BQUFBLEVBQUFKLEVBQUEsQ0FBQSxDQUFBLEVBQUEsTUFBQUssRUFBQSxJQUFBQyxNQUFBLHVCQUFBTixFQUFBLEdBQUEsR0FBQU8sS0FBQSxtQkFBQUYsQ0FBQSxDQUFBRyxFQUFBWCxFQUFBRyxHQUFBLENBQUFTLFFBQUEsRUFBQSxFQUFBYixFQUFBSSxHQUFBLEdBQUFVLEtBQUFGLEVBQUFDLFFBQUEsU0FBQWQsR0FBQSxPQUFBSSxFQUFBSCxFQUFBSSxHQUFBLEdBQUFMLElBQUFBLENBQUEsQ0FBQSxFQUFBYSxFQUFBQSxFQUFBQyxRQUFBZCxFQUFBQyxFQUFBQyxFQUFBQyxDQUFBLENBQUEsQ0FBQSxPQUFBRCxFQUFBRyxHQUFBUyxPQUFBLENBQUEsSUFBQSxJQUFBTCxFQUFBLFlBQUEsT0FBQUQsU0FBQUEsUUFBQUgsRUFBQSxFQUFBQSxFQUFBRixFQUFBYSxPQUFBWCxDQUFBLEdBQUFELEVBQUFELEVBQUFFLEVBQUEsRUFBQSxPQUFBRCxDQUFBLEVBQUEsQ0FBQWEsRUFBQSxDQUFBLFNBQUFULEVBQUFV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QixHQUFBMzFCLFVBQUEyMUIsR0FDQVQsRUFDQU0sRUFBQTE0QixHQUlBeTRCLEVBQUFoNEIsTUFBQSxLQUFBLEVBQUFULENBQUEsRUFDQW80QixFQUFBLENBQUEsRUFDQWoxQixXQUFBdzFCLEVBQUExRyxDQUFBLEVBQ0EsQ0FDQSxDbEI2aklBLEVBQUUsQ0FBQzZHLG1CQUFtQixHQUFHQyxTQUFXLEVBQUVqUSxVQUFZLEVBQUUsR0FBR2tRLEdBQUcsQ0FBQyxTQUFTbDdCLEVBQVFVLEVBQU9KLEdtQnBtSW5GSSxFQUFBSixRQUFBLENBQ0E2NkIsT0FBQSxDQUNBQyxZQUFBLGNBQ0EsRUFDQUMsWUFBQSxHQUNBQyxVQUFBLFNBQUFuNkIsRUFBQW82QixHQUFBLElBQUFDLEVBQUExNkIsS0FPQSxPQU5BK0csS0FBQUEsSUFBQS9HLEtBQUF1NkIsWUFBQWw2QixLQUNBTCxLQUFBdTZCLFlBQUFsNkIsR0FBQSxJQUdBTCxLQUFBdTZCLFlBQUFsNkIsR0FBQSxHQUFBMEQsT0FBQXBCLG1CQUFBM0MsS0FBQXU2QixZQUFBbDZCLEVBQUEsRUFBQSxDQUFBbzZCLEVBQUEsRUFFQSxXQUNBQyxFQUFBSCxZQUFBbDZCLEdBQUFxNkIsRUFBQUgsWUFBQWw2QixHQUFBb0QsT0FBQSxTQUFBbzJCLEdBQ0EsT0FBQUEsSUFBQVksQ0FDQSxDQUFBLENBQ0EsQ0FDQSxFQUNBRSxRQUFBLFNBQUF0NkIsRUFBQThGLEdBQ0FuRyxLQUFBdTZCLFlBQUFsNkIsSUFDQUwsS0FBQXU2QixZQUFBbDZCLEdBQUFxRixRQUFBLFNBQUErMEIsR0FDQUEsRUFBQXQwQixDQUFBLENBQ0EsQ0FBQSxDQUVBLENBQ0EsQ25CdW1JQSxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyIsImZpbGUiOiJnbG9iYWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqXG4gKiBFdkVtaXR0ZXIgdjIuMS4xXG4gKiBMaWwnIGV2ZW50IGVtaXR0ZXJcbiAqIE1JVCBMaWNlbnNlXG4gKi9cblxuKCBmdW5jdGlvbiggZ2xvYmFsLCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTIC0gQnJvd3NlcmlmeSwgV2VicGFja1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFsc1xuICAgIGdsb2JhbC5FdkVtaXR0ZXIgPSBmYWN0b3J5KCk7XG4gIH1cblxufSggdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uKCkge1xuXG5mdW5jdGlvbiBFdkVtaXR0ZXIoKSB7fVxuXG5sZXQgcHJvdG8gPSBFdkVtaXR0ZXIucHJvdG90eXBlO1xuXG5wcm90by5vbiA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGxpc3RlbmVyICkge1xuICBpZiAoICFldmVudE5hbWUgfHwgIWxpc3RlbmVyICkgcmV0dXJuIHRoaXM7XG5cbiAgLy8gc2V0IGV2ZW50cyBoYXNoXG4gIGxldCBldmVudHMgPSB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIC8vIHNldCBsaXN0ZW5lcnMgYXJyYXlcbiAgbGV0IGxpc3RlbmVycyA9IGV2ZW50c1sgZXZlbnROYW1lIF0gPSBldmVudHNbIGV2ZW50TmFtZSBdIHx8IFtdO1xuICAvLyBvbmx5IGFkZCBvbmNlXG4gIGlmICggIWxpc3RlbmVycy5pbmNsdWRlcyggbGlzdGVuZXIgKSApIHtcbiAgICBsaXN0ZW5lcnMucHVzaCggbGlzdGVuZXIgKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxucHJvdG8ub25jZSA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGxpc3RlbmVyICkge1xuICBpZiAoICFldmVudE5hbWUgfHwgIWxpc3RlbmVyICkgcmV0dXJuIHRoaXM7XG5cbiAgLy8gYWRkIGV2ZW50XG4gIHRoaXMub24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKTtcbiAgLy8gc2V0IG9uY2UgZmxhZ1xuICAvLyBzZXQgb25jZUV2ZW50cyBoYXNoXG4gIGxldCBvbmNlRXZlbnRzID0gdGhpcy5fb25jZUV2ZW50cyA9IHRoaXMuX29uY2VFdmVudHMgfHwge307XG4gIC8vIHNldCBvbmNlTGlzdGVuZXJzIG9iamVjdFxuICBsZXQgb25jZUxpc3RlbmVycyA9IG9uY2VFdmVudHNbIGV2ZW50TmFtZSBdID0gb25jZUV2ZW50c1sgZXZlbnROYW1lIF0gfHwge307XG4gIC8vIHNldCBmbGFnXG4gIG9uY2VMaXN0ZW5lcnNbIGxpc3RlbmVyIF0gPSB0cnVlO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxucHJvdG8ub2ZmID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKSB7XG4gIGxldCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHMgJiYgdGhpcy5fZXZlbnRzWyBldmVudE5hbWUgXTtcbiAgaWYgKCAhbGlzdGVuZXJzIHx8ICFsaXN0ZW5lcnMubGVuZ3RoICkgcmV0dXJuIHRoaXM7XG5cbiAgbGV0IGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoIGxpc3RlbmVyICk7XG4gIGlmICggaW5kZXggIT0gLTEgKSB7XG4gICAgbGlzdGVuZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxucHJvdG8uZW1pdEV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgYXJncyApIHtcbiAgbGV0IGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50cyAmJiB0aGlzLl9ldmVudHNbIGV2ZW50TmFtZSBdO1xuICBpZiAoICFsaXN0ZW5lcnMgfHwgIWxpc3RlbmVycy5sZW5ndGggKSByZXR1cm4gdGhpcztcblxuICAvLyBjb3B5IG92ZXIgdG8gYXZvaWQgaW50ZXJmZXJlbmNlIGlmIC5vZmYoKSBpbiBsaXN0ZW5lclxuICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoIDAgKTtcbiAgYXJncyA9IGFyZ3MgfHwgW107XG4gIC8vIG9uY2Ugc3R1ZmZcbiAgbGV0IG9uY2VMaXN0ZW5lcnMgPSB0aGlzLl9vbmNlRXZlbnRzICYmIHRoaXMuX29uY2VFdmVudHNbIGV2ZW50TmFtZSBdO1xuXG4gIGZvciAoIGxldCBsaXN0ZW5lciBvZiBsaXN0ZW5lcnMgKSB7XG4gICAgbGV0IGlzT25jZSA9IG9uY2VMaXN0ZW5lcnMgJiYgb25jZUxpc3RlbmVyc1sgbGlzdGVuZXIgXTtcbiAgICBpZiAoIGlzT25jZSApIHtcbiAgICAgIC8vIHJlbW92ZSBsaXN0ZW5lclxuICAgICAgLy8gcmVtb3ZlIGJlZm9yZSB0cmlnZ2VyIHRvIHByZXZlbnQgcmVjdXJzaW9uXG4gICAgICB0aGlzLm9mZiggZXZlbnROYW1lLCBsaXN0ZW5lciApO1xuICAgICAgLy8gdW5zZXQgb25jZSBmbGFnXG4gICAgICBkZWxldGUgb25jZUxpc3RlbmVyc1sgbGlzdGVuZXIgXTtcbiAgICB9XG4gICAgLy8gdHJpZ2dlciBsaXN0ZW5lclxuICAgIGxpc3RlbmVyLmFwcGx5KCB0aGlzLCBhcmdzICk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbnByb3RvLmFsbE9mZiA9IGZ1bmN0aW9uKCkge1xuICBkZWxldGUgdGhpcy5fZXZlbnRzO1xuICBkZWxldGUgdGhpcy5fb25jZUV2ZW50cztcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5yZXR1cm4gRXZFbWl0dGVyO1xuXG59ICkgKTtcbiIsIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyoqXG4gKiBFdkVtaXR0ZXIgdjIuMS4xXG4gKiBMaWwnIGV2ZW50IGVtaXR0ZXJcbiAqIE1JVCBMaWNlbnNlXG4gKi9cblxuKCBmdW5jdGlvbiggZ2xvYmFsLCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTIC0gQnJvd3NlcmlmeSwgV2VicGFja1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFsc1xuICAgIGdsb2JhbC5FdkVtaXR0ZXIgPSBmYWN0b3J5KCk7XG4gIH1cblxufSggdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uKCkge1xuXG5mdW5jdGlvbiBFdkVtaXR0ZXIoKSB7fVxuXG5sZXQgcHJvdG8gPSBFdkVtaXR0ZXIucHJvdG90eXBlO1xuXG5wcm90by5vbiA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGxpc3RlbmVyICkge1xuICBpZiAoICFldmVudE5hbWUgfHwgIWxpc3RlbmVyICkgcmV0dXJuIHRoaXM7XG5cbiAgLy8gc2V0IGV2ZW50cyBoYXNoXG4gIGxldCBldmVudHMgPSB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIC8vIHNldCBsaXN0ZW5lcnMgYXJyYXlcbiAgbGV0IGxpc3RlbmVycyA9IGV2ZW50c1sgZXZlbnROYW1lIF0gPSBldmVudHNbIGV2ZW50TmFtZSBdIHx8IFtdO1xuICAvLyBvbmx5IGFkZCBvbmNlXG4gIGlmICggIWxpc3RlbmVycy5pbmNsdWRlcyggbGlzdGVuZXIgKSApIHtcbiAgICBsaXN0ZW5lcnMucHVzaCggbGlzdGVuZXIgKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxucHJvdG8ub25jZSA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGxpc3RlbmVyICkge1xuICBpZiAoICFldmVudE5hbWUgfHwgIWxpc3RlbmVyICkgcmV0dXJuIHRoaXM7XG5cbiAgLy8gYWRkIGV2ZW50XG4gIHRoaXMub24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKTtcbiAgLy8gc2V0IG9uY2UgZmxhZ1xuICAvLyBzZXQgb25jZUV2ZW50cyBoYXNoXG4gIGxldCBvbmNlRXZlbnRzID0gdGhpcy5fb25jZUV2ZW50cyA9IHRoaXMuX29uY2VFdmVudHMgfHwge307XG4gIC8vIHNldCBvbmNlTGlzdGVuZXJzIG9iamVjdFxuICBsZXQgb25jZUxpc3RlbmVycyA9IG9uY2VFdmVudHNbIGV2ZW50TmFtZSBdID0gb25jZUV2ZW50c1sgZXZlbnROYW1lIF0gfHwge307XG4gIC8vIHNldCBmbGFnXG4gIG9uY2VMaXN0ZW5lcnNbIGxpc3RlbmVyIF0gPSB0cnVlO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxucHJvdG8ub2ZmID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKSB7XG4gIGxldCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHMgJiYgdGhpcy5fZXZlbnRzWyBldmVudE5hbWUgXTtcbiAgaWYgKCAhbGlzdGVuZXJzIHx8ICFsaXN0ZW5lcnMubGVuZ3RoICkgcmV0dXJuIHRoaXM7XG5cbiAgbGV0IGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoIGxpc3RlbmVyICk7XG4gIGlmICggaW5kZXggIT0gLTEgKSB7XG4gICAgbGlzdGVuZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxucHJvdG8uZW1pdEV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgYXJncyApIHtcbiAgbGV0IGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50cyAmJiB0aGlzLl9ldmVudHNbIGV2ZW50TmFtZSBdO1xuICBpZiAoICFsaXN0ZW5lcnMgfHwgIWxpc3RlbmVycy5sZW5ndGggKSByZXR1cm4gdGhpcztcblxuICAvLyBjb3B5IG92ZXIgdG8gYXZvaWQgaW50ZXJmZXJlbmNlIGlmIC5vZmYoKSBpbiBsaXN0ZW5lclxuICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoIDAgKTtcbiAgYXJncyA9IGFyZ3MgfHwgW107XG4gIC8vIG9uY2Ugc3R1ZmZcbiAgbGV0IG9uY2VMaXN0ZW5lcnMgPSB0aGlzLl9vbmNlRXZlbnRzICYmIHRoaXMuX29uY2VFdmVudHNbIGV2ZW50TmFtZSBdO1xuXG4gIGZvciAoIGxldCBsaXN0ZW5lciBvZiBsaXN0ZW5lcnMgKSB7XG4gICAgbGV0IGlzT25jZSA9IG9uY2VMaXN0ZW5lcnMgJiYgb25jZUxpc3RlbmVyc1sgbGlzdGVuZXIgXTtcbiAgICBpZiAoIGlzT25jZSApIHtcbiAgICAgIC8vIHJlbW92ZSBsaXN0ZW5lclxuICAgICAgLy8gcmVtb3ZlIGJlZm9yZSB0cmlnZ2VyIHRvIHByZXZlbnQgcmVjdXJzaW9uXG4gICAgICB0aGlzLm9mZiggZXZlbnROYW1lLCBsaXN0ZW5lciApO1xuICAgICAgLy8gdW5zZXQgb25jZSBmbGFnXG4gICAgICBkZWxldGUgb25jZUxpc3RlbmVyc1sgbGlzdGVuZXIgXTtcbiAgICB9XG4gICAgLy8gdHJpZ2dlciBsaXN0ZW5lclxuICAgIGxpc3RlbmVyLmFwcGx5KCB0aGlzLCBhcmdzICk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbnByb3RvLmFsbE9mZiA9IGZ1bmN0aW9uKCkge1xuICBkZWxldGUgdGhpcy5fZXZlbnRzO1xuICBkZWxldGUgdGhpcy5fb25jZUV2ZW50cztcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5yZXR1cm4gRXZFbWl0dGVyO1xuXG59ICkgKTtcblxufSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiAqIEZpenp5IFVJIHV0aWxzIHYzLjAuMFxuICogTUlUIGxpY2Vuc2VcbiAqL1xuXG4oIGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoIGdsb2JhbCApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgZ2xvYmFsLmZpenp5VUlVdGlscyA9IGZhY3RvcnkoIGdsb2JhbCApO1xuICB9XG5cbn0oIHRoaXMsIGZ1bmN0aW9uIGZhY3RvcnkoIGdsb2JhbCApIHtcblxubGV0IHV0aWxzID0ge307XG5cbi8vIC0tLS0tIGV4dGVuZCAtLS0tLSAvL1xuXG4vLyBleHRlbmRzIG9iamVjdHNcbnV0aWxzLmV4dGVuZCA9IGZ1bmN0aW9uKCBhLCBiICkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbiggYSwgYiApO1xufTtcblxuLy8gLS0tLS0gbW9kdWxvIC0tLS0tIC8vXG5cbnV0aWxzLm1vZHVsbyA9IGZ1bmN0aW9uKCBudW0sIGRpdiApIHtcbiAgcmV0dXJuICggKCBudW0gJSBkaXYgKSArIGRpdiApICUgZGl2O1xufTtcblxuLy8gLS0tLS0gbWFrZUFycmF5IC0tLS0tIC8vXG5cbi8vIHR1cm4gZWxlbWVudCBvciBub2RlTGlzdCBpbnRvIGFuIGFycmF5XG51dGlscy5tYWtlQXJyYXkgPSBmdW5jdGlvbiggb2JqICkge1xuICAvLyB1c2Ugb2JqZWN0IGlmIGFscmVhZHkgYW4gYXJyYXlcbiAgaWYgKCBBcnJheS5pc0FycmF5KCBvYmogKSApIHJldHVybiBvYmo7XG5cbiAgLy8gcmV0dXJuIGVtcHR5IGFycmF5IGlmIHVuZGVmaW5lZCBvciBudWxsLiAjNlxuICBpZiAoIG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHVuZGVmaW5lZCApIHJldHVybiBbXTtcblxuICBsZXQgaXNBcnJheUxpa2UgPSB0eXBlb2Ygb2JqID09ICdvYmplY3QnICYmIHR5cGVvZiBvYmoubGVuZ3RoID09ICdudW1iZXInO1xuICAvLyBjb252ZXJ0IG5vZGVMaXN0IHRvIGFycmF5XG4gIGlmICggaXNBcnJheUxpa2UgKSByZXR1cm4gWyAuLi5vYmogXTtcblxuICAvLyBhcnJheSBvZiBzaW5nbGUgaW5kZXhcbiAgcmV0dXJuIFsgb2JqIF07XG59O1xuXG4vLyAtLS0tLSByZW1vdmVGcm9tIC0tLS0tIC8vXG5cbnV0aWxzLnJlbW92ZUZyb20gPSBmdW5jdGlvbiggYXJ5LCBvYmogKSB7XG4gIGxldCBpbmRleCA9IGFyeS5pbmRleE9mKCBvYmogKTtcbiAgaWYgKCBpbmRleCAhPSAtMSApIHtcbiAgICBhcnkuc3BsaWNlKCBpbmRleCwgMSApO1xuICB9XG59O1xuXG4vLyAtLS0tLSBnZXRQYXJlbnQgLS0tLS0gLy9cblxudXRpbHMuZ2V0UGFyZW50ID0gZnVuY3Rpb24oIGVsZW0sIHNlbGVjdG9yICkge1xuICB3aGlsZSAoIGVsZW0ucGFyZW50Tm9kZSAmJiBlbGVtICE9IGRvY3VtZW50LmJvZHkgKSB7XG4gICAgZWxlbSA9IGVsZW0ucGFyZW50Tm9kZTtcbiAgICBpZiAoIGVsZW0ubWF0Y2hlcyggc2VsZWN0b3IgKSApIHJldHVybiBlbGVtO1xuICB9XG59O1xuXG4vLyAtLS0tLSBnZXRRdWVyeUVsZW1lbnQgLS0tLS0gLy9cblxuLy8gdXNlIGVsZW1lbnQgYXMgc2VsZWN0b3Igc3RyaW5nXG51dGlscy5nZXRRdWVyeUVsZW1lbnQgPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgaWYgKCB0eXBlb2YgZWxlbSA9PSAnc3RyaW5nJyApIHtcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggZWxlbSApO1xuICB9XG4gIHJldHVybiBlbGVtO1xufTtcblxuLy8gLS0tLS0gaGFuZGxlRXZlbnQgLS0tLS0gLy9cblxuLy8gZW5hYmxlIC5vbnR5cGUgdG8gdHJpZ2dlciBmcm9tIC5hZGRFdmVudExpc3RlbmVyKCBlbGVtLCAndHlwZScgKVxudXRpbHMuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIGxldCBtZXRob2QgPSAnb24nICsgZXZlbnQudHlwZTtcbiAgaWYgKCB0aGlzWyBtZXRob2QgXSApIHtcbiAgICB0aGlzWyBtZXRob2QgXSggZXZlbnQgKTtcbiAgfVxufTtcblxuLy8gLS0tLS0gZmlsdGVyRmluZEVsZW1lbnRzIC0tLS0tIC8vXG5cbnV0aWxzLmZpbHRlckZpbmRFbGVtZW50cyA9IGZ1bmN0aW9uKCBlbGVtcywgc2VsZWN0b3IgKSB7XG4gIC8vIG1ha2UgYXJyYXkgb2YgZWxlbXNcbiAgZWxlbXMgPSB1dGlscy5tYWtlQXJyYXkoIGVsZW1zICk7XG5cbiAgcmV0dXJuIGVsZW1zXG4gICAgLy8gY2hlY2sgdGhhdCBlbGVtIGlzIGFuIGFjdHVhbCBlbGVtZW50XG4gICAgLmZpbHRlciggKCBlbGVtICkgPT4gZWxlbSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IClcbiAgICAucmVkdWNlKCAoIGZmRWxlbXMsIGVsZW0gKSA9PiB7XG4gICAgICAvLyBhZGQgZWxlbSBpZiBubyBzZWxlY3RvclxuICAgICAgaWYgKCAhc2VsZWN0b3IgKSB7XG4gICAgICAgIGZmRWxlbXMucHVzaCggZWxlbSApO1xuICAgICAgICByZXR1cm4gZmZFbGVtcztcbiAgICAgIH1cbiAgICAgIC8vIGZpbHRlciAmIGZpbmQgaXRlbXMgaWYgd2UgaGF2ZSBhIHNlbGVjdG9yXG4gICAgICAvLyBmaWx0ZXJcbiAgICAgIGlmICggZWxlbS5tYXRjaGVzKCBzZWxlY3RvciApICkge1xuICAgICAgICBmZkVsZW1zLnB1c2goIGVsZW0gKTtcbiAgICAgIH1cbiAgICAgIC8vIGZpbmQgY2hpbGRyZW5cbiAgICAgIGxldCBjaGlsZEVsZW1zID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCBzZWxlY3RvciApO1xuICAgICAgLy8gY29uY2F0IGNoaWxkRWxlbXMgdG8gZmlsdGVyRm91bmQgYXJyYXlcbiAgICAgIGZmRWxlbXMgPSBmZkVsZW1zLmNvbmNhdCggLi4uY2hpbGRFbGVtcyApO1xuICAgICAgcmV0dXJuIGZmRWxlbXM7XG4gICAgfSwgW10gKTtcbn07XG5cbi8vIC0tLS0tIGRlYm91bmNlTWV0aG9kIC0tLS0tIC8vXG5cbnV0aWxzLmRlYm91bmNlTWV0aG9kID0gZnVuY3Rpb24oIF9jbGFzcywgbWV0aG9kTmFtZSwgdGhyZXNob2xkICkge1xuICB0aHJlc2hvbGQgPSB0aHJlc2hvbGQgfHwgMTAwO1xuICAvLyBvcmlnaW5hbCBtZXRob2RcbiAgbGV0IG1ldGhvZCA9IF9jbGFzcy5wcm90b3R5cGVbIG1ldGhvZE5hbWUgXTtcbiAgbGV0IHRpbWVvdXROYW1lID0gbWV0aG9kTmFtZSArICdUaW1lb3V0JztcblxuICBfY2xhc3MucHJvdG90eXBlWyBtZXRob2ROYW1lIF0gPSBmdW5jdGlvbigpIHtcbiAgICBjbGVhclRpbWVvdXQoIHRoaXNbIHRpbWVvdXROYW1lIF0gKTtcblxuICAgIGxldCBhcmdzID0gYXJndW1lbnRzO1xuICAgIHRoaXNbIHRpbWVvdXROYW1lIF0gPSBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICBtZXRob2QuYXBwbHkoIHRoaXMsIGFyZ3MgKTtcbiAgICAgIGRlbGV0ZSB0aGlzWyB0aW1lb3V0TmFtZSBdO1xuICAgIH0sIHRocmVzaG9sZCApO1xuICB9O1xufTtcblxuLy8gLS0tLS0gZG9jUmVhZHkgLS0tLS0gLy9cblxudXRpbHMuZG9jUmVhZHkgPSBmdW5jdGlvbiggb25Eb2NSZWFkeSApIHtcbiAgbGV0IHJlYWR5U3RhdGUgPSBkb2N1bWVudC5yZWFkeVN0YXRlO1xuICBpZiAoIHJlYWR5U3RhdGUgPT0gJ2NvbXBsZXRlJyB8fCByZWFkeVN0YXRlID09ICdpbnRlcmFjdGl2ZScgKSB7XG4gICAgLy8gZG8gYXN5bmMgdG8gYWxsb3cgZm9yIG90aGVyIHNjcmlwdHMgdG8gcnVuLiBtZXRhZml6enkvZmxpY2tpdHkjNDQxXG4gICAgc2V0VGltZW91dCggb25Eb2NSZWFkeSApO1xuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdET01Db250ZW50TG9hZGVkJywgb25Eb2NSZWFkeSApO1xuICB9XG59O1xuXG4vLyAtLS0tLSBodG1sSW5pdCAtLS0tLSAvL1xuXG4vLyBodHRwOi8vYml0Lmx5LzNvWUx1c2NcbnV0aWxzLnRvRGFzaGVkID0gZnVuY3Rpb24oIHN0ciApIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKCAvKC4pKFtBLVpdKS9nLCBmdW5jdGlvbiggbWF0Y2gsICQxLCAkMiApIHtcbiAgICByZXR1cm4gJDEgKyAnLScgKyAkMjtcbiAgfSApLnRvTG93ZXJDYXNlKCk7XG59O1xuXG5sZXQgY29uc29sZSA9IGdsb2JhbC5jb25zb2xlO1xuXG4vLyBhbGxvdyB1c2VyIHRvIGluaXRpYWxpemUgY2xhc3NlcyB2aWEgW2RhdGEtbmFtZXNwYWNlXSBvciAuanMtbmFtZXNwYWNlIGNsYXNzXG4vLyBodG1sSW5pdCggV2lkZ2V0LCAnd2lkZ2V0TmFtZScgKVxuLy8gb3B0aW9ucyBhcmUgcGFyc2VkIGZyb20gZGF0YS1uYW1lc3BhY2Utb3B0aW9uc1xudXRpbHMuaHRtbEluaXQgPSBmdW5jdGlvbiggV2lkZ2V0Q2xhc3MsIG5hbWVzcGFjZSApIHtcbiAgdXRpbHMuZG9jUmVhZHkoIGZ1bmN0aW9uKCkge1xuICAgIGxldCBkYXNoZWROYW1lc3BhY2UgPSB1dGlscy50b0Rhc2hlZCggbmFtZXNwYWNlICk7XG4gICAgbGV0IGRhdGFBdHRyID0gJ2RhdGEtJyArIGRhc2hlZE5hbWVzcGFjZTtcbiAgICBsZXQgZGF0YUF0dHJFbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIGBbJHtkYXRhQXR0cn1dYCApO1xuICAgIGxldCBqUXVlcnkgPSBnbG9iYWwualF1ZXJ5O1xuXG4gICAgWyAuLi5kYXRhQXR0ckVsZW1zIF0uZm9yRWFjaCggKCBlbGVtICkgPT4ge1xuICAgICAgbGV0IGF0dHIgPSBlbGVtLmdldEF0dHJpYnV0ZSggZGF0YUF0dHIgKTtcbiAgICAgIGxldCBvcHRpb25zO1xuICAgICAgdHJ5IHtcbiAgICAgICAgb3B0aW9ucyA9IGF0dHIgJiYgSlNPTi5wYXJzZSggYXR0ciApO1xuICAgICAgfSBjYXRjaCAoIGVycm9yICkge1xuICAgICAgICAvLyBsb2cgZXJyb3IsIGRvIG5vdCBpbml0aWFsaXplXG4gICAgICAgIGlmICggY29uc29sZSApIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCBgRXJyb3IgcGFyc2luZyAke2RhdGFBdHRyfSBvbiAke2VsZW0uY2xhc3NOYW1lfTogJHtlcnJvcn1gICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gaW5pdGlhbGl6ZVxuICAgICAgbGV0IGluc3RhbmNlID0gbmV3IFdpZGdldENsYXNzKCBlbGVtLCBvcHRpb25zICk7XG4gICAgICAvLyBtYWtlIGF2YWlsYWJsZSB2aWEgJCgpLmRhdGEoJ25hbWVzcGFjZScpXG4gICAgICBpZiAoIGpRdWVyeSApIHtcbiAgICAgICAgalF1ZXJ5LmRhdGEoIGVsZW0sIG5hbWVzcGFjZSwgaW5zdGFuY2UgKTtcbiAgICAgIH1cbiAgICB9ICk7XG5cbiAgfSApO1xufTtcblxuLy8gLS0tLS0gIC0tLS0tIC8vXG5cbnJldHVybiB1dGlscztcblxufSApICk7XG5cbn0se31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gYWRkLCByZW1vdmUgY2VsbFxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgICByZXF1aXJlKCcuL2NvcmUnKSxcbiAgICAgICAgcmVxdWlyZSgnZml6enktdWktdXRpbHMnKSxcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgZmFjdG9yeShcbiAgICAgICAgd2luZG93LkZsaWNraXR5LFxuICAgICAgICB3aW5kb3cuZml6enlVSVV0aWxzLFxuICAgICk7XG4gIH1cblxufSggdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uIGZhY3RvcnkoIEZsaWNraXR5LCB1dGlscyApIHtcblxuLy8gYXBwZW5kIGNlbGxzIHRvIGEgZG9jdW1lbnQgZnJhZ21lbnRcbmZ1bmN0aW9uIGdldENlbGxzRnJhZ21lbnQoIGNlbGxzICkge1xuICBsZXQgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gIGNlbGxzLmZvckVhY2goICggY2VsbCApID0+IGZyYWdtZW50LmFwcGVuZENoaWxkKCBjZWxsLmVsZW1lbnQgKSApO1xuICByZXR1cm4gZnJhZ21lbnQ7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGFkZC9yZW1vdmUgY2VsbCBwcm90b3R5cGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxubGV0IHByb3RvID0gRmxpY2tpdHkucHJvdG90eXBlO1xuXG4vKipcbiAqIEluc2VydCwgcHJlcGVuZCwgb3IgYXBwZW5kIGNlbGxzXG4gKiBAcGFyYW0ge1tFbGVtZW50LCBBcnJheSwgTm9kZUxpc3RdfSBlbGVtcyAtIEVsZW1lbnRzIHRvIGluc2VydFxuICogQHBhcmFtIHtJbnRlZ2VyfSBpbmRleCAtIFplcm8tYmFzZWQgbnVtYmVyIHRvIGluc2VydFxuICovXG5wcm90by5pbnNlcnQgPSBmdW5jdGlvbiggZWxlbXMsIGluZGV4ICkge1xuICBsZXQgY2VsbHMgPSB0aGlzLl9tYWtlQ2VsbHMoIGVsZW1zICk7XG4gIGlmICggIWNlbGxzIHx8ICFjZWxscy5sZW5ndGggKSByZXR1cm47XG5cbiAgbGV0IGxlbiA9IHRoaXMuY2VsbHMubGVuZ3RoO1xuICAvLyBkZWZhdWx0IHRvIGFwcGVuZFxuICBpbmRleCA9IGluZGV4ID09PSB1bmRlZmluZWQgPyBsZW4gOiBpbmRleDtcbiAgLy8gYWRkIGNlbGxzIHdpdGggZG9jdW1lbnQgZnJhZ21lbnRcbiAgbGV0IGZyYWdtZW50ID0gZ2V0Q2VsbHNGcmFnbWVudCggY2VsbHMgKTtcbiAgLy8gYXBwZW5kIHRvIHNsaWRlclxuICBsZXQgaXNBcHBlbmQgPSBpbmRleCA9PT0gbGVuO1xuICBpZiAoIGlzQXBwZW5kICkge1xuICAgIHRoaXMuc2xpZGVyLmFwcGVuZENoaWxkKCBmcmFnbWVudCApO1xuICB9IGVsc2Uge1xuICAgIGxldCBpbnNlcnRDZWxsRWxlbWVudCA9IHRoaXMuY2VsbHNbIGluZGV4IF0uZWxlbWVudDtcbiAgICB0aGlzLnNsaWRlci5pbnNlcnRCZWZvcmUoIGZyYWdtZW50LCBpbnNlcnRDZWxsRWxlbWVudCApO1xuICB9XG4gIC8vIGFkZCB0byB0aGlzLmNlbGxzXG4gIGlmICggaW5kZXggPT09IDAgKSB7XG4gICAgLy8gcHJlcGVuZCwgYWRkIHRvIHN0YXJ0XG4gICAgdGhpcy5jZWxscyA9IGNlbGxzLmNvbmNhdCggdGhpcy5jZWxscyApO1xuICB9IGVsc2UgaWYgKCBpc0FwcGVuZCApIHtcbiAgICAvLyBhcHBlbmQsIGFkZCB0byBlbmRcbiAgICB0aGlzLmNlbGxzID0gdGhpcy5jZWxscy5jb25jYXQoIGNlbGxzICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gaW5zZXJ0IGluIHRoaXMuY2VsbHNcbiAgICBsZXQgZW5kQ2VsbHMgPSB0aGlzLmNlbGxzLnNwbGljZSggaW5kZXgsIGxlbiAtIGluZGV4ICk7XG4gICAgdGhpcy5jZWxscyA9IHRoaXMuY2VsbHMuY29uY2F0KCBjZWxscyApLmNvbmNhdCggZW5kQ2VsbHMgKTtcbiAgfVxuXG4gIHRoaXMuX3NpemVDZWxscyggY2VsbHMgKTtcbiAgdGhpcy5jZWxsQ2hhbmdlKCBpbmRleCApO1xuICB0aGlzLnBvc2l0aW9uU2xpZGVyQXRTZWxlY3RlZCgpO1xufTtcblxucHJvdG8uYXBwZW5kID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICB0aGlzLmluc2VydCggZWxlbXMsIHRoaXMuY2VsbHMubGVuZ3RoICk7XG59O1xuXG5wcm90by5wcmVwZW5kID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICB0aGlzLmluc2VydCggZWxlbXMsIDAgKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGNlbGxzXG4gKiBAcGFyYW0ge1tFbGVtZW50LCBBcnJheSwgTm9kZUxpc3RdfSBlbGVtcyAtIEVMZW1lbnRzIHRvIHJlbW92ZVxuICovXG5wcm90by5yZW1vdmUgPSBmdW5jdGlvbiggZWxlbXMgKSB7XG4gIGxldCBjZWxscyA9IHRoaXMuZ2V0Q2VsbHMoIGVsZW1zICk7XG4gIGlmICggIWNlbGxzIHx8ICFjZWxscy5sZW5ndGggKSByZXR1cm47XG5cbiAgbGV0IG1pbkNlbGxJbmRleCA9IHRoaXMuY2VsbHMubGVuZ3RoIC0gMTtcbiAgLy8gcmVtb3ZlIGNlbGxzIGZyb20gY29sbGVjdGlvbiAmIERPTVxuICBjZWxscy5mb3JFYWNoKCAoIGNlbGwgKSA9PiB7XG4gICAgY2VsbC5yZW1vdmUoKTtcbiAgICBsZXQgaW5kZXggPSB0aGlzLmNlbGxzLmluZGV4T2YoIGNlbGwgKTtcbiAgICBtaW5DZWxsSW5kZXggPSBNYXRoLm1pbiggaW5kZXgsIG1pbkNlbGxJbmRleCApO1xuICAgIHV0aWxzLnJlbW92ZUZyb20oIHRoaXMuY2VsbHMsIGNlbGwgKTtcbiAgfSApO1xuXG4gIHRoaXMuY2VsbENoYW5nZSggbWluQ2VsbEluZGV4ICk7XG4gIHRoaXMucG9zaXRpb25TbGlkZXJBdFNlbGVjdGVkKCk7XG59O1xuXG4vKipcbiAqIGxvZ2ljIHRvIGJlIHJ1biBhZnRlciBhIGNlbGwncyBzaXplIGNoYW5nZXNcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbSAtIGNlbGwncyBlbGVtZW50XG4gKi9cbnByb3RvLmNlbGxTaXplQ2hhbmdlID0gZnVuY3Rpb24oIGVsZW0gKSB7XG4gIGxldCBjZWxsID0gdGhpcy5nZXRDZWxsKCBlbGVtICk7XG4gIGlmICggIWNlbGwgKSByZXR1cm47XG5cbiAgY2VsbC5nZXRTaXplKCk7XG5cbiAgbGV0IGluZGV4ID0gdGhpcy5jZWxscy5pbmRleE9mKCBjZWxsICk7XG4gIHRoaXMuY2VsbENoYW5nZSggaW5kZXggKTtcbiAgLy8gZG8gbm90IHBvc2l0aW9uIHNsaWRlciBhZnRlciBsYXp5IGxvYWRcbn07XG5cbi8qKlxuICogbG9naWMgYW55IHRpbWUgYSBjZWxsIGlzIGNoYW5nZWQ6IGFkZGVkLCByZW1vdmVkLCBvciBzaXplIGNoYW5nZWRcbiAqIEBwYXJhbSB7SW50ZWdlcn0gY2hhbmdlZENlbGxJbmRleCAtIGluZGV4IG9mIHRoZSBjaGFuZ2VkIGNlbGwsIG9wdGlvbmFsXG4gKi9cbnByb3RvLmNlbGxDaGFuZ2UgPSBmdW5jdGlvbiggY2hhbmdlZENlbGxJbmRleCApIHtcbiAgbGV0IHByZXZTZWxlY3RlZEVsZW0gPSB0aGlzLnNlbGVjdGVkRWxlbWVudDtcbiAgdGhpcy5fcG9zaXRpb25DZWxscyggY2hhbmdlZENlbGxJbmRleCApO1xuICB0aGlzLl91cGRhdGVXcmFwU2hpZnRDZWxscygpO1xuICB0aGlzLnNldEdhbGxlcnlTaXplKCk7XG4gIC8vIHVwZGF0ZSBzZWxlY3RlZEluZGV4LCB0cnkgdG8gbWFpbnRhaW4gcG9zaXRpb24gJiBzZWxlY3QgcHJldmlvdXMgc2VsZWN0ZWQgZWxlbWVudFxuICBsZXQgY2VsbCA9IHRoaXMuZ2V0Q2VsbCggcHJldlNlbGVjdGVkRWxlbSApO1xuICBpZiAoIGNlbGwgKSB0aGlzLnNlbGVjdGVkSW5kZXggPSB0aGlzLmdldENlbGxTbGlkZUluZGV4KCBjZWxsICk7XG4gIHRoaXMuc2VsZWN0ZWRJbmRleCA9IE1hdGgubWluKCB0aGlzLnNsaWRlcy5sZW5ndGggLSAxLCB0aGlzLnNlbGVjdGVkSW5kZXggKTtcblxuICB0aGlzLmVtaXRFdmVudCggJ2NlbGxDaGFuZ2UnLCBbIGNoYW5nZWRDZWxsSW5kZXggXSApO1xuICAvLyBwb3NpdGlvbiBzbGlkZXJcbiAgdGhpcy5zZWxlY3QoIHRoaXMuc2VsZWN0ZWRJbmRleCApO1xufTtcblxuLy8gLS0tLS0gIC0tLS0tIC8vXG5cbnJldHVybiBGbGlja2l0eTtcblxufSApICk7XG5cbn0se1wiLi9jb3JlXCI6NixcImZpenp5LXVpLXV0aWxzXCI6Mn1dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gYW5pbWF0ZVxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCByZXF1aXJlKCdmaXp6eS11aS11dGlscycpICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuRmxpY2tpdHkgPSB3aW5kb3cuRmxpY2tpdHkgfHwge307XG4gICAgd2luZG93LkZsaWNraXR5LmFuaW1hdGVQcm90b3R5cGUgPSBmYWN0b3J5KCB3aW5kb3cuZml6enlVSVV0aWxzICk7XG4gIH1cblxufSggdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uIGZhY3RvcnkoIHV0aWxzICkge1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBhbmltYXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbmxldCBwcm90byA9IHt9O1xuXG5wcm90by5zdGFydEFuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIHRoaXMuaXNBbmltYXRpbmcgKSByZXR1cm47XG5cbiAgdGhpcy5pc0FuaW1hdGluZyA9IHRydWU7XG4gIHRoaXMucmVzdGluZ0ZyYW1lcyA9IDA7XG4gIHRoaXMuYW5pbWF0ZSgpO1xufTtcblxucHJvdG8uYW5pbWF0ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmFwcGx5RHJhZ0ZvcmNlKCk7XG4gIHRoaXMuYXBwbHlTZWxlY3RlZEF0dHJhY3Rpb24oKTtcblxuICBsZXQgcHJldmlvdXNYID0gdGhpcy54O1xuXG4gIHRoaXMuaW50ZWdyYXRlUGh5c2ljcygpO1xuICB0aGlzLnBvc2l0aW9uU2xpZGVyKCk7XG4gIHRoaXMuc2V0dGxlKCBwcmV2aW91c1ggKTtcbiAgLy8gYW5pbWF0ZSBuZXh0IGZyYW1lXG4gIGlmICggdGhpcy5pc0FuaW1hdGluZyApIHJlcXVlc3RBbmltYXRpb25GcmFtZSggKCkgPT4gdGhpcy5hbmltYXRlKCkgKTtcbn07XG5cbnByb3RvLnBvc2l0aW9uU2xpZGVyID0gZnVuY3Rpb24oKSB7XG4gIGxldCB4ID0gdGhpcy54O1xuICAvLyB3cmFwIHBvc2l0aW9uIGFyb3VuZFxuICBpZiAoIHRoaXMuaXNXcmFwcGluZyApIHtcbiAgICB4ID0gdXRpbHMubW9kdWxvKCB4LCB0aGlzLnNsaWRlYWJsZVdpZHRoICkgLSB0aGlzLnNsaWRlYWJsZVdpZHRoO1xuICAgIHRoaXMuc2hpZnRXcmFwQ2VsbHMoIHggKTtcbiAgfVxuXG4gIHRoaXMuc2V0VHJhbnNsYXRlWCggeCwgdGhpcy5pc0FuaW1hdGluZyApO1xuICB0aGlzLmRpc3BhdGNoU2Nyb2xsRXZlbnQoKTtcbn07XG5cbnByb3RvLnNldFRyYW5zbGF0ZVggPSBmdW5jdGlvbiggeCwgaXMzZCApIHtcbiAgeCArPSB0aGlzLmN1cnNvclBvc2l0aW9uO1xuICAvLyByZXZlcnNlIGlmIHJpZ2h0LXRvLWxlZnQgYW5kIHVzaW5nIHRyYW5zZm9ybVxuICBpZiAoIHRoaXMub3B0aW9ucy5yaWdodFRvTGVmdCApIHggPSAteDtcbiAgbGV0IHRyYW5zbGF0ZVggPSB0aGlzLmdldFBvc2l0aW9uVmFsdWUoIHggKTtcbiAgLy8gdXNlIDNEIHRyYW5zZm9ybXMgZm9yIGhhcmR3YXJlIGFjY2VsZXJhdGlvbiBvbiBpT1NcbiAgLy8gYnV0IHVzZSAyRCB3aGVuIHNldHRsZWQsIGZvciBiZXR0ZXIgZm9udC1yZW5kZXJpbmdcbiAgdGhpcy5zbGlkZXIuc3R5bGUudHJhbnNmb3JtID0gaXMzZCA/XG4gICAgYHRyYW5zbGF0ZTNkKCR7dHJhbnNsYXRlWH0sMCwwKWAgOiBgdHJhbnNsYXRlWCgke3RyYW5zbGF0ZVh9KWA7XG59O1xuXG5wcm90by5kaXNwYXRjaFNjcm9sbEV2ZW50ID0gZnVuY3Rpb24oKSB7XG4gIGxldCBmaXJzdFNsaWRlID0gdGhpcy5zbGlkZXNbMF07XG4gIGlmICggIWZpcnN0U2xpZGUgKSByZXR1cm47XG5cbiAgbGV0IHBvc2l0aW9uWCA9IC10aGlzLnggLSBmaXJzdFNsaWRlLnRhcmdldDtcbiAgbGV0IHByb2dyZXNzID0gcG9zaXRpb25YIC8gdGhpcy5zbGlkZXNXaWR0aDtcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KCAnc2Nyb2xsJywgbnVsbCwgWyBwcm9ncmVzcywgcG9zaXRpb25YIF0gKTtcbn07XG5cbnByb3RvLnBvc2l0aW9uU2xpZGVyQXRTZWxlY3RlZCA9IGZ1bmN0aW9uKCkge1xuICBpZiAoICF0aGlzLmNlbGxzLmxlbmd0aCApIHJldHVybjtcblxuICB0aGlzLnggPSAtdGhpcy5zZWxlY3RlZFNsaWRlLnRhcmdldDtcbiAgdGhpcy52ZWxvY2l0eSA9IDA7IC8vIHN0b3Agd29iYmxlXG4gIHRoaXMucG9zaXRpb25TbGlkZXIoKTtcbn07XG5cbnByb3RvLmdldFBvc2l0aW9uVmFsdWUgPSBmdW5jdGlvbiggcG9zaXRpb24gKSB7XG4gIGlmICggdGhpcy5vcHRpb25zLnBlcmNlbnRQb3NpdGlvbiApIHtcbiAgICAvLyBwZXJjZW50IHBvc2l0aW9uLCByb3VuZCB0byAyIGRpZ2l0cywgbGlrZSAxMi4zNCVcbiAgICByZXR1cm4gKCBNYXRoLnJvdW5kKCAoIHBvc2l0aW9uIC8gdGhpcy5zaXplLmlubmVyV2lkdGggKSAqIDEwMDAwICkgKiAwLjAxICkgKyAnJSc7XG4gIH0gZWxzZSB7XG4gICAgLy8gcGl4ZWwgcG9zaXRpb25pbmdcbiAgICByZXR1cm4gTWF0aC5yb3VuZCggcG9zaXRpb24gKSArICdweCc7XG4gIH1cbn07XG5cbnByb3RvLnNldHRsZSA9IGZ1bmN0aW9uKCBwcmV2aW91c1ggKSB7XG4gIC8vIGtlZXAgdHJhY2sgb2YgZnJhbWVzIHdoZXJlIHggaGFzbid0IG1vdmVkXG4gIGxldCBpc1Jlc3RpbmcgPSAhdGhpcy5pc1BvaW50ZXJEb3duICYmXG4gICAgICBNYXRoLnJvdW5kKCB0aGlzLnggKiAxMDAgKSA9PT0gTWF0aC5yb3VuZCggcHJldmlvdXNYICogMTAwICk7XG4gIGlmICggaXNSZXN0aW5nICkgdGhpcy5yZXN0aW5nRnJhbWVzKys7XG4gIC8vIHN0b3AgYW5pbWF0aW5nIGlmIHJlc3RpbmcgZm9yIDMgb3IgbW9yZSBmcmFtZXNcbiAgaWYgKCB0aGlzLnJlc3RpbmdGcmFtZXMgPiAyICkge1xuICAgIHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTtcbiAgICBkZWxldGUgdGhpcy5pc0ZyZWVTY3JvbGxpbmc7XG4gICAgLy8gcmVuZGVyIHBvc2l0aW9uIHdpdGggdHJhbnNsYXRlWCB3aGVuIHNldHRsZWRcbiAgICB0aGlzLnBvc2l0aW9uU2xpZGVyKCk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KCAnc2V0dGxlJywgbnVsbCwgWyB0aGlzLnNlbGVjdGVkSW5kZXggXSApO1xuICB9XG59O1xuXG5wcm90by5zaGlmdFdyYXBDZWxscyA9IGZ1bmN0aW9uKCB4ICkge1xuICAvLyBzaGlmdCBiZWZvcmUgY2VsbHNcbiAgbGV0IGJlZm9yZUdhcCA9IHRoaXMuY3Vyc29yUG9zaXRpb24gKyB4O1xuICB0aGlzLl9zaGlmdENlbGxzKCB0aGlzLmJlZm9yZVNoaWZ0Q2VsbHMsIGJlZm9yZUdhcCwgLTEgKTtcbiAgLy8gc2hpZnQgYWZ0ZXIgY2VsbHNcbiAgbGV0IGFmdGVyR2FwID0gdGhpcy5zaXplLmlubmVyV2lkdGggLSAoIHggKyB0aGlzLnNsaWRlYWJsZVdpZHRoICsgdGhpcy5jdXJzb3JQb3NpdGlvbiApO1xuICB0aGlzLl9zaGlmdENlbGxzKCB0aGlzLmFmdGVyU2hpZnRDZWxscywgYWZ0ZXJHYXAsIDEgKTtcbn07XG5cbnByb3RvLl9zaGlmdENlbGxzID0gZnVuY3Rpb24oIGNlbGxzLCBnYXAsIHNoaWZ0ICkge1xuICBjZWxscy5mb3JFYWNoKCAoIGNlbGwgKSA9PiB7XG4gICAgbGV0IGNlbGxTaGlmdCA9IGdhcCA+IDAgPyBzaGlmdCA6IDA7XG4gICAgdGhpcy5fd3JhcFNoaWZ0Q2VsbCggY2VsbCwgY2VsbFNoaWZ0ICk7XG4gICAgZ2FwIC09IGNlbGwuc2l6ZS5vdXRlcldpZHRoO1xuICB9ICk7XG59O1xuXG5wcm90by5fdW5zaGlmdENlbGxzID0gZnVuY3Rpb24oIGNlbGxzICkge1xuICBpZiAoICFjZWxscyB8fCAhY2VsbHMubGVuZ3RoICkgcmV0dXJuO1xuXG4gIGNlbGxzLmZvckVhY2goICggY2VsbCApID0+IHRoaXMuX3dyYXBTaGlmdENlbGwoIGNlbGwsIDAgKSApO1xufTtcblxuLy8gQHBhcmFtIHtJbnRlZ2VyfSBzaGlmdCAtIDAsIDEsIG9yIC0xXG5wcm90by5fd3JhcFNoaWZ0Q2VsbCA9IGZ1bmN0aW9uKCBjZWxsLCBzaGlmdCApIHtcbiAgdGhpcy5fcmVuZGVyQ2VsbFBvc2l0aW9uKCBjZWxsLCBjZWxsLnggKyB0aGlzLnNsaWRlYWJsZVdpZHRoICogc2hpZnQgKTtcbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHBoeXNpY3MgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxucHJvdG8uaW50ZWdyYXRlUGh5c2ljcyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnggKz0gdGhpcy52ZWxvY2l0eTtcbiAgdGhpcy52ZWxvY2l0eSAqPSB0aGlzLmdldEZyaWN0aW9uRmFjdG9yKCk7XG59O1xuXG5wcm90by5hcHBseUZvcmNlID0gZnVuY3Rpb24oIGZvcmNlICkge1xuICB0aGlzLnZlbG9jaXR5ICs9IGZvcmNlO1xufTtcblxucHJvdG8uZ2V0RnJpY3Rpb25GYWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIDEgLSB0aGlzLm9wdGlvbnNbIHRoaXMuaXNGcmVlU2Nyb2xsaW5nID8gJ2ZyZWVTY3JvbGxGcmljdGlvbicgOiAnZnJpY3Rpb24nIF07XG59O1xuXG5wcm90by5nZXRSZXN0aW5nUG9zaXRpb24gPSBmdW5jdGlvbigpIHtcbiAgLy8gbXkgdGhhbmtzIHRvIFN0ZXZlbiBXaXR0ZW5zLCB3aG8gc2ltcGxpZmllZCB0aGlzIG1hdGggZ3JlYXRseVxuICByZXR1cm4gdGhpcy54ICsgdGhpcy52ZWxvY2l0eSAvICggMSAtIHRoaXMuZ2V0RnJpY3Rpb25GYWN0b3IoKSApO1xufTtcblxucHJvdG8uYXBwbHlEcmFnRm9yY2UgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCAhdGhpcy5pc0RyYWdnYWJsZSB8fCAhdGhpcy5pc1BvaW50ZXJEb3duICkgcmV0dXJuO1xuXG4gIC8vIGNoYW5nZSB0aGUgcG9zaXRpb24gdG8gZHJhZyBwb3NpdGlvbiBieSBhcHBseWluZyBmb3JjZVxuICBsZXQgZHJhZ1ZlbG9jaXR5ID0gdGhpcy5kcmFnWCAtIHRoaXMueDtcbiAgbGV0IGRyYWdGb3JjZSA9IGRyYWdWZWxvY2l0eSAtIHRoaXMudmVsb2NpdHk7XG4gIHRoaXMuYXBwbHlGb3JjZSggZHJhZ0ZvcmNlICk7XG59O1xuXG5wcm90by5hcHBseVNlbGVjdGVkQXR0cmFjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAvLyBkbyBub3QgYXR0cmFjdCBpZiBwb2ludGVyIGRvd24gb3Igbm8gc2xpZGVzXG4gIGxldCBkcmFnRG93biA9IHRoaXMuaXNEcmFnZ2FibGUgJiYgdGhpcy5pc1BvaW50ZXJEb3duO1xuICBpZiAoIGRyYWdEb3duIHx8IHRoaXMuaXNGcmVlU2Nyb2xsaW5nIHx8ICF0aGlzLnNsaWRlcy5sZW5ndGggKSByZXR1cm47XG5cbiAgbGV0IGRpc3RhbmNlID0gdGhpcy5zZWxlY3RlZFNsaWRlLnRhcmdldCAqIC0xIC0gdGhpcy54O1xuICBsZXQgZm9yY2UgPSBkaXN0YW5jZSAqIHRoaXMub3B0aW9ucy5zZWxlY3RlZEF0dHJhY3Rpb247XG4gIHRoaXMuYXBwbHlGb3JjZSggZm9yY2UgKTtcbn07XG5cbnJldHVybiBwcm90bztcblxufSApICk7XG5cbn0se1wiZml6enktdWktdXRpbHNcIjoyfV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyBGbGlja2l0eS5DZWxsXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoIHJlcXVpcmUoJ2dldC1zaXplJykgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5GbGlja2l0eSA9IHdpbmRvdy5GbGlja2l0eSB8fCB7fTtcbiAgICB3aW5kb3cuRmxpY2tpdHkuQ2VsbCA9IGZhY3RvcnkoIHdpbmRvdy5nZXRTaXplICk7XG4gIH1cblxufSggdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uIGZhY3RvcnkoIGdldFNpemUgKSB7XG5cbmNvbnN0IGNlbGxDbGFzc05hbWUgPSAnZmxpY2tpdHktY2VsbCc7XG5cbmZ1bmN0aW9uIENlbGwoIGVsZW0gKSB7XG4gIHRoaXMuZWxlbWVudCA9IGVsZW07XG4gIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCBjZWxsQ2xhc3NOYW1lICk7XG5cbiAgdGhpcy54ID0gMDtcbiAgdGhpcy51bnNlbGVjdCgpO1xufVxuXG5sZXQgcHJvdG8gPSBDZWxsLnByb3RvdHlwZTtcblxucHJvdG8uZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAvLyByZXNldCBzdHlsZVxuICB0aGlzLnVuc2VsZWN0KCk7XG4gIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCBjZWxsQ2xhc3NOYW1lICk7XG4gIHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcbn07XG5cbnByb3RvLmdldFNpemUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5zaXplID0gZ2V0U2l6ZSggdGhpcy5lbGVtZW50ICk7XG59O1xuXG5wcm90by5zZWxlY3QgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2lzLXNlbGVjdGVkJyk7XG4gIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyk7XG59O1xuXG5wcm90by51bnNlbGVjdCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtc2VsZWN0ZWQnKTtcbiAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSggJ2FyaWEtaGlkZGVuJywgJ3RydWUnICk7XG59O1xuXG5wcm90by5yZW1vdmUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbGVtZW50LnJlbW92ZSgpO1xufTtcblxucmV0dXJuIENlbGw7XG5cbn0gKSApO1xuXG59LHtcImdldC1zaXplXCI6MTV9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIEZsaWNraXR5IG1haW5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1wYXJhbXMgKi9cbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgICAgd2luZG93LFxuICAgICAgICByZXF1aXJlKCdldi1lbWl0dGVyJyksXG4gICAgICAgIHJlcXVpcmUoJ2dldC1zaXplJyksXG4gICAgICAgIHJlcXVpcmUoJ2Zpenp5LXVpLXV0aWxzJyksXG4gICAgICAgIHJlcXVpcmUoJy4vY2VsbCcpLFxuICAgICAgICByZXF1aXJlKCcuL3NsaWRlJyksXG4gICAgICAgIHJlcXVpcmUoJy4vYW5pbWF0ZScpLFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICBsZXQgX0ZsaWNraXR5ID0gd2luZG93LkZsaWNraXR5O1xuXG4gICAgd2luZG93LkZsaWNraXR5ID0gZmFjdG9yeShcbiAgICAgICAgd2luZG93LFxuICAgICAgICB3aW5kb3cuRXZFbWl0dGVyLFxuICAgICAgICB3aW5kb3cuZ2V0U2l6ZSxcbiAgICAgICAgd2luZG93LmZpenp5VUlVdGlscyxcbiAgICAgICAgX0ZsaWNraXR5LkNlbGwsXG4gICAgICAgIF9GbGlja2l0eS5TbGlkZSxcbiAgICAgICAgX0ZsaWNraXR5LmFuaW1hdGVQcm90b3R5cGUsXG4gICAgKTtcbiAgfVxuXG59KCB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnID8gd2luZG93IDogdGhpcyxcbiAgICBmdW5jdGlvbiBmYWN0b3J5KCB3aW5kb3csIEV2RW1pdHRlciwgZ2V0U2l6ZSwgdXRpbHMsIENlbGwsIFNsaWRlLCBhbmltYXRlUHJvdG90eXBlICkge1xuLyogZXNsaW50LWVuYWJsZSBtYXgtcGFyYW1zICovXG5cbi8vIHZhcnNcbmNvbnN0IHsgZ2V0Q29tcHV0ZWRTdHlsZSwgY29uc29sZSB9ID0gd2luZG93O1xubGV0IHsgalF1ZXJ5IH0gPSB3aW5kb3c7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEZsaWNraXR5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8vIGdsb2JhbGx5IHVuaXF1ZSBpZGVudGlmaWVyc1xubGV0IEdVSUQgPSAwO1xuLy8gaW50ZXJuYWwgc3RvcmUgb2YgYWxsIEZsaWNraXR5IGludGFuY2VzXG5sZXQgaW5zdGFuY2VzID0ge307XG5cbmZ1bmN0aW9uIEZsaWNraXR5KCBlbGVtZW50LCBvcHRpb25zICkge1xuICBsZXQgcXVlcnlFbGVtZW50ID0gdXRpbHMuZ2V0UXVlcnlFbGVtZW50KCBlbGVtZW50ICk7XG4gIGlmICggIXF1ZXJ5RWxlbWVudCApIHtcbiAgICBpZiAoIGNvbnNvbGUgKSBjb25zb2xlLmVycm9yKGBCYWQgZWxlbWVudCBmb3IgRmxpY2tpdHk6ICR7cXVlcnlFbGVtZW50IHx8IGVsZW1lbnR9YCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMuZWxlbWVudCA9IHF1ZXJ5RWxlbWVudDtcbiAgLy8gZG8gbm90IGluaXRpYWxpemUgdHdpY2Ugb24gc2FtZSBlbGVtZW50XG4gIGlmICggdGhpcy5lbGVtZW50LmZsaWNraXR5R1VJRCApIHtcbiAgICBsZXQgaW5zdGFuY2UgPSBpbnN0YW5jZXNbIHRoaXMuZWxlbWVudC5mbGlja2l0eUdVSUQgXTtcbiAgICBpZiAoIGluc3RhbmNlICkgaW5zdGFuY2Uub3B0aW9uKCBvcHRpb25zICk7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG5cbiAgLy8gYWRkIGpRdWVyeVxuICBpZiAoIGpRdWVyeSApIHtcbiAgICB0aGlzLiRlbGVtZW50ID0galF1ZXJ5KCB0aGlzLmVsZW1lbnQgKTtcbiAgfVxuICAvLyBvcHRpb25zXG4gIHRoaXMub3B0aW9ucyA9IHsgLi4udGhpcy5jb25zdHJ1Y3Rvci5kZWZhdWx0cyB9O1xuICB0aGlzLm9wdGlvbiggb3B0aW9ucyApO1xuXG4gIC8vIGtpY2sgdGhpbmdzIG9mZlxuICB0aGlzLl9jcmVhdGUoKTtcbn1cblxuRmxpY2tpdHkuZGVmYXVsdHMgPSB7XG4gIGFjY2Vzc2liaWxpdHk6IHRydWUsXG4gIC8vIGFkYXB0aXZlSGVpZ2h0OiBmYWxzZSxcbiAgY2VsbEFsaWduOiAnY2VudGVyJyxcbiAgLy8gY2VsbFNlbGVjdG9yOiB1bmRlZmluZWQsXG4gIC8vIGNvbnRhaW46IGZhbHNlLFxuICBmcmVlU2Nyb2xsRnJpY3Rpb246IDAuMDc1LCAvLyBmcmljdGlvbiB3aGVuIGZyZWUtc2Nyb2xsaW5nXG4gIGZyaWN0aW9uOiAwLjI4LCAvLyBmcmljdGlvbiB3aGVuIHNlbGVjdGluZ1xuICBuYW1lc3BhY2VKUXVlcnlFdmVudHM6IHRydWUsXG4gIC8vIGluaXRpYWxJbmRleDogMCxcbiAgcGVyY2VudFBvc2l0aW9uOiB0cnVlLFxuICByZXNpemU6IHRydWUsXG4gIHNlbGVjdGVkQXR0cmFjdGlvbjogMC4wMjUsXG4gIHNldEdhbGxlcnlTaXplOiB0cnVlLFxuICAvLyB3YXRjaENTUzogZmFsc2UsXG4gIC8vIHdyYXBBcm91bmQ6IGZhbHNlXG59O1xuXG4vLyBoYXNoIG9mIG1ldGhvZHMgdHJpZ2dlcmVkIG9uIF9jcmVhdGUoKVxuRmxpY2tpdHkuY3JlYXRlID0ge307XG5cbmxldCBwcm90byA9IEZsaWNraXR5LnByb3RvdHlwZTtcbi8vIGluaGVyaXQgRXZlbnRFbWl0dGVyXG5PYmplY3QuYXNzaWduKCBwcm90bywgRXZFbWl0dGVyLnByb3RvdHlwZSApO1xuXG5wcm90by5fY3JlYXRlID0gZnVuY3Rpb24oKSB7XG4gIGxldCB7IHJlc2l6ZSwgd2F0Y2hDU1MsIHJpZ2h0VG9MZWZ0IH0gPSB0aGlzLm9wdGlvbnM7XG4gIC8vIGFkZCBpZCBmb3IgRmxpY2tpdHkuZGF0YVxuICBsZXQgaWQgPSB0aGlzLmd1aWQgPSArK0dVSUQ7XG4gIHRoaXMuZWxlbWVudC5mbGlja2l0eUdVSUQgPSBpZDsgLy8gZXhwYW5kb1xuICBpbnN0YW5jZXNbIGlkIF0gPSB0aGlzOyAvLyBhc3NvY2lhdGUgdmlhIGlkXG4gIC8vIGluaXRpYWwgcHJvcGVydGllc1xuICB0aGlzLnNlbGVjdGVkSW5kZXggPSAwO1xuICAvLyBob3cgbWFueSBmcmFtZXMgc2xpZGVyIGhhcyBiZWVuIGluIHNhbWUgcG9zaXRpb25cbiAgdGhpcy5yZXN0aW5nRnJhbWVzID0gMDtcbiAgLy8gaW5pdGlhbCBwaHlzaWNzIHByb3BlcnRpZXNcbiAgdGhpcy54ID0gMDtcbiAgdGhpcy52ZWxvY2l0eSA9IDA7XG4gIHRoaXMuYmVnaW5NYXJnaW4gPSByaWdodFRvTGVmdCA/ICdtYXJnaW5SaWdodCcgOiAnbWFyZ2luTGVmdCc7XG4gIHRoaXMuZW5kTWFyZ2luID0gcmlnaHRUb0xlZnQgPyAnbWFyZ2luTGVmdCcgOiAnbWFyZ2luUmlnaHQnO1xuICAvLyBjcmVhdGUgdmlld3BvcnQgJiBzbGlkZXJcbiAgdGhpcy52aWV3cG9ydCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB0aGlzLnZpZXdwb3J0LmNsYXNzTmFtZSA9ICdmbGlja2l0eS12aWV3cG9ydCc7XG4gIHRoaXMuX2NyZWF0ZVNsaWRlcigpO1xuICAvLyB1c2VkIGZvciBrZXlib2FyZCBuYXZpZ2F0aW9uXG4gIHRoaXMuZm9jdXNhYmxlRWxlbXMgPSBbIHRoaXMuZWxlbWVudCBdO1xuXG4gIGlmICggcmVzaXplIHx8IHdhdGNoQ1NTICkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAncmVzaXplJywgdGhpcyApO1xuICB9XG5cbiAgLy8gYWRkIGxpc3RlbmVycyBmcm9tIG9uIG9wdGlvblxuICBmb3IgKCBsZXQgZXZlbnROYW1lIGluIHRoaXMub3B0aW9ucy5vbiApIHtcbiAgICBsZXQgbGlzdGVuZXIgPSB0aGlzLm9wdGlvbnMub25bIGV2ZW50TmFtZSBdO1xuICAgIHRoaXMub24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKTtcbiAgfVxuXG4gIGZvciAoIGxldCBtZXRob2QgaW4gRmxpY2tpdHkuY3JlYXRlICkge1xuICAgIEZsaWNraXR5LmNyZWF0ZVsgbWV0aG9kIF0uY2FsbCggdGhpcyApO1xuICB9XG5cbiAgaWYgKCB3YXRjaENTUyApIHtcbiAgICB0aGlzLndhdGNoQ1NTKCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5hY3RpdmF0ZSgpO1xuICB9XG59O1xuXG4vKipcbiAqIHNldCBvcHRpb25zXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnMgdG8gZXh0ZW5kXG4gKi9cbnByb3RvLm9wdGlvbiA9IGZ1bmN0aW9uKCBvcHRzICkge1xuICBPYmplY3QuYXNzaWduKCB0aGlzLm9wdGlvbnMsIG9wdHMgKTtcbn07XG5cbnByb3RvLmFjdGl2YXRlID0gZnVuY3Rpb24oKSB7XG4gIGlmICggdGhpcy5pc0FjdGl2ZSApIHJldHVybjtcblxuICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcbiAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ZsaWNraXR5LWVuYWJsZWQnKTtcbiAgaWYgKCB0aGlzLm9wdGlvbnMucmlnaHRUb0xlZnQgKSB7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ZsaWNraXR5LXJ0bCcpO1xuICB9XG5cbiAgdGhpcy5nZXRTaXplKCk7XG4gIC8vIG1vdmUgaW5pdGlhbCBjZWxsIGVsZW1lbnRzIHNvIHRoZXkgY2FuIGJlIGxvYWRlZCBhcyBjZWxsc1xuICBsZXQgY2VsbEVsZW1zID0gdGhpcy5fZmlsdGVyRmluZENlbGxFbGVtZW50cyggdGhpcy5lbGVtZW50LmNoaWxkcmVuICk7XG4gIHRoaXMuc2xpZGVyLmFwcGVuZCggLi4uY2VsbEVsZW1zICk7XG4gIHRoaXMudmlld3BvcnQuYXBwZW5kKCB0aGlzLnNsaWRlciApO1xuICB0aGlzLmVsZW1lbnQuYXBwZW5kKCB0aGlzLnZpZXdwb3J0ICk7XG4gIC8vIGdldCBjZWxscyBmcm9tIGNoaWxkcmVuXG4gIHRoaXMucmVsb2FkQ2VsbHMoKTtcblxuICBpZiAoIHRoaXMub3B0aW9ucy5hY2Nlc3NpYmlsaXR5ICkge1xuICAgIC8vIGFsbG93IGVsZW1lbnQgdG8gZm9jdXNhYmxlXG4gICAgdGhpcy5lbGVtZW50LnRhYkluZGV4ID0gMDtcbiAgICAvLyBsaXN0ZW4gZm9yIGtleSBwcmVzc2VzXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdrZXlkb3duJywgdGhpcyApO1xuICB9XG5cbiAgdGhpcy5lbWl0RXZlbnQoJ2FjdGl2YXRlJyk7XG4gIHRoaXMuc2VsZWN0SW5pdGlhbEluZGV4KCk7XG4gIC8vIGZsYWcgZm9yIGluaXRpYWwgYWN0aXZhdGlvbiwgZm9yIHVzaW5nIGluaXRpYWxJbmRleFxuICB0aGlzLmlzSW5pdEFjdGl2YXRlZCA9IHRydWU7XG4gIC8vIHJlYWR5IGV2ZW50LiAjNDkzXG4gIHRoaXMuZGlzcGF0Y2hFdmVudCgncmVhZHknKTtcbn07XG5cbi8vIHNsaWRlciBwb3NpdGlvbnMgdGhlIGNlbGxzXG5wcm90by5fY3JlYXRlU2xpZGVyID0gZnVuY3Rpb24oKSB7XG4gIC8vIHNsaWRlciBlbGVtZW50IGRvZXMgYWxsIHRoZSBwb3NpdGlvbmluZ1xuICBsZXQgc2xpZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHNsaWRlci5jbGFzc05hbWUgPSAnZmxpY2tpdHktc2xpZGVyJztcbiAgdGhpcy5zbGlkZXIgPSBzbGlkZXI7XG59O1xuXG5wcm90by5fZmlsdGVyRmluZENlbGxFbGVtZW50cyA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgcmV0dXJuIHV0aWxzLmZpbHRlckZpbmRFbGVtZW50cyggZWxlbXMsIHRoaXMub3B0aW9ucy5jZWxsU2VsZWN0b3IgKTtcbn07XG5cbi8vIGdvZXMgdGhyb3VnaCBhbGwgY2hpbGRyZW5cbnByb3RvLnJlbG9hZENlbGxzID0gZnVuY3Rpb24oKSB7XG4gIC8vIGNvbGxlY3Rpb24gb2YgaXRlbSBlbGVtZW50c1xuICB0aGlzLmNlbGxzID0gdGhpcy5fbWFrZUNlbGxzKCB0aGlzLnNsaWRlci5jaGlsZHJlbiApO1xuICB0aGlzLnBvc2l0aW9uQ2VsbHMoKTtcbiAgdGhpcy5fdXBkYXRlV3JhcFNoaWZ0Q2VsbHMoKTtcbiAgdGhpcy5zZXRHYWxsZXJ5U2l6ZSgpO1xufTtcblxuLyoqXG4gKiB0dXJuIGVsZW1lbnRzIGludG8gRmxpY2tpdHkuQ2VsbHNcbiAqIEBwYXJhbSB7W0FycmF5LCBOb2RlTGlzdCwgSFRNTEVsZW1lbnRdfSBlbGVtcyAtIGVsZW1lbnRzIHRvIG1ha2UgaW50byBjZWxsc1xuICogQHJldHVybnMge0FycmF5fSBpdGVtcyAtIGNvbGxlY3Rpb24gb2YgbmV3IEZsaWNraXR5IENlbGxzXG4gKi9cbnByb3RvLl9tYWtlQ2VsbHMgPSBmdW5jdGlvbiggZWxlbXMgKSB7XG4gIGxldCBjZWxsRWxlbXMgPSB0aGlzLl9maWx0ZXJGaW5kQ2VsbEVsZW1lbnRzKCBlbGVtcyApO1xuXG4gIC8vIGNyZWF0ZSBuZXcgQ2VsbHMgZm9yIGNvbGxlY3Rpb25cbiAgcmV0dXJuIGNlbGxFbGVtcy5tYXAoICggY2VsbEVsZW0gKSA9PiBuZXcgQ2VsbCggY2VsbEVsZW0gKSApO1xufTtcblxucHJvdG8uZ2V0TGFzdENlbGwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuY2VsbHNbIHRoaXMuY2VsbHMubGVuZ3RoIC0gMSBdO1xufTtcblxucHJvdG8uZ2V0TGFzdFNsaWRlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnNsaWRlc1sgdGhpcy5zbGlkZXMubGVuZ3RoIC0gMSBdO1xufTtcblxuLy8gcG9zaXRpb25zIGFsbCBjZWxsc1xucHJvdG8ucG9zaXRpb25DZWxscyA9IGZ1bmN0aW9uKCkge1xuICAvLyBzaXplIGFsbCBjZWxsc1xuICB0aGlzLl9zaXplQ2VsbHMoIHRoaXMuY2VsbHMgKTtcbiAgLy8gcG9zaXRpb24gYWxsIGNlbGxzXG4gIHRoaXMuX3Bvc2l0aW9uQ2VsbHMoIDAgKTtcbn07XG5cbi8qKlxuICogcG9zaXRpb24gY2VydGFpbiBjZWxsc1xuICogQHBhcmFtIHtJbnRlZ2VyfSBpbmRleCAtIHdoaWNoIGNlbGwgdG8gc3RhcnQgd2l0aFxuICovXG5wcm90by5fcG9zaXRpb25DZWxscyA9IGZ1bmN0aW9uKCBpbmRleCApIHtcbiAgaW5kZXggPSBpbmRleCB8fCAwO1xuICAvLyBhbHNvIG1lYXN1cmUgbWF4Q2VsbEhlaWdodFxuICAvLyBzdGFydCAwIGlmIHBvc2l0aW9uaW5nIGFsbCBjZWxsc1xuICB0aGlzLm1heENlbGxIZWlnaHQgPSBpbmRleCA/IHRoaXMubWF4Q2VsbEhlaWdodCB8fCAwIDogMDtcbiAgbGV0IGNlbGxYID0gMDtcbiAgLy8gZ2V0IGNlbGxYXG4gIGlmICggaW5kZXggPiAwICkge1xuICAgIGxldCBzdGFydENlbGwgPSB0aGlzLmNlbGxzWyBpbmRleCAtIDEgXTtcbiAgICBjZWxsWCA9IHN0YXJ0Q2VsbC54ICsgc3RhcnRDZWxsLnNpemUub3V0ZXJXaWR0aDtcbiAgfVxuXG4gIHRoaXMuY2VsbHMuc2xpY2UoIGluZGV4ICkuZm9yRWFjaCggKCBjZWxsICkgPT4ge1xuICAgIGNlbGwueCA9IGNlbGxYO1xuICAgIHRoaXMuX3JlbmRlckNlbGxQb3NpdGlvbiggY2VsbCwgY2VsbFggKTtcbiAgICBjZWxsWCArPSBjZWxsLnNpemUub3V0ZXJXaWR0aDtcbiAgICB0aGlzLm1heENlbGxIZWlnaHQgPSBNYXRoLm1heCggY2VsbC5zaXplLm91dGVySGVpZ2h0LCB0aGlzLm1heENlbGxIZWlnaHQgKTtcbiAgfSApO1xuICAvLyBrZWVwIHRyYWNrIG9mIGNlbGxYIGZvciB3cmFwLWFyb3VuZFxuICB0aGlzLnNsaWRlYWJsZVdpZHRoID0gY2VsbFg7XG4gIC8vIHNsaWRlc1xuICB0aGlzLnVwZGF0ZVNsaWRlcygpO1xuICAvLyBjb250YWluIHNsaWRlcyB0YXJnZXRcbiAgdGhpcy5fY29udGFpblNsaWRlcygpO1xuICAvLyB1cGRhdGUgc2xpZGVzV2lkdGhcbiAgdGhpcy5zbGlkZXNXaWR0aCA9IHRoaXMuY2VsbHMubGVuZ3RoID9cbiAgICB0aGlzLmdldExhc3RTbGlkZSgpLnRhcmdldCAtIHRoaXMuc2xpZGVzWzBdLnRhcmdldCA6IDA7XG59O1xuXG5wcm90by5fcmVuZGVyQ2VsbFBvc2l0aW9uID0gZnVuY3Rpb24oIGNlbGwsIHggKSB7XG4gIC8vIHJlbmRlciBwb3NpdGlvbiBvZiBjZWxsIHdpdGggaW4gc2xpZGVyXG4gIGxldCBzaWRlT2Zmc2V0ID0gdGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0ID8gLTEgOiAxO1xuICBsZXQgcmVuZGVyWCA9IHggKiBzaWRlT2Zmc2V0O1xuICBpZiAoIHRoaXMub3B0aW9ucy5wZXJjZW50UG9zaXRpb24gKSByZW5kZXJYICo9IHRoaXMuc2l6ZS5pbm5lcldpZHRoIC8gY2VsbC5zaXplLndpZHRoO1xuICBsZXQgcG9zaXRpb25WYWx1ZSA9IHRoaXMuZ2V0UG9zaXRpb25WYWx1ZSggcmVuZGVyWCApO1xuICBjZWxsLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoICR7cG9zaXRpb25WYWx1ZX0gKWA7XG59O1xuXG4vKipcbiAqIGNlbGwuZ2V0U2l6ZSgpIG9uIG11bHRpcGxlIGNlbGxzXG4gKiBAcGFyYW0ge0FycmF5fSBjZWxscyAtIGNlbGxzIHRvIHNpemVcbiAqL1xucHJvdG8uX3NpemVDZWxscyA9IGZ1bmN0aW9uKCBjZWxscyApIHtcbiAgY2VsbHMuZm9yRWFjaCggKCBjZWxsICkgPT4gY2VsbC5nZXRTaXplKCkgKTtcbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5wcm90by51cGRhdGVTbGlkZXMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5zbGlkZXMgPSBbXTtcbiAgaWYgKCAhdGhpcy5jZWxscy5sZW5ndGggKSByZXR1cm47XG5cbiAgbGV0IHsgYmVnaW5NYXJnaW4sIGVuZE1hcmdpbiB9ID0gdGhpcztcbiAgbGV0IHNsaWRlID0gbmV3IFNsaWRlKCBiZWdpbk1hcmdpbiwgZW5kTWFyZ2luLCB0aGlzLmNlbGxBbGlnbiApO1xuICB0aGlzLnNsaWRlcy5wdXNoKCBzbGlkZSApO1xuXG4gIGxldCBjYW5DZWxsRml0ID0gdGhpcy5fZ2V0Q2FuQ2VsbEZpdCgpO1xuXG4gIHRoaXMuY2VsbHMuZm9yRWFjaCggKCBjZWxsLCBpICkgPT4ge1xuICAgIC8vIGp1c3QgYWRkIGNlbGwgaWYgZmlyc3QgY2VsbCBpbiBzbGlkZVxuICAgIGlmICggIXNsaWRlLmNlbGxzLmxlbmd0aCApIHtcbiAgICAgIHNsaWRlLmFkZENlbGwoIGNlbGwgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgc2xpZGVXaWR0aCA9ICggc2xpZGUub3V0ZXJXaWR0aCAtIHNsaWRlLmZpcnN0TWFyZ2luICkgK1xuICAgICAgKCBjZWxsLnNpemUub3V0ZXJXaWR0aCAtIGNlbGwuc2l6ZVsgZW5kTWFyZ2luIF0gKTtcblxuICAgIGlmICggY2FuQ2VsbEZpdCggaSwgc2xpZGVXaWR0aCApICkge1xuICAgICAgc2xpZGUuYWRkQ2VsbCggY2VsbCApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkb2Vzbid0IGZpdCwgbmV3IHNsaWRlXG4gICAgICBzbGlkZS51cGRhdGVUYXJnZXQoKTtcblxuICAgICAgc2xpZGUgPSBuZXcgU2xpZGUoIGJlZ2luTWFyZ2luLCBlbmRNYXJnaW4sIHRoaXMuY2VsbEFsaWduICk7XG4gICAgICB0aGlzLnNsaWRlcy5wdXNoKCBzbGlkZSApO1xuICAgICAgc2xpZGUuYWRkQ2VsbCggY2VsbCApO1xuICAgIH1cbiAgfSApO1xuICAvLyBsYXN0IHNsaWRlXG4gIHNsaWRlLnVwZGF0ZVRhcmdldCgpO1xuICAvLyB1cGRhdGUgLnNlbGVjdGVkU2xpZGVcbiAgdGhpcy51cGRhdGVTZWxlY3RlZFNsaWRlKCk7XG59O1xuXG5wcm90by5fZ2V0Q2FuQ2VsbEZpdCA9IGZ1bmN0aW9uKCkge1xuICBsZXQgeyBncm91cENlbGxzIH0gPSB0aGlzLm9wdGlvbnM7XG4gIGlmICggIWdyb3VwQ2VsbHMgKSByZXR1cm4gKCkgPT4gZmFsc2U7XG5cbiAgaWYgKCB0eXBlb2YgZ3JvdXBDZWxscyA9PSAnbnVtYmVyJyApIHtcbiAgICAvLyBncm91cCBieSBudW1iZXIuIDMgLT4gWzAsMSwyXSwgWzMsNCw1XSwgLi4uXG4gICAgbGV0IG51bWJlciA9IHBhcnNlSW50KCBncm91cENlbGxzLCAxMCApO1xuICAgIHJldHVybiAoIGkgKSA9PiAoIGkgJSBudW1iZXIgKSAhPT0gMDtcbiAgfVxuICAvLyBkZWZhdWx0LCBncm91cCBieSB3aWR0aCBvZiBzbGlkZVxuICBsZXQgcGVyY2VudCA9IDE7XG4gIC8vIHBhcnNlICc3NSVcbiAgbGV0IHBlcmNlbnRNYXRjaCA9IHR5cGVvZiBncm91cENlbGxzID09ICdzdHJpbmcnICYmIGdyb3VwQ2VsbHMubWF0Y2goIC9eKFxcZCspJSQvICk7XG4gIGlmICggcGVyY2VudE1hdGNoICkgcGVyY2VudCA9IHBhcnNlSW50KCBwZXJjZW50TWF0Y2hbMV0sIDEwICkgLyAxMDA7XG4gIGxldCBncm91cFdpZHRoID0gKCB0aGlzLnNpemUuaW5uZXJXaWR0aCArIDEgKSAqIHBlcmNlbnQ7XG4gIHJldHVybiAoIGksIHNsaWRlV2lkdGggKSA9PiBzbGlkZVdpZHRoIDw9IGdyb3VwV2lkdGg7XG59O1xuXG4vLyBhbGlhcyBfaW5pdCBmb3IgalF1ZXJ5IHBsdWdpbiAuZmxpY2tpdHkoKVxucHJvdG8uX2luaXQgPVxucHJvdG8ucmVwb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBvc2l0aW9uQ2VsbHMoKTtcbiAgdGhpcy5wb3NpdGlvblNsaWRlckF0U2VsZWN0ZWQoKTtcbn07XG5cbnByb3RvLmdldFNpemUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5zaXplID0gZ2V0U2l6ZSggdGhpcy5lbGVtZW50ICk7XG4gIHRoaXMuc2V0Q2VsbEFsaWduKCk7XG4gIHRoaXMuY3Vyc29yUG9zaXRpb24gPSB0aGlzLnNpemUuaW5uZXJXaWR0aCAqIHRoaXMuY2VsbEFsaWduO1xufTtcblxubGV0IGNlbGxBbGlnblNob3J0aGFuZHMgPSB7XG4gIGxlZnQ6IDAsXG4gIGNlbnRlcjogMC41LFxuICByaWdodDogMSxcbn07XG5cbnByb3RvLnNldENlbGxBbGlnbiA9IGZ1bmN0aW9uKCkge1xuICBsZXQgeyBjZWxsQWxpZ24sIHJpZ2h0VG9MZWZ0IH0gPSB0aGlzLm9wdGlvbnM7XG4gIGxldCBzaG9ydGhhbmQgPSBjZWxsQWxpZ25TaG9ydGhhbmRzWyBjZWxsQWxpZ24gXTtcbiAgdGhpcy5jZWxsQWxpZ24gPSBzaG9ydGhhbmQgIT09IHVuZGVmaW5lZCA/IHNob3J0aGFuZCA6IGNlbGxBbGlnbjtcbiAgaWYgKCByaWdodFRvTGVmdCApIHRoaXMuY2VsbEFsaWduID0gMSAtIHRoaXMuY2VsbEFsaWduO1xufTtcblxucHJvdG8uc2V0R2FsbGVyeVNpemUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCAhdGhpcy5vcHRpb25zLnNldEdhbGxlcnlTaXplICkgcmV0dXJuO1xuXG4gIGxldCBoZWlnaHQgPSB0aGlzLm9wdGlvbnMuYWRhcHRpdmVIZWlnaHQgJiYgdGhpcy5zZWxlY3RlZFNsaWRlID9cbiAgICB0aGlzLnNlbGVjdGVkU2xpZGUuaGVpZ2h0IDogdGhpcy5tYXhDZWxsSGVpZ2h0O1xuICB0aGlzLnZpZXdwb3J0LnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7XG59O1xuXG5wcm90by5fdXBkYXRlV3JhcFNoaWZ0Q2VsbHMgPSBmdW5jdGlvbigpIHtcbiAgLy8gdXBkYXRlIGlzV3JhcHBpbmdcbiAgdGhpcy5pc1dyYXBwaW5nID0gdGhpcy5nZXRJc1dyYXBwaW5nKCk7XG4gIC8vIG9ubHkgZm9yIHdyYXAtYXJvdW5kXG4gIGlmICggIXRoaXMuaXNXcmFwcGluZyApIHJldHVybjtcblxuICAvLyB1bnNoaWZ0IHByZXZpb3VzIGNlbGxzXG4gIHRoaXMuX3Vuc2hpZnRDZWxscyggdGhpcy5iZWZvcmVTaGlmdENlbGxzICk7XG4gIHRoaXMuX3Vuc2hpZnRDZWxscyggdGhpcy5hZnRlclNoaWZ0Q2VsbHMgKTtcbiAgLy8gZ2V0IGJlZm9yZSBjZWxsc1xuICAvLyBpbml0aWFsIGdhcFxuICBsZXQgYmVmb3JlR2FwWCA9IHRoaXMuY3Vyc29yUG9zaXRpb247XG4gIGxldCBsYXN0SW5kZXggPSB0aGlzLmNlbGxzLmxlbmd0aCAtIDE7XG4gIHRoaXMuYmVmb3JlU2hpZnRDZWxscyA9IHRoaXMuX2dldEdhcENlbGxzKCBiZWZvcmVHYXBYLCBsYXN0SW5kZXgsIC0xICk7XG4gIC8vIGdldCBhZnRlciBjZWxsc1xuICAvLyBlbmRpbmcgZ2FwIGJldHdlZW4gbGFzdCBjZWxsIGFuZCBlbmQgb2YgZ2FsbGVyeSB2aWV3cG9ydFxuICBsZXQgYWZ0ZXJHYXBYID0gdGhpcy5zaXplLmlubmVyV2lkdGggLSB0aGlzLmN1cnNvclBvc2l0aW9uO1xuICAvLyBzdGFydCBjbG9uaW5nIGF0IGZpcnN0IGNlbGwsIHdvcmtpbmcgZm9yd2FyZHNcbiAgdGhpcy5hZnRlclNoaWZ0Q2VsbHMgPSB0aGlzLl9nZXRHYXBDZWxscyggYWZ0ZXJHYXBYLCAwLCAxICk7XG59O1xuXG5wcm90by5nZXRJc1dyYXBwaW5nID0gZnVuY3Rpb24oKSB7XG4gIGxldCB7IHdyYXBBcm91bmQgfSA9IHRoaXMub3B0aW9ucztcbiAgaWYgKCAhd3JhcEFyb3VuZCB8fCB0aGlzLnNsaWRlcy5sZW5ndGggPCAyICkgcmV0dXJuIGZhbHNlO1xuXG4gIGlmICggd3JhcEFyb3VuZCAhPT0gJ2ZpbGwnICkgcmV0dXJuIHRydWU7XG4gIC8vIGNoZWNrIHRoYXQgc2xpZGVzIGNhbiBmaXRcblxuICBsZXQgZ2FwV2lkdGggPSB0aGlzLnNsaWRlYWJsZVdpZHRoIC0gdGhpcy5zaXplLmlubmVyV2lkdGg7XG4gIGlmICggZ2FwV2lkdGggPiB0aGlzLnNpemUuaW5uZXJXaWR0aCApIHJldHVybiB0cnVlOyAvLyBnYXAgKiAyeCBiaWcsIGFsbCBnb29kXG4gIC8vIGNoZWNrIHRoYXQgY29udGVudCB3aWR0aCAtIHNoaWZ0aW5nIGNlbGwgaXMgYmlnZ2VyIHRoYW4gdmlld3BvcnQgd2lkdGhcbiAgZm9yICggbGV0IGNlbGwgb2YgdGhpcy5jZWxscyApIHtcbiAgICBpZiAoIGNlbGwuc2l6ZS5vdXRlcldpZHRoID4gZ2FwV2lkdGggKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5wcm90by5fZ2V0R2FwQ2VsbHMgPSBmdW5jdGlvbiggZ2FwWCwgY2VsbEluZGV4LCBpbmNyZW1lbnQgKSB7XG4gIC8vIGtlZXAgYWRkaW5nIGNlbGxzIHVudGlsIHRoZSBjb3ZlciB0aGUgaW5pdGlhbCBnYXBcbiAgbGV0IGNlbGxzID0gW107XG4gIHdoaWxlICggZ2FwWCA+IDAgKSB7XG4gICAgbGV0IGNlbGwgPSB0aGlzLmNlbGxzWyBjZWxsSW5kZXggXTtcbiAgICBpZiAoICFjZWxsICkgYnJlYWs7XG5cbiAgICBjZWxscy5wdXNoKCBjZWxsICk7XG4gICAgY2VsbEluZGV4ICs9IGluY3JlbWVudDtcbiAgICBnYXBYIC09IGNlbGwuc2l6ZS5vdXRlcldpZHRoO1xuICB9XG4gIHJldHVybiBjZWxscztcbn07XG5cbi8vIC0tLS0tIGNvbnRhaW4gJiB3cmFwIC0tLS0tIC8vXG5cbi8vIGNvbnRhaW4gY2VsbCB0YXJnZXRzIHNvIG5vIGV4Y2VzcyBzbGlkaW5nXG5wcm90by5fY29udGFpblNsaWRlcyA9IGZ1bmN0aW9uKCkge1xuICBsZXQgaXNDb250YWluaW5nID0gdGhpcy5vcHRpb25zLmNvbnRhaW4gJiYgIXRoaXMuaXNXcmFwcGluZyAmJlxuICAgICAgdGhpcy5jZWxscy5sZW5ndGg7XG4gIGlmICggIWlzQ29udGFpbmluZyApIHJldHVybjtcblxuICBsZXQgY29udGVudFdpZHRoID0gdGhpcy5zbGlkZWFibGVXaWR0aCAtIHRoaXMuZ2V0TGFzdENlbGwoKS5zaXplWyB0aGlzLmVuZE1hcmdpbiBdO1xuICAvLyBjb250ZW50IGlzIGxlc3MgdGhhbiBnYWxsZXJ5IHNpemVcbiAgbGV0IGlzQ29udGVudFNtYWxsZXIgPSBjb250ZW50V2lkdGggPCB0aGlzLnNpemUuaW5uZXJXaWR0aDtcbiAgaWYgKCBpc0NvbnRlbnRTbWFsbGVyICkge1xuICAgIC8vIGFsbCBjZWxscyBmaXQgaW5zaWRlIGdhbGxlcnlcbiAgICB0aGlzLnNsaWRlcy5mb3JFYWNoKCAoIHNsaWRlICkgPT4ge1xuICAgICAgc2xpZGUudGFyZ2V0ID0gY29udGVudFdpZHRoICogdGhpcy5jZWxsQWxpZ247XG4gICAgfSApO1xuICB9IGVsc2Uge1xuICAgIC8vIGNvbnRhaW4gdG8gYm91bmRzXG4gICAgbGV0IGJlZ2luQm91bmQgPSB0aGlzLmN1cnNvclBvc2l0aW9uICsgdGhpcy5jZWxsc1swXS5zaXplWyB0aGlzLmJlZ2luTWFyZ2luIF07XG4gICAgbGV0IGVuZEJvdW5kID0gY29udGVudFdpZHRoIC0gdGhpcy5zaXplLmlubmVyV2lkdGggKiAoIDEgLSB0aGlzLmNlbGxBbGlnbiApO1xuICAgIHRoaXMuc2xpZGVzLmZvckVhY2goICggc2xpZGUgKSA9PiB7XG4gICAgICBzbGlkZS50YXJnZXQgPSBNYXRoLm1heCggc2xpZGUudGFyZ2V0LCBiZWdpbkJvdW5kICk7XG4gICAgICBzbGlkZS50YXJnZXQgPSBNYXRoLm1pbiggc2xpZGUudGFyZ2V0LCBlbmRCb3VuZCApO1xuICAgIH0gKTtcbiAgfVxufTtcblxuLy8gLS0tLS0gZXZlbnRzIC0tLS0tIC8vXG5cbi8qKlxuICogZW1pdHMgZXZlbnRzIHZpYSBldmVudEVtaXR0ZXIgYW5kIGpRdWVyeSBldmVudHNcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIC0gbmFtZSBvZiBldmVudFxuICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBvcmlnaW5hbCBldmVudFxuICogQHBhcmFtIHtBcnJheX0gYXJncyAtIGV4dHJhIGFyZ3VtZW50c1xuICovXG5wcm90by5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24oIHR5cGUsIGV2ZW50LCBhcmdzICkge1xuICBsZXQgZW1pdEFyZ3MgPSBldmVudCA/IFsgZXZlbnQgXS5jb25jYXQoIGFyZ3MgKSA6IGFyZ3M7XG4gIHRoaXMuZW1pdEV2ZW50KCB0eXBlLCBlbWl0QXJncyApO1xuXG4gIGlmICggalF1ZXJ5ICYmIHRoaXMuJGVsZW1lbnQgKSB7XG4gICAgLy8gZGVmYXVsdCB0cmlnZ2VyIHdpdGggdHlwZSBpZiBubyBldmVudFxuICAgIHR5cGUgKz0gdGhpcy5vcHRpb25zLm5hbWVzcGFjZUpRdWVyeUV2ZW50cyA/ICcuZmxpY2tpdHknIDogJyc7XG4gICAgbGV0ICRldmVudCA9IHR5cGU7XG4gICAgaWYgKCBldmVudCApIHtcbiAgICAgIC8vIGNyZWF0ZSBqUXVlcnkgZXZlbnRcbiAgICAgIGxldCBqUUV2ZW50ID0gbmV3IGpRdWVyeS5FdmVudCggZXZlbnQgKTtcbiAgICAgIGpRRXZlbnQudHlwZSA9IHR5cGU7XG4gICAgICAkZXZlbnQgPSBqUUV2ZW50O1xuICAgIH1cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoICRldmVudCwgYXJncyApO1xuICB9XG59O1xuXG5jb25zdCB1bmlkcmFnZ2VyRXZlbnRzID0gW1xuICAnZHJhZ1N0YXJ0JyxcbiAgJ2RyYWdNb3ZlJyxcbiAgJ2RyYWdFbmQnLFxuICAncG9pbnRlckRvd24nLFxuICAncG9pbnRlck1vdmUnLFxuICAncG9pbnRlckVuZCcsXG4gICdzdGF0aWNDbGljaycsXG5dO1xuXG5sZXQgX2VtaXRFdmVudCA9IHByb3RvLmVtaXRFdmVudDtcbnByb3RvLmVtaXRFdmVudCA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGFyZ3MgKSB7XG4gIGlmICggZXZlbnROYW1lID09PSAnc3RhdGljQ2xpY2snICkge1xuICAgIC8vIGFkZCBjZWxsRWxlbSBhbmQgY2VsbEluZGV4IGFyZ3MgdG8gc3RhdGljQ2xpY2tcbiAgICBsZXQgY2xpY2tlZENlbGwgPSB0aGlzLmdldFBhcmVudENlbGwoIGFyZ3NbMF0udGFyZ2V0ICk7XG4gICAgbGV0IGNlbGxFbGVtID0gY2xpY2tlZENlbGwgJiYgY2xpY2tlZENlbGwuZWxlbWVudDtcbiAgICBsZXQgY2VsbEluZGV4ID0gY2xpY2tlZENlbGwgJiYgdGhpcy5jZWxscy5pbmRleE9mKCBjbGlja2VkQ2VsbCApO1xuICAgIGFyZ3MgPSBhcmdzLmNvbmNhdCggY2VsbEVsZW0sIGNlbGxJbmRleCApO1xuICB9XG4gIC8vIGRvIHJlZ3VsYXIgdGhpbmdcbiAgX2VtaXRFdmVudC5jYWxsKCB0aGlzLCBldmVudE5hbWUsIGFyZ3MgKTtcbiAgLy8gZHVjay1wdW5jaCBpbiBqUXVlcnkgZXZlbnRzIGZvciBVbmlkcmFnZ2VyIGV2ZW50c1xuICBsZXQgaXNVbmlkcmFnZ2VyRXZlbnQgPSB1bmlkcmFnZ2VyRXZlbnRzLmluY2x1ZGVzKCBldmVudE5hbWUgKTtcbiAgaWYgKCAhaXNVbmlkcmFnZ2VyRXZlbnQgfHwgIWpRdWVyeSB8fCAhdGhpcy4kZWxlbWVudCApIHJldHVybjtcblxuICBldmVudE5hbWUgKz0gdGhpcy5vcHRpb25zLm5hbWVzcGFjZUpRdWVyeUV2ZW50cyA/ICcuZmxpY2tpdHknIDogJyc7XG4gIGxldCBldmVudCA9IGFyZ3Muc2hpZnQoIDAgKTtcbiAgbGV0IGpRRXZlbnQgPSBuZXcgalF1ZXJ5LkV2ZW50KCBldmVudCApO1xuICBqUUV2ZW50LnR5cGUgPSBldmVudE5hbWU7XG4gIHRoaXMuJGVsZW1lbnQudHJpZ2dlciggalFFdmVudCwgYXJncyApO1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gc2VsZWN0IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8qKlxuICogQHBhcmFtIHtJbnRlZ2VyfSBpbmRleCAtIGluZGV4IG9mIHRoZSBzbGlkZVxuICogQHBhcmFtIHtCb29sZWFufSBpc1dyYXAgLSB3aWxsIHdyYXAtYXJvdW5kIHRvIGxhc3QvZmlyc3QgaWYgYXQgdGhlIGVuZFxuICogQHBhcmFtIHtCb29sZWFufSBpc0luc3RhbnQgLSB3aWxsIGltbWVkaWF0ZWx5IHNldCBwb3NpdGlvbiBhdCBzZWxlY3RlZCBjZWxsXG4gKi9cbnByb3RvLnNlbGVjdCA9IGZ1bmN0aW9uKCBpbmRleCwgaXNXcmFwLCBpc0luc3RhbnQgKSB7XG4gIGlmICggIXRoaXMuaXNBY3RpdmUgKSByZXR1cm47XG5cbiAgaW5kZXggPSBwYXJzZUludCggaW5kZXgsIDEwICk7XG4gIHRoaXMuX3dyYXBTZWxlY3QoIGluZGV4ICk7XG5cbiAgaWYgKCB0aGlzLmlzV3JhcHBpbmcgfHwgaXNXcmFwICkge1xuICAgIGluZGV4ID0gdXRpbHMubW9kdWxvKCBpbmRleCwgdGhpcy5zbGlkZXMubGVuZ3RoICk7XG4gIH1cbiAgLy8gYmFpbCBpZiBpbnZhbGlkIGluZGV4XG4gIGlmICggIXRoaXMuc2xpZGVzWyBpbmRleCBdICkgcmV0dXJuO1xuXG4gIGxldCBwcmV2SW5kZXggPSB0aGlzLnNlbGVjdGVkSW5kZXg7XG4gIHRoaXMuc2VsZWN0ZWRJbmRleCA9IGluZGV4O1xuICB0aGlzLnVwZGF0ZVNlbGVjdGVkU2xpZGUoKTtcbiAgaWYgKCBpc0luc3RhbnQgKSB7XG4gICAgdGhpcy5wb3NpdGlvblNsaWRlckF0U2VsZWN0ZWQoKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnN0YXJ0QW5pbWF0aW9uKCk7XG4gIH1cbiAgaWYgKCB0aGlzLm9wdGlvbnMuYWRhcHRpdmVIZWlnaHQgKSB7XG4gICAgdGhpcy5zZXRHYWxsZXJ5U2l6ZSgpO1xuICB9XG4gIC8vIGV2ZW50c1xuICB0aGlzLmRpc3BhdGNoRXZlbnQoICdzZWxlY3QnLCBudWxsLCBbIGluZGV4IF0gKTtcbiAgLy8gY2hhbmdlIGV2ZW50IGlmIG5ldyBpbmRleFxuICBpZiAoIGluZGV4ICE9PSBwcmV2SW5kZXggKSB7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KCAnY2hhbmdlJywgbnVsbCwgWyBpbmRleCBdICk7XG4gIH1cbn07XG5cbi8vIHdyYXBzIHBvc2l0aW9uIGZvciB3cmFwQXJvdW5kLCB0byBtb3ZlIHRvIGNsb3Nlc3Qgc2xpZGUuICMxMTNcbnByb3RvLl93cmFwU2VsZWN0ID0gZnVuY3Rpb24oIGluZGV4ICkge1xuICBpZiAoICF0aGlzLmlzV3JhcHBpbmcgKSByZXR1cm47XG5cbiAgY29uc3QgeyBzZWxlY3RlZEluZGV4LCBzbGlkZWFibGVXaWR0aCwgc2xpZGVzOiB7IGxlbmd0aCB9IH0gPSB0aGlzO1xuICAvLyBzaGlmdCBpbmRleCBmb3Igd3JhcCwgZG8gbm90IHdyYXAgZHJhZ1NlbGVjdFxuICBpZiAoICF0aGlzLmlzRHJhZ1NlbGVjdCApIHtcbiAgICBsZXQgd3JhcEluZGV4ID0gdXRpbHMubW9kdWxvKCBpbmRleCwgbGVuZ3RoICk7XG4gICAgLy8gZ28gdG8gc2hvcnRlc3RcbiAgICBsZXQgZGVsdGEgPSBNYXRoLmFicyggd3JhcEluZGV4IC0gc2VsZWN0ZWRJbmRleCApO1xuICAgIGxldCBiYWNrV3JhcERlbHRhID0gTWF0aC5hYnMoICggd3JhcEluZGV4ICsgbGVuZ3RoICkgLSBzZWxlY3RlZEluZGV4ICk7XG4gICAgbGV0IGZvcmV3YXJkV3JhcERlbHRhID0gTWF0aC5hYnMoICggd3JhcEluZGV4IC0gbGVuZ3RoICkgLSBzZWxlY3RlZEluZGV4ICk7XG4gICAgaWYgKCBiYWNrV3JhcERlbHRhIDwgZGVsdGEgKSB7XG4gICAgICBpbmRleCArPSBsZW5ndGg7XG4gICAgfSBlbHNlIGlmICggZm9yZXdhcmRXcmFwRGVsdGEgPCBkZWx0YSApIHtcbiAgICAgIGluZGV4IC09IGxlbmd0aDtcbiAgICB9XG4gIH1cblxuICAvLyB3cmFwIHBvc2l0aW9uIHNvIHNsaWRlciBpcyB3aXRoaW4gbm9ybWFsIGFyZWFcbiAgaWYgKCBpbmRleCA8IDAgKSB7XG4gICAgdGhpcy54IC09IHNsaWRlYWJsZVdpZHRoO1xuICB9IGVsc2UgaWYgKCBpbmRleCA+PSBsZW5ndGggKSB7XG4gICAgdGhpcy54ICs9IHNsaWRlYWJsZVdpZHRoO1xuICB9XG59O1xuXG5wcm90by5wcmV2aW91cyA9IGZ1bmN0aW9uKCBpc1dyYXAsIGlzSW5zdGFudCApIHtcbiAgdGhpcy5zZWxlY3QoIHRoaXMuc2VsZWN0ZWRJbmRleCAtIDEsIGlzV3JhcCwgaXNJbnN0YW50ICk7XG59O1xuXG5wcm90by5uZXh0ID0gZnVuY3Rpb24oIGlzV3JhcCwgaXNJbnN0YW50ICkge1xuICB0aGlzLnNlbGVjdCggdGhpcy5zZWxlY3RlZEluZGV4ICsgMSwgaXNXcmFwLCBpc0luc3RhbnQgKTtcbn07XG5cbnByb3RvLnVwZGF0ZVNlbGVjdGVkU2xpZGUgPSBmdW5jdGlvbigpIHtcbiAgbGV0IHNsaWRlID0gdGhpcy5zbGlkZXNbIHRoaXMuc2VsZWN0ZWRJbmRleCBdO1xuICAvLyBzZWxlY3RlZEluZGV4IGNvdWxkIGJlIG91dHNpZGUgb2Ygc2xpZGVzLCBpZiB0cmlnZ2VyZWQgYmVmb3JlIHJlc2l6ZSgpXG4gIGlmICggIXNsaWRlICkgcmV0dXJuO1xuXG4gIC8vIHVuc2VsZWN0IHByZXZpb3VzIHNlbGVjdGVkIHNsaWRlXG4gIHRoaXMudW5zZWxlY3RTZWxlY3RlZFNsaWRlKCk7XG4gIC8vIHVwZGF0ZSBuZXcgc2VsZWN0ZWQgc2xpZGVcbiAgdGhpcy5zZWxlY3RlZFNsaWRlID0gc2xpZGU7XG4gIHNsaWRlLnNlbGVjdCgpO1xuICB0aGlzLnNlbGVjdGVkQ2VsbHMgPSBzbGlkZS5jZWxscztcbiAgdGhpcy5zZWxlY3RlZEVsZW1lbnRzID0gc2xpZGUuZ2V0Q2VsbEVsZW1lbnRzKCk7XG4gIC8vIEhBQ0s6IHNlbGVjdGVkQ2VsbCAmIHNlbGVjdGVkRWxlbWVudCBpcyBmaXJzdCBjZWxsIGluIHNsaWRlLCBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICB0aGlzLnNlbGVjdGVkQ2VsbCA9IHNsaWRlLmNlbGxzWzBdO1xuICB0aGlzLnNlbGVjdGVkRWxlbWVudCA9IHRoaXMuc2VsZWN0ZWRFbGVtZW50c1swXTtcbn07XG5cbnByb3RvLnVuc2VsZWN0U2VsZWN0ZWRTbGlkZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIHRoaXMuc2VsZWN0ZWRTbGlkZSApIHRoaXMuc2VsZWN0ZWRTbGlkZS51bnNlbGVjdCgpO1xufTtcblxucHJvdG8uc2VsZWN0SW5pdGlhbEluZGV4ID0gZnVuY3Rpb24oKSB7XG4gIGxldCBpbml0aWFsSW5kZXggPSB0aGlzLm9wdGlvbnMuaW5pdGlhbEluZGV4O1xuICAvLyBhbHJlYWR5IGFjdGl2YXRlZCwgc2VsZWN0IHByZXZpb3VzIHNlbGVjdGVkSW5kZXhcbiAgaWYgKCB0aGlzLmlzSW5pdEFjdGl2YXRlZCApIHtcbiAgICB0aGlzLnNlbGVjdCggdGhpcy5zZWxlY3RlZEluZGV4LCBmYWxzZSwgdHJ1ZSApO1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBzZWxlY3Qgd2l0aCBzZWxlY3RvciBzdHJpbmdcbiAgaWYgKCBpbml0aWFsSW5kZXggJiYgdHlwZW9mIGluaXRpYWxJbmRleCA9PSAnc3RyaW5nJyApIHtcbiAgICBsZXQgY2VsbCA9IHRoaXMucXVlcnlDZWxsKCBpbml0aWFsSW5kZXggKTtcbiAgICBpZiAoIGNlbGwgKSB7XG4gICAgICB0aGlzLnNlbGVjdENlbGwoIGluaXRpYWxJbmRleCwgZmFsc2UsIHRydWUgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBsZXQgaW5kZXggPSAwO1xuICAvLyBzZWxlY3Qgd2l0aCBudW1iZXJcbiAgaWYgKCBpbml0aWFsSW5kZXggJiYgdGhpcy5zbGlkZXNbIGluaXRpYWxJbmRleCBdICkge1xuICAgIGluZGV4ID0gaW5pdGlhbEluZGV4O1xuICB9XG4gIC8vIHNlbGVjdCBpbnN0YW50bHlcbiAgdGhpcy5zZWxlY3QoIGluZGV4LCBmYWxzZSwgdHJ1ZSApO1xufTtcblxuLyoqXG4gKiBzZWxlY3Qgc2xpZGUgZnJvbSBudW1iZXIgb3IgY2VsbCBlbGVtZW50XG4gKiBAcGFyYW0ge1tFbGVtZW50LCBOdW1iZXJdfSB2YWx1ZSAtIHplcm8tYmFzZWQgaW5kZXggb3IgZWxlbWVudCB0byBzZWxlY3RcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNXcmFwIC0gZW5hYmxlcyB3cmFwcGluZyBhcm91bmQgZm9yIGV4dHJhIGluZGV4XG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlzSW5zdGFudCAtIGRpc2FibGVzIHNsaWRlIGFuaW1hdGlvblxuICovXG5wcm90by5zZWxlY3RDZWxsID0gZnVuY3Rpb24oIHZhbHVlLCBpc1dyYXAsIGlzSW5zdGFudCApIHtcbiAgLy8gZ2V0IGNlbGxcbiAgbGV0IGNlbGwgPSB0aGlzLnF1ZXJ5Q2VsbCggdmFsdWUgKTtcbiAgaWYgKCAhY2VsbCApIHJldHVybjtcblxuICBsZXQgaW5kZXggPSB0aGlzLmdldENlbGxTbGlkZUluZGV4KCBjZWxsICk7XG4gIHRoaXMuc2VsZWN0KCBpbmRleCwgaXNXcmFwLCBpc0luc3RhbnQgKTtcbn07XG5cbnByb3RvLmdldENlbGxTbGlkZUluZGV4ID0gZnVuY3Rpb24oIGNlbGwgKSB7XG4gIC8vIGdldCBpbmRleCBvZiBzbGlkZSB0aGF0IGhhcyBjZWxsXG4gIGxldCBjZWxsU2xpZGUgPSB0aGlzLnNsaWRlcy5maW5kKCAoIHNsaWRlICkgPT4gc2xpZGUuY2VsbHMuaW5jbHVkZXMoIGNlbGwgKSApO1xuICByZXR1cm4gdGhpcy5zbGlkZXMuaW5kZXhPZiggY2VsbFNsaWRlICk7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBnZXQgY2VsbHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLyoqXG4gKiBnZXQgRmxpY2tpdHkuQ2VsbCwgZ2l2ZW4gYW4gRWxlbWVudFxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtIC0gbWF0Y2hpbmcgY2VsbCBlbGVtZW50XG4gKiBAcmV0dXJucyB7RmxpY2tpdHkuQ2VsbH0gY2VsbCAtIG1hdGNoaW5nIGNlbGxcbiAqL1xucHJvdG8uZ2V0Q2VsbCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICAvLyBsb29wIHRocm91Z2ggY2VsbHMgdG8gZ2V0IHRoZSBvbmUgdGhhdCBtYXRjaGVzXG4gIGZvciAoIGxldCBjZWxsIG9mIHRoaXMuY2VsbHMgKSB7XG4gICAgaWYgKCBjZWxsLmVsZW1lbnQgPT09IGVsZW0gKSByZXR1cm4gY2VsbDtcbiAgfVxufTtcblxuLyoqXG4gKiBnZXQgY29sbGVjdGlvbiBvZiBGbGlja2l0eS5DZWxscywgZ2l2ZW4gRWxlbWVudHNcbiAqIEBwYXJhbSB7W0VsZW1lbnQsIEFycmF5LCBOb2RlTGlzdF19IGVsZW1zIC0gbXVsdGlwbGUgZWxlbWVudHNcbiAqIEByZXR1cm5zIHtBcnJheX0gY2VsbHMgLSBGbGlja2l0eS5DZWxsc1xuICovXG5wcm90by5nZXRDZWxscyA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgZWxlbXMgPSB1dGlscy5tYWtlQXJyYXkoIGVsZW1zICk7XG4gIHJldHVybiBlbGVtcy5tYXAoICggZWxlbSApID0+IHRoaXMuZ2V0Q2VsbCggZWxlbSApICkuZmlsdGVyKCBCb29sZWFuICk7XG59O1xuXG4vKipcbiAqIGdldCBjZWxsIGVsZW1lbnRzXG4gKiBAcmV0dXJucyB7QXJyYXl9IGNlbGxFbGVtc1xuICovXG5wcm90by5nZXRDZWxsRWxlbWVudHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuY2VsbHMubWFwKCAoIGNlbGwgKSA9PiBjZWxsLmVsZW1lbnQgKTtcbn07XG5cbi8qKlxuICogZ2V0IHBhcmVudCBjZWxsIGZyb20gYW4gZWxlbWVudFxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtIC0gY2hpbGQgZWxlbWVudFxuICogQHJldHVybnMge0ZsaWNraXQuQ2VsbH0gY2VsbCAtIHBhcmVudCBjZWxsXG4gKi9cbnByb3RvLmdldFBhcmVudENlbGwgPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgLy8gZmlyc3QgY2hlY2sgaWYgZWxlbSBpcyBjZWxsXG4gIGxldCBjZWxsID0gdGhpcy5nZXRDZWxsKCBlbGVtICk7XG4gIGlmICggY2VsbCApIHJldHVybiBjZWxsO1xuXG4gIC8vIHRyeSB0byBnZXQgcGFyZW50IGNlbGwgZWxlbVxuICBsZXQgY2xvc2VzdCA9IGVsZW0uY2xvc2VzdCgnLmZsaWNraXR5LXNsaWRlciA+IConKTtcbiAgcmV0dXJuIHRoaXMuZ2V0Q2VsbCggY2xvc2VzdCApO1xufTtcblxuLyoqXG4gKiBnZXQgY2VsbHMgYWRqYWNlbnQgdG8gYSBzbGlkZVxuICogQHBhcmFtIHtJbnRlZ2VyfSBhZGpDb3VudCAtIG51bWJlciBvZiBhZGphY2VudCBzbGlkZXNcbiAqIEBwYXJhbSB7SW50ZWdlcn0gaW5kZXggLSBpbmRleCBvZiBzbGlkZSB0byBzdGFydFxuICogQHJldHVybnMge0FycmF5fSBjZWxscyAtIGFycmF5IG9mIEZsaWNraXR5LkNlbGxzXG4gKi9cbnByb3RvLmdldEFkamFjZW50Q2VsbEVsZW1lbnRzID0gZnVuY3Rpb24oIGFkakNvdW50LCBpbmRleCApIHtcbiAgaWYgKCAhYWRqQ291bnQgKSByZXR1cm4gdGhpcy5zZWxlY3RlZFNsaWRlLmdldENlbGxFbGVtZW50cygpO1xuXG4gIGluZGV4ID0gaW5kZXggPT09IHVuZGVmaW5lZCA/IHRoaXMuc2VsZWN0ZWRJbmRleCA6IGluZGV4O1xuXG4gIGxldCBsZW4gPSB0aGlzLnNsaWRlcy5sZW5ndGg7XG4gIGlmICggMSArICggYWRqQ291bnQgKiAyICkgPj0gbGVuICkge1xuICAgIHJldHVybiB0aGlzLmdldENlbGxFbGVtZW50cygpOyAvLyBnZXQgYWxsXG4gIH1cblxuICBsZXQgY2VsbEVsZW1zID0gW107XG4gIGZvciAoIGxldCBpID0gaW5kZXggLSBhZGpDb3VudDsgaSA8PSBpbmRleCArIGFkakNvdW50OyBpKysgKSB7XG4gICAgbGV0IHNsaWRlSW5kZXggPSB0aGlzLmlzV3JhcHBpbmcgPyB1dGlscy5tb2R1bG8oIGksIGxlbiApIDogaTtcbiAgICBsZXQgc2xpZGUgPSB0aGlzLnNsaWRlc1sgc2xpZGVJbmRleCBdO1xuICAgIGlmICggc2xpZGUgKSB7XG4gICAgICBjZWxsRWxlbXMgPSBjZWxsRWxlbXMuY29uY2F0KCBzbGlkZS5nZXRDZWxsRWxlbWVudHMoKSApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY2VsbEVsZW1zO1xufTtcblxuLyoqXG4gKiBzZWxlY3Qgc2xpZGUgZnJvbSBudW1iZXIgb3IgY2VsbCBlbGVtZW50XG4gKiBAcGFyYW0ge1tFbGVtZW50LCBTdHJpbmcsIE51bWJlcl19IHNlbGVjdG9yIC0gZWxlbWVudCwgc2VsZWN0b3Igc3RyaW5nLCBvciBpbmRleFxuICogQHJldHVybnMge0ZsaWNraXR5LkNlbGx9IC0gbWF0Y2hpbmcgY2VsbFxuICovXG5wcm90by5xdWVyeUNlbGwgPSBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG4gIGlmICggdHlwZW9mIHNlbGVjdG9yID09ICdudW1iZXInICkge1xuICAgIC8vIHVzZSBudW1iZXIgYXMgaW5kZXhcbiAgICByZXR1cm4gdGhpcy5jZWxsc1sgc2VsZWN0b3IgXTtcbiAgfVxuICAvLyBkbyBub3Qgc2VsZWN0IGludmFsaWQgc2VsZWN0b3JzIGZyb20gaGFzaDogIzEyMywgIy8uICM3OTFcbiAgbGV0IGlzU2VsZWN0b3JTdHJpbmcgPSB0eXBlb2Ygc2VsZWN0b3IgPT0gJ3N0cmluZycgJiYgIXNlbGVjdG9yLm1hdGNoKCAvXlsjLl0/W1xcZC9dLyApO1xuICBpZiAoIGlzU2VsZWN0b3JTdHJpbmcgKSB7XG4gICAgLy8gdXNlIHN0cmluZyBhcyBzZWxlY3RvciwgZ2V0IGVsZW1lbnRcbiAgICBzZWxlY3RvciA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCBzZWxlY3RvciApO1xuICB9XG4gIC8vIGdldCBjZWxsIGZyb20gZWxlbWVudFxuICByZXR1cm4gdGhpcy5nZXRDZWxsKCBzZWxlY3RvciApO1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gZXZlbnRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbnByb3RvLnVpQ2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZW1pdEV2ZW50KCd1aUNoYW5nZScpO1xufTtcblxuLy8gLS0tLS0gcmVzaXplIC0tLS0tIC8vXG5cbnByb3RvLm9ucmVzaXplID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMud2F0Y2hDU1MoKTtcbiAgdGhpcy5yZXNpemUoKTtcbn07XG5cbnV0aWxzLmRlYm91bmNlTWV0aG9kKCBGbGlja2l0eSwgJ29ucmVzaXplJywgMTUwICk7XG5cbnByb3RvLnJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAvLyAjMTE3NyBkaXNhYmxlIHJlc2l6ZSBiZWhhdmlvciB3aGVuIGFuaW1hdGluZyBvciBkcmFnZ2luZyBmb3IgaU9TIDE1XG4gIGlmICggIXRoaXMuaXNBY3RpdmUgfHwgdGhpcy5pc0FuaW1hdGluZyB8fCB0aGlzLmlzRHJhZ2dpbmcgKSByZXR1cm47XG4gIHRoaXMuZ2V0U2l6ZSgpO1xuICAvLyB3cmFwIHZhbHVlc1xuICBpZiAoIHRoaXMuaXNXcmFwcGluZyApIHtcbiAgICB0aGlzLnggPSB1dGlscy5tb2R1bG8oIHRoaXMueCwgdGhpcy5zbGlkZWFibGVXaWR0aCApO1xuICB9XG4gIHRoaXMucG9zaXRpb25DZWxscygpO1xuICB0aGlzLl91cGRhdGVXcmFwU2hpZnRDZWxscygpO1xuICB0aGlzLnNldEdhbGxlcnlTaXplKCk7XG4gIHRoaXMuZW1pdEV2ZW50KCdyZXNpemUnKTtcbiAgLy8gdXBkYXRlIHNlbGVjdGVkIGluZGV4IGZvciBncm91cCBzbGlkZXMsIGluc3RhbnRcbiAgLy8gVE9ETzogcG9zaXRpb24gY2FuIGJlIGxvc3QgYmV0d2VlbiBncm91cHMgb2YgdmFyaW91cyBudW1iZXJzXG4gIGxldCBzZWxlY3RlZEVsZW1lbnQgPSB0aGlzLnNlbGVjdGVkRWxlbWVudHMgJiYgdGhpcy5zZWxlY3RlZEVsZW1lbnRzWzBdO1xuICB0aGlzLnNlbGVjdENlbGwoIHNlbGVjdGVkRWxlbWVudCwgZmFsc2UsIHRydWUgKTtcbn07XG5cbi8vIHdhdGNoZXMgdGhlIDphZnRlciBwcm9wZXJ0eSwgYWN0aXZhdGVzL2RlYWN0aXZhdGVzXG5wcm90by53YXRjaENTUyA9IGZ1bmN0aW9uKCkge1xuICBpZiAoICF0aGlzLm9wdGlvbnMud2F0Y2hDU1MgKSByZXR1cm47XG5cbiAgbGV0IGFmdGVyQ29udGVudCA9IGdldENvbXB1dGVkU3R5bGUoIHRoaXMuZWxlbWVudCwgJzphZnRlcicgKS5jb250ZW50O1xuICAvLyBhY3RpdmF0ZSBpZiA6YWZ0ZXIgeyBjb250ZW50OiAnZmxpY2tpdHknIH1cbiAgaWYgKCBhZnRlckNvbnRlbnQuaW5jbHVkZXMoJ2ZsaWNraXR5JykgKSB7XG4gICAgdGhpcy5hY3RpdmF0ZSgpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xuICB9XG59O1xuXG4vLyAtLS0tLSBrZXlkb3duIC0tLS0tIC8vXG5cbi8vIGdvIHByZXZpb3VzL25leHQgaWYgbGVmdC9yaWdodCBrZXlzIHByZXNzZWRcbnByb3RvLm9ua2V5ZG93biA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgbGV0IHsgYWN0aXZlRWxlbWVudCB9ID0gZG9jdW1lbnQ7XG4gIGxldCBoYW5kbGVyID0gRmxpY2tpdHkua2V5Ym9hcmRIYW5kbGVyc1sgZXZlbnQua2V5IF07XG4gIC8vIG9ubHkgd29yayBpZiBlbGVtZW50IGlzIGluIGZvY3VzXG4gIGlmICggIXRoaXMub3B0aW9ucy5hY2Nlc3NpYmlsaXR5IHx8ICFhY3RpdmVFbGVtZW50IHx8ICFoYW5kbGVyICkgcmV0dXJuO1xuXG4gIGxldCBpc0ZvY3VzZWQgPSB0aGlzLmZvY3VzYWJsZUVsZW1zLnNvbWUoICggZWxlbSApID0+IGFjdGl2ZUVsZW1lbnQgPT09IGVsZW0gKTtcbiAgaWYgKCBpc0ZvY3VzZWQgKSBoYW5kbGVyLmNhbGwoIHRoaXMgKTtcbn07XG5cbkZsaWNraXR5LmtleWJvYXJkSGFuZGxlcnMgPSB7XG4gIEFycm93TGVmdDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy51aUNoYW5nZSgpO1xuICAgIGxldCBsZWZ0TWV0aG9kID0gdGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0ID8gJ25leHQnIDogJ3ByZXZpb3VzJztcbiAgICB0aGlzWyBsZWZ0TWV0aG9kIF0oKTtcbiAgfSxcbiAgQXJyb3dSaWdodDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy51aUNoYW5nZSgpO1xuICAgIGxldCByaWdodE1ldGhvZCA9IHRoaXMub3B0aW9ucy5yaWdodFRvTGVmdCA/ICdwcmV2aW91cycgOiAnbmV4dCc7XG4gICAgdGhpc1sgcmlnaHRNZXRob2QgXSgpO1xuICB9LFxufTtcblxuLy8gLS0tLS0gZm9jdXMgLS0tLS0gLy9cblxucHJvdG8uZm9jdXMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbGVtZW50LmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGRlc3Ryb3kgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLy8gZGVhY3RpdmF0ZSBhbGwgRmxpY2tpdHkgZnVuY3Rpb25hbGl0eSwgYnV0IGtlZXAgc3R1ZmYgYXZhaWxhYmxlXG5wcm90by5kZWFjdGl2YXRlID0gZnVuY3Rpb24oKSB7XG4gIGlmICggIXRoaXMuaXNBY3RpdmUgKSByZXR1cm47XG5cbiAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2ZsaWNraXR5LWVuYWJsZWQnKTtcbiAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2ZsaWNraXR5LXJ0bCcpO1xuICB0aGlzLnVuc2VsZWN0U2VsZWN0ZWRTbGlkZSgpO1xuICAvLyBkZXN0cm95IGNlbGxzXG4gIHRoaXMuY2VsbHMuZm9yRWFjaCggKCBjZWxsICkgPT4gY2VsbC5kZXN0cm95KCkgKTtcbiAgdGhpcy52aWV3cG9ydC5yZW1vdmUoKTtcbiAgLy8gbW92ZSBjaGlsZCBlbGVtZW50cyBiYWNrIGludG8gZWxlbWVudFxuICB0aGlzLmVsZW1lbnQuYXBwZW5kKCAuLi50aGlzLnNsaWRlci5jaGlsZHJlbiApO1xuICBpZiAoIHRoaXMub3B0aW9ucy5hY2Nlc3NpYmlsaXR5ICkge1xuICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3RhYkluZGV4Jyk7XG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdrZXlkb3duJywgdGhpcyApO1xuICB9XG4gIC8vIHNldCBmbGFnc1xuICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gIHRoaXMuZW1pdEV2ZW50KCdkZWFjdGl2YXRlJyk7XG59O1xuXG5wcm90by5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZGVhY3RpdmF0ZSgpO1xuICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3Jlc2l6ZScsIHRoaXMgKTtcbiAgdGhpcy5hbGxPZmYoKTtcbiAgdGhpcy5lbWl0RXZlbnQoJ2Rlc3Ryb3knKTtcbiAgaWYgKCBqUXVlcnkgJiYgdGhpcy4kZWxlbWVudCApIHtcbiAgICBqUXVlcnkucmVtb3ZlRGF0YSggdGhpcy5lbGVtZW50LCAnZmxpY2tpdHknICk7XG4gIH1cbiAgZGVsZXRlIHRoaXMuZWxlbWVudC5mbGlja2l0eUdVSUQ7XG4gIGRlbGV0ZSBpbnN0YW5jZXNbIHRoaXMuZ3VpZCBdO1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gcHJvdG90eXBlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbk9iamVjdC5hc3NpZ24oIHByb3RvLCBhbmltYXRlUHJvdG90eXBlICk7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGV4dHJhcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vKipcbiAqIGdldCBGbGlja2l0eSBpbnN0YW5jZSBmcm9tIGVsZW1lbnRcbiAqIEBwYXJhbSB7W0VsZW1lbnQsIFN0cmluZ119IGVsZW0gLSBlbGVtZW50IG9yIHNlbGVjdG9yIHN0cmluZ1xuICogQHJldHVybnMge0ZsaWNraXR5fSAtIEZsaWNraXR5IGluc3RhbmNlXG4gKi9cbkZsaWNraXR5LmRhdGEgPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgZWxlbSA9IHV0aWxzLmdldFF1ZXJ5RWxlbWVudCggZWxlbSApO1xuICBpZiAoIGVsZW0gKSByZXR1cm4gaW5zdGFuY2VzWyBlbGVtLmZsaWNraXR5R1VJRCBdO1xufTtcblxudXRpbHMuaHRtbEluaXQoIEZsaWNraXR5LCAnZmxpY2tpdHknICk7XG5cbmxldCB7IGpRdWVyeUJyaWRnZXQgfSA9IHdpbmRvdztcbmlmICggalF1ZXJ5ICYmIGpRdWVyeUJyaWRnZXQgKSB7XG4gIGpRdWVyeUJyaWRnZXQoICdmbGlja2l0eScsIEZsaWNraXR5LCBqUXVlcnkgKTtcbn1cblxuLy8gc2V0IGludGVybmFsIGpRdWVyeSwgZm9yIFdlYnBhY2sgKyBqUXVlcnkgdjMsICM0NzhcbkZsaWNraXR5LnNldEpRdWVyeSA9IGZ1bmN0aW9uKCBqcSApIHtcbiAgalF1ZXJ5ID0ganE7XG59O1xuXG5GbGlja2l0eS5DZWxsID0gQ2VsbDtcbkZsaWNraXR5LlNsaWRlID0gU2xpZGU7XG5cbnJldHVybiBGbGlja2l0eTtcblxufSApICk7XG5cbn0se1wiLi9hbmltYXRlXCI6NCxcIi4vY2VsbFwiOjUsXCIuL3NsaWRlXCI6MTQsXCJldi1lbWl0dGVyXCI6MSxcImZpenp5LXVpLXV0aWxzXCI6MixcImdldC1zaXplXCI6MTV9XSw3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIGRyYWdcbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgICAgd2luZG93LFxuICAgICAgICByZXF1aXJlKCcuL2NvcmUnKSxcbiAgICAgICAgcmVxdWlyZSgndW5pZHJhZ2dlcicpLFxuICAgICAgICByZXF1aXJlKCdmaXp6eS11aS11dGlscycpLFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuRmxpY2tpdHkgPSBmYWN0b3J5KFxuICAgICAgICB3aW5kb3csXG4gICAgICAgIHdpbmRvdy5GbGlja2l0eSxcbiAgICAgICAgd2luZG93LlVuaWRyYWdnZXIsXG4gICAgICAgIHdpbmRvdy5maXp6eVVJVXRpbHMsXG4gICAgKTtcbiAgfVxuXG59KCB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnID8gd2luZG93IDogdGhpcyxcbiAgICBmdW5jdGlvbiBmYWN0b3J5KCB3aW5kb3csIEZsaWNraXR5LCBVbmlkcmFnZ2VyLCB1dGlscyApIHtcblxuLy8gLS0tLS0gZGVmYXVsdHMgLS0tLS0gLy9cblxuT2JqZWN0LmFzc2lnbiggRmxpY2tpdHkuZGVmYXVsdHMsIHtcbiAgZHJhZ2dhYmxlOiAnPjEnLFxuICBkcmFnVGhyZXNob2xkOiAzLFxufSApO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBkcmFnIHByb3RvdHlwZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5sZXQgcHJvdG8gPSBGbGlja2l0eS5wcm90b3R5cGU7XG5PYmplY3QuYXNzaWduKCBwcm90bywgVW5pZHJhZ2dlci5wcm90b3R5cGUgKTsgLy8gaW5oZXJpdCBVbmlkcmFnZ2VyXG5wcm90by50b3VjaEFjdGlvblZhbHVlID0gJyc7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5GbGlja2l0eS5jcmVhdGUuZHJhZyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLm9uKCAnYWN0aXZhdGUnLCB0aGlzLm9uQWN0aXZhdGVEcmFnICk7XG4gIHRoaXMub24oICd1aUNoYW5nZScsIHRoaXMuX3VpQ2hhbmdlRHJhZyApO1xuICB0aGlzLm9uKCAnZGVhY3RpdmF0ZScsIHRoaXMub25EZWFjdGl2YXRlRHJhZyApO1xuICB0aGlzLm9uKCAnY2VsbENoYW5nZScsIHRoaXMudXBkYXRlRHJhZ2dhYmxlICk7XG4gIHRoaXMub24oICdwb2ludGVyRG93bicsIHRoaXMuaGFuZGxlUG9pbnRlckRvd24gKTtcbiAgdGhpcy5vbiggJ3BvaW50ZXJVcCcsIHRoaXMuaGFuZGxlUG9pbnRlclVwICk7XG4gIHRoaXMub24oICdwb2ludGVyRG93bicsIHRoaXMuaGFuZGxlUG9pbnRlckRvbmUgKTtcbiAgdGhpcy5vbiggJ2RyYWdTdGFydCcsIHRoaXMuaGFuZGxlRHJhZ1N0YXJ0ICk7XG4gIHRoaXMub24oICdkcmFnTW92ZScsIHRoaXMuaGFuZGxlRHJhZ01vdmUgKTtcbiAgdGhpcy5vbiggJ2RyYWdFbmQnLCB0aGlzLmhhbmRsZURyYWdFbmQgKTtcbiAgdGhpcy5vbiggJ3N0YXRpY0NsaWNrJywgdGhpcy5oYW5kbGVTdGF0aWNDbGljayApO1xuICAvLyBUT0RPIHVwZGF0ZURyYWdnYWJsZSBvbiByZXNpemU/IGlmIGdyb3VwQ2VsbHMgJiBzbGlkZXMgY2hhbmdlXG59O1xuXG5wcm90by5vbkFjdGl2YXRlRHJhZyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmhhbmRsZXMgPSBbIHRoaXMudmlld3BvcnQgXTtcbiAgdGhpcy5iaW5kSGFuZGxlcygpO1xuICB0aGlzLnVwZGF0ZURyYWdnYWJsZSgpO1xufTtcblxucHJvdG8ub25EZWFjdGl2YXRlRHJhZyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnVuYmluZEhhbmRsZXMoKTtcbiAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWRyYWdnYWJsZScpO1xufTtcblxucHJvdG8udXBkYXRlRHJhZ2dhYmxlID0gZnVuY3Rpb24oKSB7XG4gIC8vIGRpc2FibGUgZHJhZ2dpbmcgaWYgbGVzcyB0aGFuIDIgc2xpZGVzLiAjMjc4XG4gIGlmICggdGhpcy5vcHRpb25zLmRyYWdnYWJsZSA9PT0gJz4xJyApIHtcbiAgICB0aGlzLmlzRHJhZ2dhYmxlID0gdGhpcy5zbGlkZXMubGVuZ3RoID4gMTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmlzRHJhZ2dhYmxlID0gdGhpcy5vcHRpb25zLmRyYWdnYWJsZTtcbiAgfVxuICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSggJ2lzLWRyYWdnYWJsZScsIHRoaXMuaXNEcmFnZ2FibGUgKTtcbn07XG5cbnByb3RvLl91aUNoYW5nZURyYWcgPSBmdW5jdGlvbigpIHtcbiAgZGVsZXRlIHRoaXMuaXNGcmVlU2Nyb2xsaW5nO1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gcG9pbnRlciBldmVudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxucHJvdG8uaGFuZGxlUG9pbnRlckRvd24gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIGlmICggIXRoaXMuaXNEcmFnZ2FibGUgKSB7XG4gICAgLy8gcHJvY2VlZCBmb3Igc3RhdGljQ2xpY2tcbiAgICB0aGlzLmJpbmRBY3RpdmVQb2ludGVyRXZlbnRzKCBldmVudCApO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBpc1RvdWNoU3RhcnQgPSBldmVudC50eXBlID09PSAndG91Y2hzdGFydCc7XG4gIGxldCBpc1RvdWNoUG9pbnRlciA9IGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnO1xuICBsZXQgaXNGb2N1c05vZGUgPSBldmVudC50YXJnZXQubWF0Y2hlcygnaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QnKTtcbiAgaWYgKCAhaXNUb3VjaFN0YXJ0ICYmICFpc1RvdWNoUG9pbnRlciAmJiAhaXNGb2N1c05vZGUgKSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICBpZiAoICFpc0ZvY3VzTm9kZSApIHRoaXMuZm9jdXMoKTtcbiAgLy8gYmx1clxuICBpZiAoIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IHRoaXMuZWxlbWVudCApIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpO1xuICAvLyBzdG9wIGlmIGl0IHdhcyBtb3ZpbmdcbiAgdGhpcy5kcmFnWCA9IHRoaXMueDtcbiAgdGhpcy52aWV3cG9ydC5jbGFzc0xpc3QuYWRkKCdpcy1wb2ludGVyLWRvd24nKTtcbiAgLy8gdHJhY2sgc2Nyb2xsaW5nXG4gIHRoaXMucG9pbnRlckRvd25TY3JvbGwgPSBnZXRTY3JvbGxQb3NpdGlvbigpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3Njcm9sbCcsIHRoaXMgKTtcbiAgdGhpcy5iaW5kQWN0aXZlUG9pbnRlckV2ZW50cyggZXZlbnQgKTtcbn07XG5cbi8vIC0tLS0tIG1vdmUgLS0tLS0gLy9cblxucHJvdG8uaGFzRHJhZ1N0YXJ0ZWQgPSBmdW5jdGlvbiggbW92ZVZlY3RvciApIHtcbiAgcmV0dXJuIE1hdGguYWJzKCBtb3ZlVmVjdG9yLnggKSA+IHRoaXMub3B0aW9ucy5kcmFnVGhyZXNob2xkO1xufTtcblxuLy8gLS0tLS0gdXAgLS0tLS0gLy9cblxucHJvdG8uaGFuZGxlUG9pbnRlclVwID0gZnVuY3Rpb24oKSB7XG4gIGRlbGV0ZSB0aGlzLmlzVG91Y2hTY3JvbGxpbmc7XG4gIHRoaXMudmlld3BvcnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtcG9pbnRlci1kb3duJyk7XG59O1xuXG5wcm90by5oYW5kbGVQb2ludGVyRG9uZSA9IGZ1bmN0aW9uKCkge1xuICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3Njcm9sbCcsIHRoaXMgKTtcbiAgZGVsZXRlIHRoaXMucG9pbnRlckRvd25TY3JvbGw7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBkcmFnZ2luZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5wcm90by5oYW5kbGVEcmFnU3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCAhdGhpcy5pc0RyYWdnYWJsZSApIHJldHVybjtcblxuICB0aGlzLmRyYWdTdGFydFBvc2l0aW9uID0gdGhpcy54O1xuICB0aGlzLnN0YXJ0QW5pbWF0aW9uKCk7XG4gIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCAnc2Nyb2xsJywgdGhpcyApO1xufTtcblxucHJvdG8uaGFuZGxlRHJhZ01vdmUgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIsIG1vdmVWZWN0b3IgKSB7XG4gIGlmICggIXRoaXMuaXNEcmFnZ2FibGUgKSByZXR1cm47XG5cbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICB0aGlzLnByZXZpb3VzRHJhZ1ggPSB0aGlzLmRyYWdYO1xuICAvLyByZXZlcnNlIGlmIHJpZ2h0LXRvLWxlZnRcbiAgbGV0IGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5yaWdodFRvTGVmdCA/IC0xIDogMTtcbiAgLy8gd3JhcCBhcm91bmQgbW92ZS4gIzU4OVxuICBpZiAoIHRoaXMuaXNXcmFwcGluZyApIG1vdmVWZWN0b3IueCAlPSB0aGlzLnNsaWRlYWJsZVdpZHRoO1xuICBsZXQgZHJhZ1ggPSB0aGlzLmRyYWdTdGFydFBvc2l0aW9uICsgbW92ZVZlY3Rvci54ICogZGlyZWN0aW9uO1xuXG4gIGlmICggIXRoaXMuaXNXcmFwcGluZyApIHtcbiAgICAvLyBzbG93IGRyYWdcbiAgICBsZXQgb3JpZ2luQm91bmQgPSBNYXRoLm1heCggLXRoaXMuc2xpZGVzWzBdLnRhcmdldCwgdGhpcy5kcmFnU3RhcnRQb3NpdGlvbiApO1xuICAgIGRyYWdYID0gZHJhZ1ggPiBvcmlnaW5Cb3VuZCA/ICggZHJhZ1ggKyBvcmlnaW5Cb3VuZCApICogMC41IDogZHJhZ1g7XG4gICAgbGV0IGVuZEJvdW5kID0gTWF0aC5taW4oIC10aGlzLmdldExhc3RTbGlkZSgpLnRhcmdldCwgdGhpcy5kcmFnU3RhcnRQb3NpdGlvbiApO1xuICAgIGRyYWdYID0gZHJhZ1ggPCBlbmRCb3VuZCA/ICggZHJhZ1ggKyBlbmRCb3VuZCApICogMC41IDogZHJhZ1g7XG4gIH1cblxuICB0aGlzLmRyYWdYID0gZHJhZ1g7XG4gIHRoaXMuZHJhZ01vdmVUaW1lID0gbmV3IERhdGUoKTtcbn07XG5cbnByb3RvLmhhbmRsZURyYWdFbmQgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCAhdGhpcy5pc0RyYWdnYWJsZSApIHJldHVybjtcblxuICBsZXQgeyBmcmVlU2Nyb2xsIH0gPSB0aGlzLm9wdGlvbnM7XG4gIGlmICggZnJlZVNjcm9sbCApIHRoaXMuaXNGcmVlU2Nyb2xsaW5nID0gdHJ1ZTtcbiAgLy8gc2V0IHNlbGVjdGVkSW5kZXggYmFzZWQgb24gd2hlcmUgZmxpY2sgd2lsbCBlbmQgdXBcbiAgbGV0IGluZGV4ID0gdGhpcy5kcmFnRW5kUmVzdGluZ1NlbGVjdCgpO1xuXG4gIGlmICggZnJlZVNjcm9sbCAmJiAhdGhpcy5pc1dyYXBwaW5nICkge1xuICAgIC8vIGlmIGZyZWUtc2Nyb2xsICYgbm90IHdyYXAgYXJvdW5kXG4gICAgLy8gZG8gbm90IGZyZWUtc2Nyb2xsIGlmIGdvaW5nIG91dHNpZGUgb2YgYm91bmRpbmcgc2xpZGVzXG4gICAgLy8gc28gYm91bmRpbmcgc2xpZGVzIGNhbiBhdHRyYWN0IHNsaWRlciwgYW5kIGtlZXAgaXQgaW4gYm91bmRzXG4gICAgbGV0IHJlc3RpbmdYID0gdGhpcy5nZXRSZXN0aW5nUG9zaXRpb24oKTtcbiAgICB0aGlzLmlzRnJlZVNjcm9sbGluZyA9IC1yZXN0aW5nWCA+IHRoaXMuc2xpZGVzWzBdLnRhcmdldCAmJlxuICAgICAgLXJlc3RpbmdYIDwgdGhpcy5nZXRMYXN0U2xpZGUoKS50YXJnZXQ7XG4gIH0gZWxzZSBpZiAoICFmcmVlU2Nyb2xsICYmIGluZGV4ID09PSB0aGlzLnNlbGVjdGVkSW5kZXggKSB7XG4gICAgLy8gYm9vc3Qgc2VsZWN0aW9uIGlmIHNlbGVjdGVkIGluZGV4IGhhcyBub3QgY2hhbmdlZFxuICAgIGluZGV4ICs9IHRoaXMuZHJhZ0VuZEJvb3N0U2VsZWN0KCk7XG4gIH1cbiAgZGVsZXRlIHRoaXMucHJldmlvdXNEcmFnWDtcbiAgLy8gYXBwbHkgc2VsZWN0aW9uXG4gIC8vIEhBQ0ssIHNldCBmbGFnIHNvIGRyYWdnaW5nIHN0YXlzIGluIGNvcnJlY3QgZGlyZWN0aW9uXG4gIHRoaXMuaXNEcmFnU2VsZWN0ID0gdGhpcy5pc1dyYXBwaW5nO1xuICB0aGlzLnNlbGVjdCggaW5kZXggKTtcbiAgZGVsZXRlIHRoaXMuaXNEcmFnU2VsZWN0O1xufTtcblxucHJvdG8uZHJhZ0VuZFJlc3RpbmdTZWxlY3QgPSBmdW5jdGlvbigpIHtcbiAgbGV0IHJlc3RpbmdYID0gdGhpcy5nZXRSZXN0aW5nUG9zaXRpb24oKTtcbiAgLy8gaG93IGZhciBhd2F5IGZyb20gc2VsZWN0ZWQgc2xpZGVcbiAgbGV0IGRpc3RhbmNlID0gTWF0aC5hYnMoIHRoaXMuZ2V0U2xpZGVEaXN0YW5jZSggLXJlc3RpbmdYLCB0aGlzLnNlbGVjdGVkSW5kZXggKSApO1xuICAvLyBnZXQgY2xvc2V0IHJlc3RpbmcgZ29pbmcgdXAgYW5kIGdvaW5nIGRvd25cbiAgbGV0IHBvc2l0aXZlUmVzdGluZyA9IHRoaXMuX2dldENsb3Nlc3RSZXN0aW5nKCByZXN0aW5nWCwgZGlzdGFuY2UsIDEgKTtcbiAgbGV0IG5lZ2F0aXZlUmVzdGluZyA9IHRoaXMuX2dldENsb3Nlc3RSZXN0aW5nKCByZXN0aW5nWCwgZGlzdGFuY2UsIC0xICk7XG4gIC8vIHVzZSBjbG9zZXIgcmVzdGluZyBmb3Igd3JhcC1hcm91bmRcbiAgcmV0dXJuIHBvc2l0aXZlUmVzdGluZy5kaXN0YW5jZSA8IG5lZ2F0aXZlUmVzdGluZy5kaXN0YW5jZSA/XG4gICAgcG9zaXRpdmVSZXN0aW5nLmluZGV4IDogbmVnYXRpdmVSZXN0aW5nLmluZGV4O1xufTtcblxuLyoqXG4gKiBnaXZlbiByZXN0aW5nIFggYW5kIGRpc3RhbmNlIHRvIHNlbGVjdGVkIGNlbGxcbiAqIGdldCB0aGUgZGlzdGFuY2UgYW5kIGluZGV4IG9mIHRoZSBjbG9zZXN0IGNlbGxcbiAqIEBwYXJhbSB7TnVtYmVyfSByZXN0aW5nWCAtIGVzdGltYXRlZCBwb3N0LWZsaWNrIHJlc3RpbmcgcG9zaXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSBkaXN0YW5jZSAtIGRpc3RhbmNlIHRvIHNlbGVjdGVkIGNlbGxcbiAqIEBwYXJhbSB7SW50ZWdlcn0gaW5jcmVtZW50IC0gKzEgb3IgLTEsIGdvaW5nIHVwIG9yIGRvd25cbiAqIEByZXR1cm5zIHtPYmplY3R9IC0geyBkaXN0YW5jZToge051bWJlcn0sIGluZGV4OiB7SW50ZWdlcn0gfVxuICovXG5wcm90by5fZ2V0Q2xvc2VzdFJlc3RpbmcgPSBmdW5jdGlvbiggcmVzdGluZ1gsIGRpc3RhbmNlLCBpbmNyZW1lbnQgKSB7XG4gIGxldCBpbmRleCA9IHRoaXMuc2VsZWN0ZWRJbmRleDtcbiAgbGV0IG1pbkRpc3RhbmNlID0gSW5maW5pdHk7XG4gIGxldCBjb25kaXRpb24gPSB0aGlzLm9wdGlvbnMuY29udGFpbiAmJiAhdGhpcy5pc1dyYXBwaW5nID9cbiAgICAvLyBpZiBjb250YWluaW5nLCBrZWVwIGdvaW5nIGlmIGRpc3RhbmNlIGlzIGVxdWFsIHRvIG1pbkRpc3RhbmNlXG4gICAgKCBkaXN0LCBtaW5EaXN0ICkgPT4gZGlzdCA8PSBtaW5EaXN0IDpcbiAgICAoIGRpc3QsIG1pbkRpc3QgKSA9PiBkaXN0IDwgbWluRGlzdDtcblxuICB3aGlsZSAoIGNvbmRpdGlvbiggZGlzdGFuY2UsIG1pbkRpc3RhbmNlICkgKSB7XG4gICAgLy8gbWVhc3VyZSBkaXN0YW5jZSB0byBuZXh0IGNlbGxcbiAgICBpbmRleCArPSBpbmNyZW1lbnQ7XG4gICAgbWluRGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICBkaXN0YW5jZSA9IHRoaXMuZ2V0U2xpZGVEaXN0YW5jZSggLXJlc3RpbmdYLCBpbmRleCApO1xuICAgIGlmICggZGlzdGFuY2UgPT09IG51bGwgKSBicmVhaztcblxuICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoIGRpc3RhbmNlICk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBkaXN0YW5jZTogbWluRGlzdGFuY2UsXG4gICAgLy8gc2VsZWN0ZWQgd2FzIHByZXZpb3VzIGluZGV4XG4gICAgaW5kZXg6IGluZGV4IC0gaW5jcmVtZW50LFxuICB9O1xufTtcblxuLyoqXG4gKiBtZWFzdXJlIGRpc3RhbmNlIGJldHdlZW4geCBhbmQgYSBzbGlkZSB0YXJnZXRcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IC0gaG9yaXpvbnRhbCBwb3NpdGlvblxuICogQHBhcmFtIHtJbnRlZ2VyfSBpbmRleCAtIHNsaWRlIGluZGV4XG4gKiBAcmV0dXJucyB7TnVtYmVyfSAtIHNsaWRlIGRpc3RhbmNlXG4gKi9cbnByb3RvLmdldFNsaWRlRGlzdGFuY2UgPSBmdW5jdGlvbiggeCwgaW5kZXggKSB7XG4gIGxldCBsZW4gPSB0aGlzLnNsaWRlcy5sZW5ndGg7XG4gIC8vIHdyYXAgYXJvdW5kIGlmIGF0IGxlYXN0IDIgc2xpZGVzXG4gIGxldCBpc1dyYXBBcm91bmQgPSB0aGlzLm9wdGlvbnMud3JhcEFyb3VuZCAmJiBsZW4gPiAxO1xuICBsZXQgc2xpZGVJbmRleCA9IGlzV3JhcEFyb3VuZCA/IHV0aWxzLm1vZHVsbyggaW5kZXgsIGxlbiApIDogaW5kZXg7XG4gIGxldCBzbGlkZSA9IHRoaXMuc2xpZGVzWyBzbGlkZUluZGV4IF07XG4gIGlmICggIXNsaWRlICkgcmV0dXJuIG51bGw7XG5cbiAgLy8gYWRkIGRpc3RhbmNlIGZvciB3cmFwLWFyb3VuZCBzbGlkZXNcbiAgbGV0IHdyYXAgPSBpc1dyYXBBcm91bmQgPyB0aGlzLnNsaWRlYWJsZVdpZHRoICogTWF0aC5mbG9vciggaW5kZXgvbGVuICkgOiAwO1xuICByZXR1cm4geCAtICggc2xpZGUudGFyZ2V0ICsgd3JhcCApO1xufTtcblxucHJvdG8uZHJhZ0VuZEJvb3N0U2VsZWN0ID0gZnVuY3Rpb24oKSB7XG4gIC8vIGRvIG5vdCBib29zdCBpZiBubyBwcmV2aW91c0RyYWdYIG9yIGRyYWdNb3ZlVGltZVxuICBpZiAoIHRoaXMucHJldmlvdXNEcmFnWCA9PT0gdW5kZWZpbmVkIHx8ICF0aGlzLmRyYWdNb3ZlVGltZSB8fFxuICAgIC8vIG9yIGlmIGRyYWcgd2FzIGhlbGQgZm9yIDEwMCBtc1xuICAgIG5ldyBEYXRlKCkgLSB0aGlzLmRyYWdNb3ZlVGltZSA+IDEwMCApIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGxldCBkaXN0YW5jZSA9IHRoaXMuZ2V0U2xpZGVEaXN0YW5jZSggLXRoaXMuZHJhZ1gsIHRoaXMuc2VsZWN0ZWRJbmRleCApO1xuICBsZXQgZGVsdGEgPSB0aGlzLnByZXZpb3VzRHJhZ1ggLSB0aGlzLmRyYWdYO1xuICBpZiAoIGRpc3RhbmNlID4gMCAmJiBkZWx0YSA+IDAgKSB7XG4gICAgLy8gYm9vc3QgdG8gbmV4dCBpZiBtb3ZpbmcgdG93YXJkcyB0aGUgcmlnaHQsIGFuZCBwb3NpdGl2ZSB2ZWxvY2l0eVxuICAgIHJldHVybiAxO1xuICB9IGVsc2UgaWYgKCBkaXN0YW5jZSA8IDAgJiYgZGVsdGEgPCAwICkge1xuICAgIC8vIGJvb3N0IHRvIHByZXZpb3VzIGlmIG1vdmluZyB0b3dhcmRzIHRoZSBsZWZ0LCBhbmQgbmVnYXRpdmUgdmVsb2NpdHlcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgcmV0dXJuIDA7XG59O1xuXG4vLyAtLS0tLSBzY3JvbGwgLS0tLS0gLy9cblxucHJvdG8ub25zY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgbGV0IHNjcm9sbCA9IGdldFNjcm9sbFBvc2l0aW9uKCk7XG4gIGxldCBzY3JvbGxNb3ZlWCA9IHRoaXMucG9pbnRlckRvd25TY3JvbGwueCAtIHNjcm9sbC54O1xuICBsZXQgc2Nyb2xsTW92ZVkgPSB0aGlzLnBvaW50ZXJEb3duU2Nyb2xsLnkgLSBzY3JvbGwueTtcbiAgLy8gY2FuY2VsIGNsaWNrL3RhcCBpZiBzY3JvbGwgaXMgdG9vIG11Y2hcbiAgaWYgKCBNYXRoLmFicyggc2Nyb2xsTW92ZVggKSA+IDMgfHwgTWF0aC5hYnMoIHNjcm9sbE1vdmVZICkgPiAzICkge1xuICAgIHRoaXMucG9pbnRlckRvbmUoKTtcbiAgfVxufTtcblxuLy8gLS0tLS0gdXRpbHMgLS0tLS0gLy9cblxuZnVuY3Rpb24gZ2V0U2Nyb2xsUG9zaXRpb24oKSB7XG4gIHJldHVybiB7XG4gICAgeDogd2luZG93LnBhZ2VYT2Zmc2V0LFxuICAgIHk6IHdpbmRvdy5wYWdlWU9mZnNldCxcbiAgfTtcbn1cblxuLy8gLS0tLS0gIC0tLS0tIC8vXG5cbnJldHVybiBGbGlja2l0eTtcblxufSApICk7XG5cbn0se1wiLi9jb3JlXCI6NixcImZpenp5LXVpLXV0aWxzXCI6MixcInVuaWRyYWdnZXJcIjoxOH1dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gaW1hZ2VzbG9hZGVkXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICAgIHJlcXVpcmUoJy4vY29yZScpLFxuICAgICAgICByZXF1aXJlKCdpbWFnZXNsb2FkZWQnKSxcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgZmFjdG9yeShcbiAgICAgICAgd2luZG93LkZsaWNraXR5LFxuICAgICAgICB3aW5kb3cuaW1hZ2VzTG9hZGVkLFxuICAgICk7XG4gIH1cblxufSggdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsXG4gICAgZnVuY3Rpb24gZmFjdG9yeSggRmxpY2tpdHksIGltYWdlc0xvYWRlZCApIHtcblxuRmxpY2tpdHkuY3JlYXRlLmltYWdlc0xvYWRlZCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLm9uKCAnYWN0aXZhdGUnLCB0aGlzLmltYWdlc0xvYWRlZCApO1xufTtcblxuRmxpY2tpdHkucHJvdG90eXBlLmltYWdlc0xvYWRlZCA9IGZ1bmN0aW9uKCkge1xuICBpZiAoICF0aGlzLm9wdGlvbnMuaW1hZ2VzTG9hZGVkICkgcmV0dXJuO1xuXG4gIGxldCBvbkltYWdlc0xvYWRlZFByb2dyZXNzID0gKCBpbnN0YW5jZSwgaW1hZ2UgKSA9PiB7XG4gICAgbGV0IGNlbGwgPSB0aGlzLmdldFBhcmVudENlbGwoIGltYWdlLmltZyApO1xuICAgIHRoaXMuY2VsbFNpemVDaGFuZ2UoIGNlbGwgJiYgY2VsbC5lbGVtZW50ICk7XG4gICAgaWYgKCAhdGhpcy5vcHRpb25zLmZyZWVTY3JvbGwgKSB0aGlzLnBvc2l0aW9uU2xpZGVyQXRTZWxlY3RlZCgpO1xuICB9O1xuICBpbWFnZXNMb2FkZWQoIHRoaXMuc2xpZGVyICkub24oICdwcm9ncmVzcycsIG9uSW1hZ2VzTG9hZGVkUHJvZ3Jlc3MgKTtcbn07XG5cbnJldHVybiBGbGlja2l0eTtcblxufSApICk7XG5cbn0se1wiLi9jb3JlXCI6NixcImltYWdlc2xvYWRlZFwiOjE2fV0sOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKiFcbiAqIEZsaWNraXR5IHYzLjAuMFxuICogVG91Y2gsIHJlc3BvbnNpdmUsIGZsaWNrYWJsZSBjYXJvdXNlbHNcbiAqXG4gKiBMaWNlbnNlZCBHUEx2MyBmb3Igb3BlbiBzb3VyY2UgdXNlXG4gKiBvciBGbGlja2l0eSBDb21tZXJjaWFsIExpY2Vuc2UgZm9yIGNvbW1lcmNpYWwgdXNlXG4gKlxuICogaHR0cHM6Ly9mbGlja2l0eS5tZXRhZml6enkuY29cbiAqIENvcHlyaWdodCAyMDE1LTIwMjIgTWV0YWZpenp5XG4gKi9cblxuaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICBjb25zdCBGbGlja2l0eSA9IHJlcXVpcmUoJy4vY29yZScpO1xuICByZXF1aXJlKCcuL2RyYWcnKTtcbiAgcmVxdWlyZSgnLi9wcmV2LW5leHQtYnV0dG9uJyk7XG4gIHJlcXVpcmUoJy4vcGFnZS1kb3RzJyk7XG4gIHJlcXVpcmUoJy4vcGxheWVyJyk7XG4gIHJlcXVpcmUoJy4vYWRkLXJlbW92ZS1jZWxsJyk7XG4gIHJlcXVpcmUoJy4vbGF6eWxvYWQnKTtcbiAgcmVxdWlyZSgnLi9pbWFnZXNsb2FkZWQnKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IEZsaWNraXR5O1xufVxuXG59LHtcIi4vYWRkLXJlbW92ZS1jZWxsXCI6MyxcIi4vY29yZVwiOjYsXCIuL2RyYWdcIjo3LFwiLi9pbWFnZXNsb2FkZWRcIjo4LFwiLi9sYXp5bG9hZFwiOjEwLFwiLi9wYWdlLWRvdHNcIjoxMSxcIi4vcGxheWVyXCI6MTIsXCIuL3ByZXYtbmV4dC1idXR0b25cIjoxM31dLDEwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIGxhenlsb2FkXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICAgIHJlcXVpcmUoJy4vY29yZScpLFxuICAgICAgICByZXF1aXJlKCdmaXp6eS11aS11dGlscycpLFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICBmYWN0b3J5KFxuICAgICAgICB3aW5kb3cuRmxpY2tpdHksXG4gICAgICAgIHdpbmRvdy5maXp6eVVJVXRpbHMsXG4gICAgKTtcbiAgfVxuXG59KCB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24gZmFjdG9yeSggRmxpY2tpdHksIHV0aWxzICkge1xuXG5jb25zdCBsYXp5QXR0ciA9ICdkYXRhLWZsaWNraXR5LWxhenlsb2FkJztcbmNvbnN0IGxhenlTcmNBdHRyID0gYCR7bGF6eUF0dHJ9LXNyY2A7XG5jb25zdCBsYXp5U3Jjc2V0QXR0ciA9IGAke2xhenlBdHRyfS1zcmNzZXRgO1xuY29uc3QgaW1nU2VsZWN0b3IgPSBgaW1nWyR7bGF6eUF0dHJ9XSwgaW1nWyR7bGF6eVNyY0F0dHJ9XSwgYCArXG4gIGBpbWdbJHtsYXp5U3Jjc2V0QXR0cn1dLCBzb3VyY2VbJHtsYXp5U3Jjc2V0QXR0cn1dYDtcblxuRmxpY2tpdHkuY3JlYXRlLmxhenlMb2FkID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMub24oICdzZWxlY3QnLCB0aGlzLmxhenlMb2FkICk7XG5cbiAgdGhpcy5oYW5kbGVMYXp5TG9hZENvbXBsZXRlID0gdGhpcy5vbkxhenlMb2FkQ29tcGxldGUuYmluZCggdGhpcyApO1xufTtcblxubGV0IHByb3RvID0gRmxpY2tpdHkucHJvdG90eXBlO1xuXG5wcm90by5sYXp5TG9hZCA9IGZ1bmN0aW9uKCkge1xuICBsZXQgeyBsYXp5TG9hZCB9ID0gdGhpcy5vcHRpb25zO1xuICBpZiAoICFsYXp5TG9hZCApIHJldHVybjtcblxuICAvLyBnZXQgYWRqYWNlbnQgY2VsbHMsIHVzZSBsYXp5TG9hZCBvcHRpb24gZm9yIGFkamFjZW50IGNvdW50XG4gIGxldCBhZGpDb3VudCA9IHR5cGVvZiBsYXp5TG9hZCA9PSAnbnVtYmVyJyA/IGxhenlMb2FkIDogMDtcbiAgLy8gbGF6eSBsb2FkIGltYWdlc1xuICB0aGlzLmdldEFkamFjZW50Q2VsbEVsZW1lbnRzKCBhZGpDb3VudCApXG4gICAgLm1hcCggZ2V0Q2VsbExhenlJbWFnZXMgKVxuICAgIC5mbGF0KClcbiAgICAuZm9yRWFjaCggKCBpbWcgKSA9PiBuZXcgTGF6eUxvYWRlciggaW1nLCB0aGlzLmhhbmRsZUxhenlMb2FkQ29tcGxldGUgKSApO1xufTtcblxuZnVuY3Rpb24gZ2V0Q2VsbExhenlJbWFnZXMoIGNlbGxFbGVtICkge1xuICAvLyBjaGVjayBpZiBjZWxsIGVsZW1lbnQgaXMgbGF6eSBpbWFnZVxuICBpZiAoIGNlbGxFbGVtLm1hdGNoZXMoJ2ltZycpICkge1xuICAgIGxldCBjZWxsQXR0ciA9IGNlbGxFbGVtLmdldEF0dHJpYnV0ZSggbGF6eUF0dHIgKTtcbiAgICBsZXQgY2VsbFNyY0F0dHIgPSBjZWxsRWxlbS5nZXRBdHRyaWJ1dGUoIGxhenlTcmNBdHRyICk7XG4gICAgbGV0IGNlbGxTcmNzZXRBdHRyID0gY2VsbEVsZW0uZ2V0QXR0cmlidXRlKCBsYXp5U3Jjc2V0QXR0ciApO1xuICAgIGlmICggY2VsbEF0dHIgfHwgY2VsbFNyY0F0dHIgfHwgY2VsbFNyY3NldEF0dHIgKSB7XG4gICAgICByZXR1cm4gY2VsbEVsZW07XG4gICAgfVxuICB9XG4gIC8vIHNlbGVjdCBsYXp5IGltYWdlcyBpbiBjZWxsXG4gIHJldHVybiBbIC4uLmNlbGxFbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoIGltZ1NlbGVjdG9yICkgXTtcbn1cblxucHJvdG8ub25MYXp5TG9hZENvbXBsZXRlID0gZnVuY3Rpb24oIGltZywgZXZlbnQgKSB7XG4gIGxldCBjZWxsID0gdGhpcy5nZXRQYXJlbnRDZWxsKCBpbWcgKTtcbiAgbGV0IGNlbGxFbGVtID0gY2VsbCAmJiBjZWxsLmVsZW1lbnQ7XG4gIHRoaXMuY2VsbFNpemVDaGFuZ2UoIGNlbGxFbGVtICk7XG5cbiAgdGhpcy5kaXNwYXRjaEV2ZW50KCAnbGF6eUxvYWQnLCBldmVudCwgY2VsbEVsZW0gKTtcbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIExhenlMb2FkZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLyoqXG4gKiBjbGFzcyB0byBoYW5kbGUgbG9hZGluZyBpbWFnZXNcbiAqIEBwYXJhbSB7SW1hZ2V9IGltZyAtIEltYWdlIGVsZW1lbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9uQ29tcGxldGUgLSBjYWxsYmFjayBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBMYXp5TG9hZGVyKCBpbWcsIG9uQ29tcGxldGUgKSB7XG4gIHRoaXMuaW1nID0gaW1nO1xuICB0aGlzLm9uQ29tcGxldGUgPSBvbkNvbXBsZXRlO1xuICB0aGlzLmxvYWQoKTtcbn1cblxuTGF6eUxvYWRlci5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSB1dGlscy5oYW5kbGVFdmVudDtcblxuTGF6eUxvYWRlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmltZy5hZGRFdmVudExpc3RlbmVyKCAnbG9hZCcsIHRoaXMgKTtcbiAgdGhpcy5pbWcuYWRkRXZlbnRMaXN0ZW5lciggJ2Vycm9yJywgdGhpcyApO1xuICAvLyBnZXQgc3JjICYgc3Jjc2V0XG4gIGxldCBzcmMgPSB0aGlzLmltZy5nZXRBdHRyaWJ1dGUoIGxhenlBdHRyICkgfHxcbiAgICB0aGlzLmltZy5nZXRBdHRyaWJ1dGUoIGxhenlTcmNBdHRyICk7XG4gIGxldCBzcmNzZXQgPSB0aGlzLmltZy5nZXRBdHRyaWJ1dGUoIGxhenlTcmNzZXRBdHRyICk7XG4gIC8vIHNldCBzcmMgJiBzZXJzZXRcbiAgdGhpcy5pbWcuc3JjID0gc3JjO1xuICBpZiAoIHNyY3NldCApIHRoaXMuaW1nLnNldEF0dHJpYnV0ZSggJ3NyY3NldCcsIHNyY3NldCApO1xuICAvLyByZW1vdmUgYXR0clxuICB0aGlzLmltZy5yZW1vdmVBdHRyaWJ1dGUoIGxhenlBdHRyICk7XG4gIHRoaXMuaW1nLnJlbW92ZUF0dHJpYnV0ZSggbGF6eVNyY0F0dHIgKTtcbiAgdGhpcy5pbWcucmVtb3ZlQXR0cmlidXRlKCBsYXp5U3Jjc2V0QXR0ciApO1xufTtcblxuTGF6eUxvYWRlci5wcm90b3R5cGUub25sb2FkID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB0aGlzLmNvbXBsZXRlKCBldmVudCwgJ2ZsaWNraXR5LWxhenlsb2FkZWQnICk7XG59O1xuXG5MYXp5TG9hZGVyLnByb3RvdHlwZS5vbmVycm9yID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB0aGlzLmNvbXBsZXRlKCBldmVudCwgJ2ZsaWNraXR5LWxhenllcnJvcicgKTtcbn07XG5cbkxhenlMb2FkZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24oIGV2ZW50LCBjbGFzc05hbWUgKSB7XG4gIC8vIHVuYmluZCBldmVudHNcbiAgdGhpcy5pbWcucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2xvYWQnLCB0aGlzICk7XG4gIHRoaXMuaW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdlcnJvcicsIHRoaXMgKTtcbiAgbGV0IG1lZGlhRWxlbSA9IHRoaXMuaW1nLnBhcmVudE5vZGUubWF0Y2hlcygncGljdHVyZScpID8gdGhpcy5pbWcucGFyZW50Tm9kZSA6IHRoaXMuaW1nO1xuICBtZWRpYUVsZW0uY2xhc3NMaXN0LmFkZCggY2xhc3NOYW1lICk7XG5cbiAgdGhpcy5vbkNvbXBsZXRlKCB0aGlzLmltZywgZXZlbnQgKTtcbn07XG5cbi8vIC0tLS0tICAtLS0tLSAvL1xuXG5GbGlja2l0eS5MYXp5TG9hZGVyID0gTGF6eUxvYWRlcjtcblxucmV0dXJuIEZsaWNraXR5O1xuXG59ICkgKTtcblxufSx7XCIuL2NvcmVcIjo2LFwiZml6enktdWktdXRpbHNcIjoyfV0sMTE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gcGFnZSBkb3RzXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICAgIHJlcXVpcmUoJy4vY29yZScpLFxuICAgICAgICByZXF1aXJlKCdmaXp6eS11aS11dGlscycpLFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICBmYWN0b3J5KFxuICAgICAgICB3aW5kb3cuRmxpY2tpdHksXG4gICAgICAgIHdpbmRvdy5maXp6eVVJVXRpbHMsXG4gICAgKTtcbiAgfVxuXG59KCB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24gZmFjdG9yeSggRmxpY2tpdHksIHV0aWxzICkge1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBQYWdlRG90cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5mdW5jdGlvbiBQYWdlRG90cygpIHtcbiAgLy8gY3JlYXRlIGhvbGRlciBlbGVtZW50XG4gIHRoaXMuaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHRoaXMuaG9sZGVyLmNsYXNzTmFtZSA9ICdmbGlja2l0eS1wYWdlLWRvdHMnO1xuICAvLyBjcmVhdGUgZG90cywgYXJyYXkgb2YgZWxlbWVudHNcbiAgdGhpcy5kb3RzID0gW107XG59XG5cblBhZ2VEb3RzLnByb3RvdHlwZS5zZXREb3RzID0gZnVuY3Rpb24oIHNsaWRlc0xlbmd0aCApIHtcbiAgLy8gZ2V0IGRpZmZlcmVuY2UgYmV0d2VlbiBudW1iZXIgb2Ygc2xpZGVzIGFuZCBudW1iZXIgb2YgZG90c1xuICBsZXQgZGVsdGEgPSBzbGlkZXNMZW5ndGggLSB0aGlzLmRvdHMubGVuZ3RoO1xuICBpZiAoIGRlbHRhID4gMCApIHtcbiAgICB0aGlzLmFkZERvdHMoIGRlbHRhICk7XG4gIH0gZWxzZSBpZiAoIGRlbHRhIDwgMCApIHtcbiAgICB0aGlzLnJlbW92ZURvdHMoIC1kZWx0YSApO1xuICB9XG59O1xuXG5QYWdlRG90cy5wcm90b3R5cGUuYWRkRG90cyA9IGZ1bmN0aW9uKCBjb3VudCApIHtcbiAgbGV0IG5ld0RvdHMgPSBuZXcgQXJyYXkoIGNvdW50ICkuZmlsbCgpXG4gICAgLm1hcCggKCBpdGVtLCBpICkgPT4ge1xuICAgICAgbGV0IGRvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgZG90LnNldEF0dHJpYnV0ZSggJ3R5cGUnLCAnYnV0dG9uJyApO1xuICAgICAgbGV0IG51bSA9IGkgKyAxICsgdGhpcy5kb3RzLmxlbmd0aDtcbiAgICAgIGRvdC5jbGFzc05hbWUgPSAnZmxpY2tpdHktcGFnZS1kb3QnO1xuICAgICAgZG90LnRleHRDb250ZW50ID0gYFZpZXcgc2xpZGUgJHtudW19YDtcbiAgICAgIHJldHVybiBkb3Q7XG4gICAgfSApO1xuXG4gIHRoaXMuaG9sZGVyLmFwcGVuZCggLi4ubmV3RG90cyApO1xuICB0aGlzLmRvdHMgPSB0aGlzLmRvdHMuY29uY2F0KCBuZXdEb3RzICk7XG59O1xuXG5QYWdlRG90cy5wcm90b3R5cGUucmVtb3ZlRG90cyA9IGZ1bmN0aW9uKCBjb3VudCApIHtcbiAgLy8gcmVtb3ZlIGZyb20gdGhpcy5kb3RzIGNvbGxlY3Rpb25cbiAgbGV0IHJlbW92ZURvdHMgPSB0aGlzLmRvdHMuc3BsaWNlKCB0aGlzLmRvdHMubGVuZ3RoIC0gY291bnQsIGNvdW50ICk7XG4gIC8vIHJlbW92ZSBmcm9tIERPTVxuICByZW1vdmVEb3RzLmZvckVhY2goICggZG90ICkgPT4gZG90LnJlbW92ZSgpICk7XG59O1xuXG5QYWdlRG90cy5wcm90b3R5cGUudXBkYXRlU2VsZWN0ZWQgPSBmdW5jdGlvbiggaW5kZXggKSB7XG4gIC8vIHJlbW92ZSBzZWxlY3RlZCBjbGFzcyBvbiBwcmV2aW91c1xuICBpZiAoIHRoaXMuc2VsZWN0ZWREb3QgKSB7XG4gICAgdGhpcy5zZWxlY3RlZERvdC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1zZWxlY3RlZCcpO1xuICAgIHRoaXMuc2VsZWN0ZWREb3QucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgfVxuICAvLyBkb24ndCBwcm9jZWVkIGlmIG5vIGRvdHNcbiAgaWYgKCAhdGhpcy5kb3RzLmxlbmd0aCApIHJldHVybjtcblxuICB0aGlzLnNlbGVjdGVkRG90ID0gdGhpcy5kb3RzWyBpbmRleCBdO1xuICB0aGlzLnNlbGVjdGVkRG90LmNsYXNzTGlzdC5hZGQoJ2lzLXNlbGVjdGVkJyk7XG4gIHRoaXMuc2VsZWN0ZWREb3Quc2V0QXR0cmlidXRlKCAnYXJpYS1jdXJyZW50JywgJ3N0ZXAnICk7XG59O1xuXG5GbGlja2l0eS5QYWdlRG90cyA9IFBhZ2VEb3RzO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBGbGlja2l0eSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5PYmplY3QuYXNzaWduKCBGbGlja2l0eS5kZWZhdWx0cywge1xuICBwYWdlRG90czogdHJ1ZSxcbn0gKTtcblxuRmxpY2tpdHkuY3JlYXRlLnBhZ2VEb3RzID0gZnVuY3Rpb24oKSB7XG4gIGlmICggIXRoaXMub3B0aW9ucy5wYWdlRG90cyApIHJldHVybjtcblxuICB0aGlzLnBhZ2VEb3RzID0gbmV3IFBhZ2VEb3RzKCk7XG4gIHRoaXMuaGFuZGxlUGFnZURvdHNDbGljayA9IHRoaXMub25QYWdlRG90c0NsaWNrLmJpbmQoIHRoaXMgKTtcbiAgLy8gZXZlbnRzXG4gIHRoaXMub24oICdhY3RpdmF0ZScsIHRoaXMuYWN0aXZhdGVQYWdlRG90cyApO1xuICB0aGlzLm9uKCAnc2VsZWN0JywgdGhpcy51cGRhdGVTZWxlY3RlZFBhZ2VEb3RzICk7XG4gIHRoaXMub24oICdjZWxsQ2hhbmdlJywgdGhpcy51cGRhdGVQYWdlRG90cyApO1xuICB0aGlzLm9uKCAncmVzaXplJywgdGhpcy51cGRhdGVQYWdlRG90cyApO1xuICB0aGlzLm9uKCAnZGVhY3RpdmF0ZScsIHRoaXMuZGVhY3RpdmF0ZVBhZ2VEb3RzICk7XG59O1xuXG5sZXQgcHJvdG8gPSBGbGlja2l0eS5wcm90b3R5cGU7XG5cbnByb3RvLmFjdGl2YXRlUGFnZURvdHMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5wYWdlRG90cy5zZXREb3RzKCB0aGlzLnNsaWRlcy5sZW5ndGggKTtcbiAgdGhpcy5mb2N1c2FibGVFbGVtcy5wdXNoKCAuLi50aGlzLnBhZ2VEb3RzLmRvdHMgKTtcbiAgdGhpcy5wYWdlRG90cy5ob2xkZXIuYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgdGhpcy5oYW5kbGVQYWdlRG90c0NsaWNrICk7XG4gIHRoaXMuZWxlbWVudC5hcHBlbmQoIHRoaXMucGFnZURvdHMuaG9sZGVyICk7XG59O1xuXG5wcm90by5vblBhZ2VEb3RzQ2xpY2sgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIGxldCBpbmRleCA9IHRoaXMucGFnZURvdHMuZG90cy5pbmRleE9mKCBldmVudC50YXJnZXQgKTtcbiAgaWYgKCBpbmRleCA9PT0gLTEgKSByZXR1cm47IC8vIG9ubHkgZG90IGNsaWNrc1xuXG4gIHRoaXMudWlDaGFuZ2UoKTtcbiAgdGhpcy5zZWxlY3QoIGluZGV4ICk7XG59O1xuXG5wcm90by51cGRhdGVTZWxlY3RlZFBhZ2VEb3RzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucGFnZURvdHMudXBkYXRlU2VsZWN0ZWQoIHRoaXMuc2VsZWN0ZWRJbmRleCApO1xufTtcblxucHJvdG8udXBkYXRlUGFnZURvdHMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5wYWdlRG90cy5kb3RzLmZvckVhY2goICggZG90ICkgPT4ge1xuICAgIHV0aWxzLnJlbW92ZUZyb20oIHRoaXMuZm9jdXNhYmxlRWxlbXMsIGRvdCApO1xuICB9ICk7XG4gIHRoaXMucGFnZURvdHMuc2V0RG90cyggdGhpcy5zbGlkZXMubGVuZ3RoICk7XG4gIHRoaXMuZm9jdXNhYmxlRWxlbXMucHVzaCggLi4udGhpcy5wYWdlRG90cy5kb3RzICk7XG59O1xuXG5wcm90by5kZWFjdGl2YXRlUGFnZURvdHMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5wYWdlRG90cy5ob2xkZXIucmVtb3ZlKCk7XG4gIHRoaXMucGFnZURvdHMuaG9sZGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdjbGljaycsIHRoaXMuaGFuZGxlUGFnZURvdHNDbGljayApO1xufTtcblxuLy8gLS0tLS0gIC0tLS0tIC8vXG5cbkZsaWNraXR5LlBhZ2VEb3RzID0gUGFnZURvdHM7XG5cbnJldHVybiBGbGlja2l0eTtcblxufSApICk7XG5cbn0se1wiLi9jb3JlXCI6NixcImZpenp5LXVpLXV0aWxzXCI6Mn1dLDEyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIHBsYXllciAmIGF1dG9QbGF5XG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoIHJlcXVpcmUoJy4vY29yZScpICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICBmYWN0b3J5KCB3aW5kb3cuRmxpY2tpdHkgKTtcbiAgfVxuXG59KCB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24gZmFjdG9yeSggRmxpY2tpdHkgKSB7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFBsYXllciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5mdW5jdGlvbiBQbGF5ZXIoIGF1dG9QbGF5LCBvblRpY2sgKSB7XG4gIHRoaXMuYXV0b1BsYXkgPSBhdXRvUGxheTtcbiAgdGhpcy5vblRpY2sgPSBvblRpY2s7XG4gIHRoaXMuc3RhdGUgPSAnc3RvcHBlZCc7XG4gIC8vIHZpc2liaWxpdHkgY2hhbmdlIGV2ZW50IGhhbmRsZXJcbiAgdGhpcy5vblZpc2liaWxpdHlDaGFuZ2UgPSB0aGlzLnZpc2liaWxpdHlDaGFuZ2UuYmluZCggdGhpcyApO1xuICB0aGlzLm9uVmlzaWJpbGl0eVBsYXkgPSB0aGlzLnZpc2liaWxpdHlQbGF5LmJpbmQoIHRoaXMgKTtcbn1cblxuLy8gc3RhcnQgcGxheVxuUGxheWVyLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24oKSB7XG4gIGlmICggdGhpcy5zdGF0ZSA9PT0gJ3BsYXlpbmcnICkgcmV0dXJuO1xuXG4gIC8vIGRvIG5vdCBwbGF5IGlmIHBhZ2UgaXMgaGlkZGVuLCBzdGFydCBwbGF5aW5nIHdoZW4gcGFnZSBpcyB2aXNpYmxlXG4gIGxldCBpc1BhZ2VIaWRkZW4gPSBkb2N1bWVudC5oaWRkZW47XG4gIGlmICggaXNQYWdlSGlkZGVuICkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd2aXNpYmlsaXR5Y2hhbmdlJywgdGhpcy5vblZpc2liaWxpdHlQbGF5ICk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5zdGF0ZSA9ICdwbGF5aW5nJztcbiAgLy8gbGlzdGVuIHRvIHZpc2liaWxpdHkgY2hhbmdlXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd2aXNpYmlsaXR5Y2hhbmdlJywgdGhpcy5vblZpc2liaWxpdHlDaGFuZ2UgKTtcbiAgLy8gc3RhcnQgdGlja2luZ1xuICB0aGlzLnRpY2soKTtcbn07XG5cblBsYXllci5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uKCkge1xuICAvLyBkbyBub3QgdGljayBpZiBub3QgcGxheWluZ1xuICBpZiAoIHRoaXMuc3RhdGUgIT09ICdwbGF5aW5nJyApIHJldHVybjtcblxuICAvLyBkZWZhdWx0IHRvIDMgc2Vjb25kc1xuICBsZXQgdGltZSA9IHR5cGVvZiB0aGlzLmF1dG9QbGF5ID09ICdudW1iZXInID8gdGhpcy5hdXRvUGxheSA6IDMwMDA7XG4gIC8vIEhBQ0s6IHJlc2V0IHRpY2tzIGlmIHN0b3BwZWQgYW5kIHN0YXJ0ZWQgd2l0aGluIGludGVydmFsXG4gIHRoaXMuY2xlYXIoKTtcbiAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCggKCkgPT4ge1xuICAgIHRoaXMub25UaWNrKCk7XG4gICAgdGhpcy50aWNrKCk7XG4gIH0sIHRpbWUgKTtcbn07XG5cblBsYXllci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnN0YXRlID0gJ3N0b3BwZWQnO1xuICB0aGlzLmNsZWFyKCk7XG4gIC8vIHJlbW92ZSB2aXNpYmlsaXR5IGNoYW5nZSBldmVudFxuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAndmlzaWJpbGl0eWNoYW5nZScsIHRoaXMub25WaXNpYmlsaXR5Q2hhbmdlICk7XG59O1xuXG5QbGF5ZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gIGNsZWFyVGltZW91dCggdGhpcy50aW1lb3V0ICk7XG59O1xuXG5QbGF5ZXIucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24oKSB7XG4gIGlmICggdGhpcy5zdGF0ZSA9PT0gJ3BsYXlpbmcnICkge1xuICAgIHRoaXMuc3RhdGUgPSAncGF1c2VkJztcbiAgICB0aGlzLmNsZWFyKCk7XG4gIH1cbn07XG5cblBsYXllci5wcm90b3R5cGUudW5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAvLyByZS1zdGFydCBwbGF5IGlmIHBhdXNlZFxuICBpZiAoIHRoaXMuc3RhdGUgPT09ICdwYXVzZWQnICkgdGhpcy5wbGF5KCk7XG59O1xuXG4vLyBwYXVzZSBpZiBwYWdlIHZpc2liaWxpdHkgaXMgaGlkZGVuLCB1bnBhdXNlIGlmIHZpc2libGVcblBsYXllci5wcm90b3R5cGUudmlzaWJpbGl0eUNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICBsZXQgaXNQYWdlSGlkZGVuID0gZG9jdW1lbnQuaGlkZGVuO1xuICB0aGlzWyBpc1BhZ2VIaWRkZW4gPyAncGF1c2UnIDogJ3VucGF1c2UnIF0oKTtcbn07XG5cblBsYXllci5wcm90b3R5cGUudmlzaWJpbGl0eVBsYXkgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5wbGF5KCk7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICd2aXNpYmlsaXR5Y2hhbmdlJywgdGhpcy5vblZpc2liaWxpdHlQbGF5ICk7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBGbGlja2l0eSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5PYmplY3QuYXNzaWduKCBGbGlja2l0eS5kZWZhdWx0cywge1xuICBwYXVzZUF1dG9QbGF5T25Ib3ZlcjogdHJ1ZSxcbn0gKTtcblxuRmxpY2tpdHkuY3JlYXRlLnBsYXllciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXIoIHRoaXMub3B0aW9ucy5hdXRvUGxheSwgKCkgPT4ge1xuICAgIHRoaXMubmV4dCggdHJ1ZSApO1xuICB9ICk7XG5cbiAgdGhpcy5vbiggJ2FjdGl2YXRlJywgdGhpcy5hY3RpdmF0ZVBsYXllciApO1xuICB0aGlzLm9uKCAndWlDaGFuZ2UnLCB0aGlzLnN0b3BQbGF5ZXIgKTtcbiAgdGhpcy5vbiggJ3BvaW50ZXJEb3duJywgdGhpcy5zdG9wUGxheWVyICk7XG4gIHRoaXMub24oICdkZWFjdGl2YXRlJywgdGhpcy5kZWFjdGl2YXRlUGxheWVyICk7XG59O1xuXG5sZXQgcHJvdG8gPSBGbGlja2l0eS5wcm90b3R5cGU7XG5cbnByb3RvLmFjdGl2YXRlUGxheWVyID0gZnVuY3Rpb24oKSB7XG4gIGlmICggIXRoaXMub3B0aW9ucy5hdXRvUGxheSApIHJldHVybjtcblxuICB0aGlzLnBsYXllci5wbGF5KCk7XG4gIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAnbW91c2VlbnRlcicsIHRoaXMgKTtcbn07XG5cbi8vIFBsYXllciBBUEksIGRvbid0IGhhdGUgdGhlIC4uLiB0aGFua3MgSSBrbm93IHdoZXJlIHRoZSBkb29yIGlzXG5cbnByb3RvLnBsYXlQbGF5ZXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5wbGF5ZXIucGxheSgpO1xufTtcblxucHJvdG8uc3RvcFBsYXllciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBsYXllci5zdG9wKCk7XG59O1xuXG5wcm90by5wYXVzZVBsYXllciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBsYXllci5wYXVzZSgpO1xufTtcblxucHJvdG8udW5wYXVzZVBsYXllciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBsYXllci51bnBhdXNlKCk7XG59O1xuXG5wcm90by5kZWFjdGl2YXRlUGxheWVyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucGxheWVyLnN0b3AoKTtcbiAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdtb3VzZWVudGVyJywgdGhpcyApO1xufTtcblxuLy8gLS0tLS0gbW91c2VlbnRlci9sZWF2ZSAtLS0tLSAvL1xuXG4vLyBwYXVzZSBhdXRvLXBsYXkgb24gaG92ZXJcbnByb3RvLm9ubW91c2VlbnRlciA9IGZ1bmN0aW9uKCkge1xuICBpZiAoICF0aGlzLm9wdGlvbnMucGF1c2VBdXRvUGxheU9uSG92ZXIgKSByZXR1cm47XG5cbiAgdGhpcy5wbGF5ZXIucGF1c2UoKTtcbiAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdtb3VzZWxlYXZlJywgdGhpcyApO1xufTtcblxuLy8gcmVzdW1lIGF1dG8tcGxheSBvbiBob3ZlciBvZmZcbnByb3RvLm9ubW91c2VsZWF2ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBsYXllci51bnBhdXNlKCk7XG4gIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnbW91c2VsZWF2ZScsIHRoaXMgKTtcbn07XG5cbi8vIC0tLS0tICAtLS0tLSAvL1xuXG5GbGlja2l0eS5QbGF5ZXIgPSBQbGF5ZXI7XG5cbnJldHVybiBGbGlja2l0eTtcblxufSApICk7XG5cbn0se1wiLi9jb3JlXCI6Nn1dLDEzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIHByZXYvbmV4dCBidXR0b25zXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoIHJlcXVpcmUoJy4vY29yZScpICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICBmYWN0b3J5KCB3aW5kb3cuRmxpY2tpdHkgKTtcbiAgfVxuXG59KCB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24gZmFjdG9yeSggRmxpY2tpdHkgKSB7XG5cbmNvbnN0IHN2Z1VSSSA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFByZXZOZXh0QnV0dG9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbmZ1bmN0aW9uIFByZXZOZXh0QnV0dG9uKCBpbmNyZW1lbnQsIGRpcmVjdGlvbiwgYXJyb3dTaGFwZSApIHtcbiAgdGhpcy5pbmNyZW1lbnQgPSBpbmNyZW1lbnQ7XG4gIHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICB0aGlzLmlzUHJldmlvdXMgPSBpbmNyZW1lbnQgPT09ICdwcmV2aW91cyc7XG4gIHRoaXMuaXNMZWZ0ID0gZGlyZWN0aW9uID09PSAnbGVmdCc7XG4gIHRoaXMuX2NyZWF0ZSggYXJyb3dTaGFwZSApO1xufVxuXG5QcmV2TmV4dEJ1dHRvbi5wcm90b3R5cGUuX2NyZWF0ZSA9IGZ1bmN0aW9uKCBhcnJvd1NoYXBlICkge1xuICAvLyBwcm9wZXJ0aWVzXG4gIGxldCBlbGVtZW50ID0gdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIGVsZW1lbnQuY2xhc3NOYW1lID0gYGZsaWNraXR5LWJ1dHRvbiBmbGlja2l0eS1wcmV2LW5leHQtYnV0dG9uICR7dGhpcy5pbmNyZW1lbnR9YDtcbiAgbGV0IGxhYmVsID0gdGhpcy5pc1ByZXZpb3VzID8gJ1ByZXZpb3VzJyA6ICdOZXh0JztcbiAgLy8gcHJldmVudCBidXR0b24gZnJvbSBzdWJtaXR0aW5nIGZvcm0gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzEwODM2MDc2LzE4MjE4M1xuICBlbGVtZW50LnNldEF0dHJpYnV0ZSggJ3R5cGUnLCAnYnV0dG9uJyApO1xuICBlbGVtZW50LnNldEF0dHJpYnV0ZSggJ2FyaWEtbGFiZWwnLCBsYWJlbCApO1xuICAvLyBpbml0IGFzIGRpc2FibGVkXG4gIHRoaXMuZGlzYWJsZSgpO1xuICAvLyBjcmVhdGUgYXJyb3dcbiAgbGV0IHN2ZyA9IHRoaXMuY3JlYXRlU1ZHKCBsYWJlbCwgYXJyb3dTaGFwZSApO1xuICBlbGVtZW50LmFwcGVuZCggc3ZnICk7XG59O1xuXG5QcmV2TmV4dEJ1dHRvbi5wcm90b3R5cGUuY3JlYXRlU1ZHID0gZnVuY3Rpb24oIGxhYmVsLCBhcnJvd1NoYXBlICkge1xuICBsZXQgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCBzdmdVUkksICdzdmcnICk7XG4gIHN2Zy5zZXRBdHRyaWJ1dGUoICdjbGFzcycsICdmbGlja2l0eS1idXR0b24taWNvbicgKTtcbiAgc3ZnLnNldEF0dHJpYnV0ZSggJ3ZpZXdCb3gnLCAnMCAwIDEwMCAxMDAnICk7XG4gIC8vIGFkZCB0aXRsZSAjMTE4OVxuICBsZXQgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoIHN2Z1VSSSwgJ3RpdGxlJyApO1xuICB0aXRsZS5hcHBlbmQoIGxhYmVsICk7XG4gIC8vIGFkZCBwYXRoXG4gIGxldCBwYXRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCBzdmdVUkksICdwYXRoJyApO1xuICBsZXQgcGF0aE1vdmVtZW50cyA9IGdldEFycm93TW92ZW1lbnRzKCBhcnJvd1NoYXBlICk7XG4gIHBhdGguc2V0QXR0cmlidXRlKCAnZCcsIHBhdGhNb3ZlbWVudHMgKTtcbiAgcGF0aC5zZXRBdHRyaWJ1dGUoICdjbGFzcycsICdhcnJvdycgKTtcbiAgLy8gcm90YXRlIGFycm93XG4gIGlmICggIXRoaXMuaXNMZWZ0ICkge1xuICAgIHBhdGguc2V0QXR0cmlidXRlKCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgxMDAsIDEwMCkgcm90YXRlKDE4MCknICk7XG4gIH1cbiAgc3ZnLmFwcGVuZCggdGl0bGUsIHBhdGggKTtcbiAgcmV0dXJuIHN2Zztcbn07XG5cbi8vIGdldCBTVkcgcGF0aCBtb3ZtZW1lbnRcbmZ1bmN0aW9uIGdldEFycm93TW92ZW1lbnRzKCBzaGFwZSApIHtcbiAgLy8gdXNlIHNoYXBlIGFzIG1vdmVtZW50IGlmIHN0cmluZ1xuICBpZiAoIHR5cGVvZiBzaGFwZSA9PSAnc3RyaW5nJyApIHJldHVybiBzaGFwZTtcblxuICBsZXQgeyB4MCwgeDEsIHgyLCB4MywgeTEsIHkyIH0gPSBzaGFwZTtcblxuICAvLyBjcmVhdGUgbW92ZW1lbnQgc3RyaW5nXG4gIHJldHVybiBgTSAke3gwfSwgNTBcbiAgICBMICR7eDF9LCAke3kxICsgNTB9XG4gICAgTCAke3gyfSwgJHt5MiArIDUwfVxuICAgIEwgJHt4M30sIDUwXG4gICAgTCAke3gyfSwgJHs1MCAtIHkyfVxuICAgIEwgJHt4MX0sICR7NTAgLSB5MX1cbiAgICBaYDtcbn1cblxuLy8gLS0tLS0gIC0tLS0tIC8vXG5cblByZXZOZXh0QnV0dG9uLnByb3RvdHlwZS5lbmFibGUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbn07XG5cblByZXZOZXh0QnV0dG9uLnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoICdkaXNhYmxlZCcsIHRydWUgKTtcbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEZsaWNraXR5IHByb3RvdHlwZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5PYmplY3QuYXNzaWduKCBGbGlja2l0eS5kZWZhdWx0cywge1xuICBwcmV2TmV4dEJ1dHRvbnM6IHRydWUsXG4gIGFycm93U2hhcGU6IHtcbiAgICB4MDogMTAsXG4gICAgeDE6IDYwLCB5MTogNTAsXG4gICAgeDI6IDcwLCB5MjogNDAsXG4gICAgeDM6IDMwLFxuICB9LFxufSApO1xuXG5GbGlja2l0eS5jcmVhdGUucHJldk5leHRCdXR0b25zID0gZnVuY3Rpb24oKSB7XG4gIGlmICggIXRoaXMub3B0aW9ucy5wcmV2TmV4dEJ1dHRvbnMgKSByZXR1cm47XG5cbiAgbGV0IHsgcmlnaHRUb0xlZnQsIGFycm93U2hhcGUgfSA9IHRoaXMub3B0aW9ucztcbiAgbGV0IHByZXZEaXJlY3Rpb24gPSByaWdodFRvTGVmdCA/ICdyaWdodCcgOiAnbGVmdCc7XG4gIGxldCBuZXh0RGlyZWN0aW9uID0gcmlnaHRUb0xlZnQgPyAnbGVmdCcgOiAncmlnaHQnO1xuICB0aGlzLnByZXZCdXR0b24gPSBuZXcgUHJldk5leHRCdXR0b24oICdwcmV2aW91cycsIHByZXZEaXJlY3Rpb24sIGFycm93U2hhcGUgKTtcbiAgdGhpcy5uZXh0QnV0dG9uID0gbmV3IFByZXZOZXh0QnV0dG9uKCAnbmV4dCcsIG5leHREaXJlY3Rpb24sIGFycm93U2hhcGUgKTtcbiAgdGhpcy5mb2N1c2FibGVFbGVtcy5wdXNoKCB0aGlzLnByZXZCdXR0b24uZWxlbWVudCApO1xuICB0aGlzLmZvY3VzYWJsZUVsZW1zLnB1c2goIHRoaXMubmV4dEJ1dHRvbi5lbGVtZW50ICk7XG5cbiAgdGhpcy5oYW5kbGVQcmV2QnV0dG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgdGhpcy51aUNoYW5nZSgpO1xuICAgIHRoaXMucHJldmlvdXMoKTtcbiAgfTtcblxuICB0aGlzLmhhbmRsZU5leHRCdXR0b25DbGljayA9ICgpID0+IHtcbiAgICB0aGlzLnVpQ2hhbmdlKCk7XG4gICAgdGhpcy5uZXh0KCk7XG4gIH07XG5cbiAgdGhpcy5vbiggJ2FjdGl2YXRlJywgdGhpcy5hY3RpdmF0ZVByZXZOZXh0QnV0dG9ucyApO1xuICB0aGlzLm9uKCAnc2VsZWN0JywgdGhpcy51cGRhdGVQcmV2TmV4dEJ1dHRvbnMgKTtcbn07XG5cbmxldCBwcm90byA9IEZsaWNraXR5LnByb3RvdHlwZTtcblxucHJvdG8udXBkYXRlUHJldk5leHRCdXR0b25zID0gZnVuY3Rpb24oKSB7XG4gIGxldCBsYXN0SW5kZXggPSB0aGlzLnNsaWRlcy5sZW5ndGggPyB0aGlzLnNsaWRlcy5sZW5ndGggLSAxIDogMDtcbiAgdGhpcy51cGRhdGVQcmV2TmV4dEJ1dHRvbiggdGhpcy5wcmV2QnV0dG9uLCAwICk7XG4gIHRoaXMudXBkYXRlUHJldk5leHRCdXR0b24oIHRoaXMubmV4dEJ1dHRvbiwgbGFzdEluZGV4ICk7XG59O1xuXG5wcm90by51cGRhdGVQcmV2TmV4dEJ1dHRvbiA9IGZ1bmN0aW9uKCBidXR0b24sIGRpc2FibGVkSW5kZXggKSB7XG4gIC8vIGVuYWJsZSBpcyB3cmFwQXJvdW5kIGFuZCBhdCBsZWFzdCAyIHNsaWRlc1xuICBpZiAoIHRoaXMuaXNXcmFwcGluZyAmJiB0aGlzLnNsaWRlcy5sZW5ndGggPiAxICkge1xuICAgIGJ1dHRvbi5lbmFibGUoKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgaXNFbmFibGVkID0gdGhpcy5zZWxlY3RlZEluZGV4ICE9PSBkaXNhYmxlZEluZGV4O1xuICBidXR0b25bIGlzRW5hYmxlZCA/ICdlbmFibGUnIDogJ2Rpc2FibGUnIF0oKTtcbiAgLy8gaWYgZGlzYWJsaW5nIGJ1dHRvbiB0aGF0IGlzIGZvY3VzZWQsXG4gIC8vIHNoaWZ0IGZvY3VzIHRvIGVsZW1lbnQgdG8gbWFpbnRhaW4ga2V5Ym9hcmQgYWNjZXNzaWJpbGl0eVxuICBsZXQgaXNEaXNhYmxlZEZvY3VzZWQgPSAhaXNFbmFibGVkICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGJ1dHRvbi5lbGVtZW50O1xuICBpZiAoIGlzRGlzYWJsZWRGb2N1c2VkICkgdGhpcy5mb2N1cygpO1xufTtcblxucHJvdG8uYWN0aXZhdGVQcmV2TmV4dEJ1dHRvbnMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5wcmV2QnV0dG9uLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgdGhpcy5oYW5kbGVQcmV2QnV0dG9uQ2xpY2sgKTtcbiAgdGhpcy5uZXh0QnV0dG9uLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgdGhpcy5oYW5kbGVOZXh0QnV0dG9uQ2xpY2sgKTtcbiAgdGhpcy5lbGVtZW50LmFwcGVuZCggdGhpcy5wcmV2QnV0dG9uLmVsZW1lbnQsIHRoaXMubmV4dEJ1dHRvbi5lbGVtZW50ICk7XG4gIHRoaXMub24oICdkZWFjdGl2YXRlJywgdGhpcy5kZWFjdGl2YXRlUHJldk5leHRCdXR0b25zICk7XG59O1xuXG5wcm90by5kZWFjdGl2YXRlUHJldk5leHRCdXR0b25zID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucHJldkJ1dHRvbi5lbGVtZW50LnJlbW92ZSgpO1xuICB0aGlzLm5leHRCdXR0b24uZWxlbWVudC5yZW1vdmUoKTtcbiAgdGhpcy5wcmV2QnV0dG9uLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgdGhpcy5oYW5kbGVQcmV2QnV0dG9uQ2xpY2sgKTtcbiAgdGhpcy5uZXh0QnV0dG9uLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgdGhpcy5oYW5kbGVOZXh0QnV0dG9uQ2xpY2sgKTtcbiAgdGhpcy5vZmYoICdkZWFjdGl2YXRlJywgdGhpcy5kZWFjdGl2YXRlUHJldk5leHRCdXR0b25zICk7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuRmxpY2tpdHkuUHJldk5leHRCdXR0b24gPSBQcmV2TmV4dEJ1dHRvbjtcblxucmV0dXJuIEZsaWNraXR5O1xuXG59ICkgKTtcblxufSx7XCIuL2NvcmVcIjo2fV0sMTQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gc2xpZGVcbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93LkZsaWNraXR5ID0gd2luZG93LkZsaWNraXR5IHx8IHt9O1xuICAgIHdpbmRvdy5GbGlja2l0eS5TbGlkZSA9IGZhY3RvcnkoKTtcbiAgfVxuXG59KCB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24gZmFjdG9yeSgpIHtcblxuZnVuY3Rpb24gU2xpZGUoIGJlZ2luTWFyZ2luLCBlbmRNYXJnaW4sIGNlbGxBbGlnbiApIHtcbiAgdGhpcy5iZWdpbk1hcmdpbiA9IGJlZ2luTWFyZ2luO1xuICB0aGlzLmVuZE1hcmdpbiA9IGVuZE1hcmdpbjtcbiAgdGhpcy5jZWxsQWxpZ24gPSBjZWxsQWxpZ247XG4gIHRoaXMuY2VsbHMgPSBbXTtcbiAgdGhpcy5vdXRlcldpZHRoID0gMDtcbiAgdGhpcy5oZWlnaHQgPSAwO1xufVxuXG5sZXQgcHJvdG8gPSBTbGlkZS5wcm90b3R5cGU7XG5cbnByb3RvLmFkZENlbGwgPSBmdW5jdGlvbiggY2VsbCApIHtcbiAgdGhpcy5jZWxscy5wdXNoKCBjZWxsICk7XG4gIHRoaXMub3V0ZXJXaWR0aCArPSBjZWxsLnNpemUub3V0ZXJXaWR0aDtcbiAgdGhpcy5oZWlnaHQgPSBNYXRoLm1heCggY2VsbC5zaXplLm91dGVySGVpZ2h0LCB0aGlzLmhlaWdodCApO1xuICAvLyBmaXJzdCBjZWxsIHN0dWZmXG4gIGlmICggdGhpcy5jZWxscy5sZW5ndGggPT09IDEgKSB7XG4gICAgdGhpcy54ID0gY2VsbC54OyAvLyB4IGNvbWVzIGZyb20gZmlyc3QgY2VsbFxuICAgIHRoaXMuZmlyc3RNYXJnaW4gPSBjZWxsLnNpemVbIHRoaXMuYmVnaW5NYXJnaW4gXTtcbiAgfVxufTtcblxucHJvdG8udXBkYXRlVGFyZ2V0ID0gZnVuY3Rpb24oKSB7XG4gIGxldCBsYXN0Q2VsbCA9IHRoaXMuZ2V0TGFzdENlbGwoKTtcbiAgbGV0IGxhc3RNYXJnaW4gPSBsYXN0Q2VsbCA/IGxhc3RDZWxsLnNpemVbIHRoaXMuZW5kTWFyZ2luIF0gOiAwO1xuICBsZXQgc2xpZGVXaWR0aCA9IHRoaXMub3V0ZXJXaWR0aCAtICggdGhpcy5maXJzdE1hcmdpbiArIGxhc3RNYXJnaW4gKTtcbiAgdGhpcy50YXJnZXQgPSB0aGlzLnggKyB0aGlzLmZpcnN0TWFyZ2luICsgc2xpZGVXaWR0aCAqIHRoaXMuY2VsbEFsaWduO1xufTtcblxucHJvdG8uZ2V0TGFzdENlbGwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuY2VsbHNbIHRoaXMuY2VsbHMubGVuZ3RoIC0gMSBdO1xufTtcblxucHJvdG8uc2VsZWN0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuY2VsbHMuZm9yRWFjaCggKCBjZWxsICkgPT4gY2VsbC5zZWxlY3QoKSApO1xufTtcblxucHJvdG8udW5zZWxlY3QgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5jZWxscy5mb3JFYWNoKCAoIGNlbGwgKSA9PiBjZWxsLnVuc2VsZWN0KCkgKTtcbn07XG5cbnByb3RvLmdldENlbGxFbGVtZW50cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5jZWxscy5tYXAoICggY2VsbCApID0+IGNlbGwuZWxlbWVudCApO1xufTtcblxucmV0dXJuIFNsaWRlO1xuXG59ICkgKTtcblxufSx7fV0sMTU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyohXG4gKiBJbmZpbml0ZSBTY3JvbGwgdjIuMC40XG4gKiBtZWFzdXJlIHNpemUgb2YgZWxlbWVudHNcbiAqIE1JVCBsaWNlbnNlXG4gKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5nZXRTaXplID0gZmFjdG9yeSgpO1xuICB9XG5cbn0gKSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCkge1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBoZWxwZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8vIGdldCBhIG51bWJlciBmcm9tIGEgc3RyaW5nLCBub3QgYSBwZXJjZW50YWdlXG5mdW5jdGlvbiBnZXRTdHlsZVNpemUoIHZhbHVlICkge1xuICBsZXQgbnVtID0gcGFyc2VGbG9hdCggdmFsdWUgKTtcbiAgLy8gbm90IGEgcGVyY2VudCBsaWtlICcxMDAlJywgYW5kIGEgbnVtYmVyXG4gIGxldCBpc1ZhbGlkID0gdmFsdWUuaW5kZXhPZignJScpID09IC0xICYmICFpc05hTiggbnVtICk7XG4gIHJldHVybiBpc1ZhbGlkICYmIG51bTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gbWVhc3VyZW1lbnRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbmxldCBtZWFzdXJlbWVudHMgPSBbXG4gICdwYWRkaW5nTGVmdCcsXG4gICdwYWRkaW5nUmlnaHQnLFxuICAncGFkZGluZ1RvcCcsXG4gICdwYWRkaW5nQm90dG9tJyxcbiAgJ21hcmdpbkxlZnQnLFxuICAnbWFyZ2luUmlnaHQnLFxuICAnbWFyZ2luVG9wJyxcbiAgJ21hcmdpbkJvdHRvbScsXG4gICdib3JkZXJMZWZ0V2lkdGgnLFxuICAnYm9yZGVyUmlnaHRXaWR0aCcsXG4gICdib3JkZXJUb3BXaWR0aCcsXG4gICdib3JkZXJCb3R0b21XaWR0aCcsXG5dO1xuXG5sZXQgbWVhc3VyZW1lbnRzTGVuZ3RoID0gbWVhc3VyZW1lbnRzLmxlbmd0aDtcblxuZnVuY3Rpb24gZ2V0WmVyb1NpemUoKSB7XG4gIGxldCBzaXplID0ge1xuICAgIHdpZHRoOiAwLFxuICAgIGhlaWdodDogMCxcbiAgICBpbm5lcldpZHRoOiAwLFxuICAgIGlubmVySGVpZ2h0OiAwLFxuICAgIG91dGVyV2lkdGg6IDAsXG4gICAgb3V0ZXJIZWlnaHQ6IDAsXG4gIH07XG4gIG1lYXN1cmVtZW50cy5mb3JFYWNoKCAoIG1lYXN1cmVtZW50ICkgPT4ge1xuICAgIHNpemVbIG1lYXN1cmVtZW50IF0gPSAwO1xuICB9ICk7XG4gIHJldHVybiBzaXplO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBnZXRTaXplIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbmZ1bmN0aW9uIGdldFNpemUoIGVsZW0gKSB7XG4gIC8vIHVzZSBxdWVyeVNlbGV0b3IgaWYgZWxlbSBpcyBzdHJpbmdcbiAgaWYgKCB0eXBlb2YgZWxlbSA9PSAnc3RyaW5nJyApIGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBlbGVtICk7XG5cbiAgLy8gZG8gbm90IHByb2NlZWQgb24gbm9uLW9iamVjdHNcbiAgbGV0IGlzRWxlbWVudCA9IGVsZW0gJiYgdHlwZW9mIGVsZW0gPT0gJ29iamVjdCcgJiYgZWxlbS5ub2RlVHlwZTtcbiAgaWYgKCAhaXNFbGVtZW50ICkgcmV0dXJuO1xuXG4gIGxldCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoIGVsZW0gKTtcblxuICAvLyBpZiBoaWRkZW4sIGV2ZXJ5dGhpbmcgaXMgMFxuICBpZiAoIHN0eWxlLmRpc3BsYXkgPT0gJ25vbmUnICkgcmV0dXJuIGdldFplcm9TaXplKCk7XG5cbiAgbGV0IHNpemUgPSB7fTtcbiAgc2l6ZS53aWR0aCA9IGVsZW0ub2Zmc2V0V2lkdGg7XG4gIHNpemUuaGVpZ2h0ID0gZWxlbS5vZmZzZXRIZWlnaHQ7XG5cbiAgbGV0IGlzQm9yZGVyQm94ID0gc2l6ZS5pc0JvcmRlckJveCA9IHN0eWxlLmJveFNpemluZyA9PSAnYm9yZGVyLWJveCc7XG5cbiAgLy8gZ2V0IGFsbCBtZWFzdXJlbWVudHNcbiAgbWVhc3VyZW1lbnRzLmZvckVhY2goICggbWVhc3VyZW1lbnQgKSA9PiB7XG4gICAgbGV0IHZhbHVlID0gc3R5bGVbIG1lYXN1cmVtZW50IF07XG4gICAgbGV0IG51bSA9IHBhcnNlRmxvYXQoIHZhbHVlICk7XG4gICAgLy8gYW55ICdhdXRvJywgJ21lZGl1bScgdmFsdWUgd2lsbCBiZSAwXG4gICAgc2l6ZVsgbWVhc3VyZW1lbnQgXSA9ICFpc05hTiggbnVtICkgPyBudW0gOiAwO1xuICB9ICk7XG5cbiAgbGV0IHBhZGRpbmdXaWR0aCA9IHNpemUucGFkZGluZ0xlZnQgKyBzaXplLnBhZGRpbmdSaWdodDtcbiAgbGV0IHBhZGRpbmdIZWlnaHQgPSBzaXplLnBhZGRpbmdUb3AgKyBzaXplLnBhZGRpbmdCb3R0b207XG4gIGxldCBtYXJnaW5XaWR0aCA9IHNpemUubWFyZ2luTGVmdCArIHNpemUubWFyZ2luUmlnaHQ7XG4gIGxldCBtYXJnaW5IZWlnaHQgPSBzaXplLm1hcmdpblRvcCArIHNpemUubWFyZ2luQm90dG9tO1xuICBsZXQgYm9yZGVyV2lkdGggPSBzaXplLmJvcmRlckxlZnRXaWR0aCArIHNpemUuYm9yZGVyUmlnaHRXaWR0aDtcbiAgbGV0IGJvcmRlckhlaWdodCA9IHNpemUuYm9yZGVyVG9wV2lkdGggKyBzaXplLmJvcmRlckJvdHRvbVdpZHRoO1xuXG4gIC8vIG92ZXJ3cml0ZSB3aWR0aCBhbmQgaGVpZ2h0IGlmIHdlIGNhbiBnZXQgaXQgZnJvbSBzdHlsZVxuICBsZXQgc3R5bGVXaWR0aCA9IGdldFN0eWxlU2l6ZSggc3R5bGUud2lkdGggKTtcbiAgaWYgKCBzdHlsZVdpZHRoICE9PSBmYWxzZSApIHtcbiAgICBzaXplLndpZHRoID0gc3R5bGVXaWR0aCArXG4gICAgICAvLyBhZGQgcGFkZGluZyBhbmQgYm9yZGVyIHVubGVzcyBpdCdzIGFscmVhZHkgaW5jbHVkaW5nIGl0XG4gICAgICAoIGlzQm9yZGVyQm94ID8gMCA6IHBhZGRpbmdXaWR0aCArIGJvcmRlcldpZHRoICk7XG4gIH1cblxuICBsZXQgc3R5bGVIZWlnaHQgPSBnZXRTdHlsZVNpemUoIHN0eWxlLmhlaWdodCApO1xuICBpZiAoIHN0eWxlSGVpZ2h0ICE9PSBmYWxzZSApIHtcbiAgICBzaXplLmhlaWdodCA9IHN0eWxlSGVpZ2h0ICtcbiAgICAgIC8vIGFkZCBwYWRkaW5nIGFuZCBib3JkZXIgdW5sZXNzIGl0J3MgYWxyZWFkeSBpbmNsdWRpbmcgaXRcbiAgICAgICggaXNCb3JkZXJCb3ggPyAwIDogcGFkZGluZ0hlaWdodCArIGJvcmRlckhlaWdodCApO1xuICB9XG5cbiAgc2l6ZS5pbm5lcldpZHRoID0gc2l6ZS53aWR0aCAtICggcGFkZGluZ1dpZHRoICsgYm9yZGVyV2lkdGggKTtcbiAgc2l6ZS5pbm5lckhlaWdodCA9IHNpemUuaGVpZ2h0IC0gKCBwYWRkaW5nSGVpZ2h0ICsgYm9yZGVySGVpZ2h0ICk7XG5cbiAgc2l6ZS5vdXRlcldpZHRoID0gc2l6ZS53aWR0aCArIG1hcmdpbldpZHRoO1xuICBzaXplLm91dGVySGVpZ2h0ID0gc2l6ZS5oZWlnaHQgKyBtYXJnaW5IZWlnaHQ7XG5cbiAgcmV0dXJuIHNpemU7XG59XG5cbnJldHVybiBnZXRTaXplO1xuXG59ICk7XG5cbn0se31dLDE2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qIVxuICogaW1hZ2VzTG9hZGVkIHY1LjAuMFxuICogSmF2YVNjcmlwdCBpcyBhbGwgbGlrZSBcIllvdSBpbWFnZXMgYXJlIGRvbmUgeWV0IG9yIHdoYXQ/XCJcbiAqIE1JVCBMaWNlbnNlXG4gKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCB3aW5kb3csIHJlcXVpcmUoJ2V2LWVtaXR0ZXInKSApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93LmltYWdlc0xvYWRlZCA9IGZhY3RvcnkoIHdpbmRvdywgd2luZG93LkV2RW1pdHRlciApO1xuICB9XG5cbn0gKSggdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0aGlzLFxuICAgIGZ1bmN0aW9uIGZhY3RvcnkoIHdpbmRvdywgRXZFbWl0dGVyICkge1xuXG5sZXQgJCA9IHdpbmRvdy5qUXVlcnk7XG5sZXQgY29uc29sZSA9IHdpbmRvdy5jb25zb2xlO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBoZWxwZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8vIHR1cm4gZWxlbWVudCBvciBub2RlTGlzdCBpbnRvIGFuIGFycmF5XG5mdW5jdGlvbiBtYWtlQXJyYXkoIG9iaiApIHtcbiAgLy8gdXNlIG9iamVjdCBpZiBhbHJlYWR5IGFuIGFycmF5XG4gIGlmICggQXJyYXkuaXNBcnJheSggb2JqICkgKSByZXR1cm4gb2JqO1xuXG4gIGxldCBpc0FycmF5TGlrZSA9IHR5cGVvZiBvYmogPT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iai5sZW5ndGggPT0gJ251bWJlcic7XG4gIC8vIGNvbnZlcnQgbm9kZUxpc3QgdG8gYXJyYXlcbiAgaWYgKCBpc0FycmF5TGlrZSApIHJldHVybiBbIC4uLm9iaiBdO1xuXG4gIC8vIGFycmF5IG9mIHNpbmdsZSBpbmRleFxuICByZXR1cm4gWyBvYmogXTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gaW1hZ2VzTG9hZGVkIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8qKlxuICogQHBhcmFtIHtbQXJyYXksIEVsZW1lbnQsIE5vZGVMaXN0LCBTdHJpbmddfSBlbGVtXG4gKiBAcGFyYW0ge1tPYmplY3QsIEZ1bmN0aW9uXX0gb3B0aW9ucyAtIGlmIGZ1bmN0aW9uLCB1c2UgYXMgY2FsbGJhY2tcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9uQWx3YXlzIC0gY2FsbGJhY2sgZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtJbWFnZXNMb2FkZWR9XG4gKi9cbmZ1bmN0aW9uIEltYWdlc0xvYWRlZCggZWxlbSwgb3B0aW9ucywgb25BbHdheXMgKSB7XG4gIC8vIGNvZXJjZSBJbWFnZXNMb2FkZWQoKSB3aXRob3V0IG5ldywgdG8gYmUgbmV3IEltYWdlc0xvYWRlZCgpXG4gIGlmICggISggdGhpcyBpbnN0YW5jZW9mIEltYWdlc0xvYWRlZCApICkge1xuICAgIHJldHVybiBuZXcgSW1hZ2VzTG9hZGVkKCBlbGVtLCBvcHRpb25zLCBvbkFsd2F5cyApO1xuICB9XG4gIC8vIHVzZSBlbGVtIGFzIHNlbGVjdG9yIHN0cmluZ1xuICBsZXQgcXVlcnlFbGVtID0gZWxlbTtcbiAgaWYgKCB0eXBlb2YgZWxlbSA9PSAnc3RyaW5nJyApIHtcbiAgICBxdWVyeUVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCBlbGVtICk7XG4gIH1cbiAgLy8gYmFpbCBpZiBiYWQgZWxlbWVudFxuICBpZiAoICFxdWVyeUVsZW0gKSB7XG4gICAgY29uc29sZS5lcnJvcihgQmFkIGVsZW1lbnQgZm9yIGltYWdlc0xvYWRlZCAke3F1ZXJ5RWxlbSB8fCBlbGVtfWApO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuZWxlbWVudHMgPSBtYWtlQXJyYXkoIHF1ZXJ5RWxlbSApO1xuICB0aGlzLm9wdGlvbnMgPSB7fTtcbiAgLy8gc2hpZnQgYXJndW1lbnRzIGlmIG5vIG9wdGlvbnMgc2V0XG4gIGlmICggdHlwZW9mIG9wdGlvbnMgPT0gJ2Z1bmN0aW9uJyApIHtcbiAgICBvbkFsd2F5cyA9IG9wdGlvbnM7XG4gIH0gZWxzZSB7XG4gICAgT2JqZWN0LmFzc2lnbiggdGhpcy5vcHRpb25zLCBvcHRpb25zICk7XG4gIH1cblxuICBpZiAoIG9uQWx3YXlzICkgdGhpcy5vbiggJ2Fsd2F5cycsIG9uQWx3YXlzICk7XG5cbiAgdGhpcy5nZXRJbWFnZXMoKTtcbiAgLy8gYWRkIGpRdWVyeSBEZWZlcnJlZCBvYmplY3RcbiAgaWYgKCAkICkgdGhpcy5qcURlZmVycmVkID0gbmV3ICQuRGVmZXJyZWQoKTtcblxuICAvLyBIQUNLIGNoZWNrIGFzeW5jIHRvIGFsbG93IHRpbWUgdG8gYmluZCBsaXN0ZW5lcnNcbiAgc2V0VGltZW91dCggdGhpcy5jaGVjay5iaW5kKCB0aGlzICkgKTtcbn1cblxuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2RW1pdHRlci5wcm90b3R5cGUgKTtcblxuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5nZXRJbWFnZXMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5pbWFnZXMgPSBbXTtcblxuICAvLyBmaWx0ZXIgJiBmaW5kIGl0ZW1zIGlmIHdlIGhhdmUgYW4gaXRlbSBzZWxlY3RvclxuICB0aGlzLmVsZW1lbnRzLmZvckVhY2goIHRoaXMuYWRkRWxlbWVudEltYWdlcywgdGhpcyApO1xufTtcblxuY29uc3QgZWxlbWVudE5vZGVUeXBlcyA9IFsgMSwgOSwgMTEgXTtcblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IGVsZW1cbiAqL1xuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5hZGRFbGVtZW50SW1hZ2VzID0gZnVuY3Rpb24oIGVsZW0gKSB7XG4gIC8vIGZpbHRlciBzaWJsaW5nc1xuICBpZiAoIGVsZW0ubm9kZU5hbWUgPT09ICdJTUcnICkge1xuICAgIHRoaXMuYWRkSW1hZ2UoIGVsZW0gKTtcbiAgfVxuICAvLyBnZXQgYmFja2dyb3VuZCBpbWFnZSBvbiBlbGVtZW50XG4gIGlmICggdGhpcy5vcHRpb25zLmJhY2tncm91bmQgPT09IHRydWUgKSB7XG4gICAgdGhpcy5hZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyggZWxlbSApO1xuICB9XG5cbiAgLy8gZmluZCBjaGlsZHJlblxuICAvLyBubyBub24tZWxlbWVudCBub2RlcywgIzE0M1xuICBsZXQgeyBub2RlVHlwZSB9ID0gZWxlbTtcbiAgaWYgKCAhbm9kZVR5cGUgfHwgIWVsZW1lbnROb2RlVHlwZXMuaW5jbHVkZXMoIG5vZGVUeXBlICkgKSByZXR1cm47XG5cbiAgbGV0IGNoaWxkSW1ncyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnaW1nJyk7XG4gIC8vIGNvbmNhdCBjaGlsZEVsZW1zIHRvIGZpbHRlckZvdW5kIGFycmF5XG4gIGZvciAoIGxldCBpbWcgb2YgY2hpbGRJbWdzICkge1xuICAgIHRoaXMuYWRkSW1hZ2UoIGltZyApO1xuICB9XG5cbiAgLy8gZ2V0IGNoaWxkIGJhY2tncm91bmQgaW1hZ2VzXG4gIGlmICggdHlwZW9mIHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kID09ICdzdHJpbmcnICkge1xuICAgIGxldCBjaGlsZHJlbiA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCggdGhpcy5vcHRpb25zLmJhY2tncm91bmQgKTtcbiAgICBmb3IgKCBsZXQgY2hpbGQgb2YgY2hpbGRyZW4gKSB7XG4gICAgICB0aGlzLmFkZEVsZW1lbnRCYWNrZ3JvdW5kSW1hZ2VzKCBjaGlsZCApO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3QgcmVVUkwgPSAvdXJsXFwoKFsnXCJdKT8oLio/KVxcMVxcKS9naTtcblxuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5hZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICBsZXQgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKCBlbGVtICk7XG4gIC8vIEZpcmVmb3ggcmV0dXJucyBudWxsIGlmIGluIGEgaGlkZGVuIGlmcmFtZSBodHRwczovL2J1Z3ppbC5sYS81NDgzOTdcbiAgaWYgKCAhc3R5bGUgKSByZXR1cm47XG5cbiAgLy8gZ2V0IHVybCBpbnNpZGUgdXJsKFwiLi4uXCIpXG4gIGxldCBtYXRjaGVzID0gcmVVUkwuZXhlYyggc3R5bGUuYmFja2dyb3VuZEltYWdlICk7XG4gIHdoaWxlICggbWF0Y2hlcyAhPT0gbnVsbCApIHtcbiAgICBsZXQgdXJsID0gbWF0Y2hlcyAmJiBtYXRjaGVzWzJdO1xuICAgIGlmICggdXJsICkge1xuICAgICAgdGhpcy5hZGRCYWNrZ3JvdW5kKCB1cmwsIGVsZW0gKTtcbiAgICB9XG4gICAgbWF0Y2hlcyA9IHJlVVJMLmV4ZWMoIHN0eWxlLmJhY2tncm91bmRJbWFnZSApO1xuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7SW1hZ2V9IGltZ1xuICovXG5JbWFnZXNMb2FkZWQucHJvdG90eXBlLmFkZEltYWdlID0gZnVuY3Rpb24oIGltZyApIHtcbiAgbGV0IGxvYWRpbmdJbWFnZSA9IG5ldyBMb2FkaW5nSW1hZ2UoIGltZyApO1xuICB0aGlzLmltYWdlcy5wdXNoKCBsb2FkaW5nSW1hZ2UgKTtcbn07XG5cbkltYWdlc0xvYWRlZC5wcm90b3R5cGUuYWRkQmFja2dyb3VuZCA9IGZ1bmN0aW9uKCB1cmwsIGVsZW0gKSB7XG4gIGxldCBiYWNrZ3JvdW5kID0gbmV3IEJhY2tncm91bmQoIHVybCwgZWxlbSApO1xuICB0aGlzLmltYWdlcy5wdXNoKCBiYWNrZ3JvdW5kICk7XG59O1xuXG5JbWFnZXNMb2FkZWQucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucHJvZ3Jlc3NlZENvdW50ID0gMDtcbiAgdGhpcy5oYXNBbnlCcm9rZW4gPSBmYWxzZTtcbiAgLy8gY29tcGxldGUgaWYgbm8gaW1hZ2VzXG4gIGlmICggIXRoaXMuaW1hZ2VzLmxlbmd0aCApIHtcbiAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtc3R5bGUgKi9cbiAgbGV0IG9uUHJvZ3Jlc3MgPSAoIGltYWdlLCBlbGVtLCBtZXNzYWdlICkgPT4ge1xuICAgIC8vIEhBQ0sgLSBDaHJvbWUgdHJpZ2dlcnMgZXZlbnQgYmVmb3JlIG9iamVjdCBwcm9wZXJ0aWVzIGhhdmUgY2hhbmdlZC4gIzgzXG4gICAgc2V0VGltZW91dCggKCkgPT4ge1xuICAgICAgdGhpcy5wcm9ncmVzcyggaW1hZ2UsIGVsZW0sIG1lc3NhZ2UgKTtcbiAgICB9ICk7XG4gIH07XG5cbiAgdGhpcy5pbWFnZXMuZm9yRWFjaCggZnVuY3Rpb24oIGxvYWRpbmdJbWFnZSApIHtcbiAgICBsb2FkaW5nSW1hZ2Uub25jZSggJ3Byb2dyZXNzJywgb25Qcm9ncmVzcyApO1xuICAgIGxvYWRpbmdJbWFnZS5jaGVjaygpO1xuICB9ICk7XG59O1xuXG5JbWFnZXNMb2FkZWQucHJvdG90eXBlLnByb2dyZXNzID0gZnVuY3Rpb24oIGltYWdlLCBlbGVtLCBtZXNzYWdlICkge1xuICB0aGlzLnByb2dyZXNzZWRDb3VudCsrO1xuICB0aGlzLmhhc0FueUJyb2tlbiA9IHRoaXMuaGFzQW55QnJva2VuIHx8ICFpbWFnZS5pc0xvYWRlZDtcbiAgLy8gcHJvZ3Jlc3MgZXZlbnRcbiAgdGhpcy5lbWl0RXZlbnQoICdwcm9ncmVzcycsIFsgdGhpcywgaW1hZ2UsIGVsZW0gXSApO1xuICBpZiAoIHRoaXMuanFEZWZlcnJlZCAmJiB0aGlzLmpxRGVmZXJyZWQubm90aWZ5ICkge1xuICAgIHRoaXMuanFEZWZlcnJlZC5ub3RpZnkoIHRoaXMsIGltYWdlICk7XG4gIH1cbiAgLy8gY2hlY2sgaWYgY29tcGxldGVkXG4gIGlmICggdGhpcy5wcm9ncmVzc2VkQ291bnQgPT09IHRoaXMuaW1hZ2VzLmxlbmd0aCApIHtcbiAgICB0aGlzLmNvbXBsZXRlKCk7XG4gIH1cblxuICBpZiAoIHRoaXMub3B0aW9ucy5kZWJ1ZyAmJiBjb25zb2xlICkge1xuICAgIGNvbnNvbGUubG9nKCBgcHJvZ3Jlc3M6ICR7bWVzc2FnZX1gLCBpbWFnZSwgZWxlbSApO1xuICB9XG59O1xuXG5JbWFnZXNMb2FkZWQucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG4gIGxldCBldmVudE5hbWUgPSB0aGlzLmhhc0FueUJyb2tlbiA/ICdmYWlsJyA6ICdkb25lJztcbiAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgdGhpcy5lbWl0RXZlbnQoIGV2ZW50TmFtZSwgWyB0aGlzIF0gKTtcbiAgdGhpcy5lbWl0RXZlbnQoICdhbHdheXMnLCBbIHRoaXMgXSApO1xuICBpZiAoIHRoaXMuanFEZWZlcnJlZCApIHtcbiAgICBsZXQganFNZXRob2QgPSB0aGlzLmhhc0FueUJyb2tlbiA/ICdyZWplY3QnIDogJ3Jlc29sdmUnO1xuICAgIHRoaXMuanFEZWZlcnJlZFsganFNZXRob2QgXSggdGhpcyApO1xuICB9XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuZnVuY3Rpb24gTG9hZGluZ0ltYWdlKCBpbWcgKSB7XG4gIHRoaXMuaW1nID0gaW1nO1xufVxuXG5Mb2FkaW5nSW1hZ2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZFbWl0dGVyLnByb3RvdHlwZSApO1xuXG5Mb2FkaW5nSW1hZ2UucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24oKSB7XG4gIC8vIElmIGNvbXBsZXRlIGlzIHRydWUgYW5kIGJyb3dzZXIgc3VwcG9ydHMgbmF0dXJhbCBzaXplcyxcbiAgLy8gdHJ5IHRvIGNoZWNrIGZvciBpbWFnZSBzdGF0dXMgbWFudWFsbHkuXG4gIGxldCBpc0NvbXBsZXRlID0gdGhpcy5nZXRJc0ltYWdlQ29tcGxldGUoKTtcbiAgaWYgKCBpc0NvbXBsZXRlICkge1xuICAgIC8vIHJlcG9ydCBiYXNlZCBvbiBuYXR1cmFsV2lkdGhcbiAgICB0aGlzLmNvbmZpcm0oIHRoaXMuaW1nLm5hdHVyYWxXaWR0aCAhPT0gMCwgJ25hdHVyYWxXaWR0aCcgKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBJZiBub25lIG9mIHRoZSBjaGVja3MgYWJvdmUgbWF0Y2hlZCwgc2ltdWxhdGUgbG9hZGluZyBvbiBkZXRhY2hlZCBlbGVtZW50LlxuICB0aGlzLnByb3h5SW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgLy8gYWRkIGNyb3NzT3JpZ2luIGF0dHJpYnV0ZS4gIzIwNFxuICBpZiAoIHRoaXMuaW1nLmNyb3NzT3JpZ2luICkge1xuICAgIHRoaXMucHJveHlJbWFnZS5jcm9zc09yaWdpbiA9IHRoaXMuaW1nLmNyb3NzT3JpZ2luO1xuICB9XG4gIHRoaXMucHJveHlJbWFnZS5hZGRFdmVudExpc3RlbmVyKCAnbG9hZCcsIHRoaXMgKTtcbiAgdGhpcy5wcm94eUltYWdlLmFkZEV2ZW50TGlzdGVuZXIoICdlcnJvcicsIHRoaXMgKTtcbiAgLy8gYmluZCB0byBpbWFnZSBhcyB3ZWxsIGZvciBGaXJlZm94LiAjMTkxXG4gIHRoaXMuaW1nLmFkZEV2ZW50TGlzdGVuZXIoICdsb2FkJywgdGhpcyApO1xuICB0aGlzLmltZy5hZGRFdmVudExpc3RlbmVyKCAnZXJyb3InLCB0aGlzICk7XG4gIHRoaXMucHJveHlJbWFnZS5zcmMgPSB0aGlzLmltZy5jdXJyZW50U3JjIHx8IHRoaXMuaW1nLnNyYztcbn07XG5cbkxvYWRpbmdJbWFnZS5wcm90b3R5cGUuZ2V0SXNJbWFnZUNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG4gIC8vIGNoZWNrIGZvciBub24temVybywgbm9uLXVuZGVmaW5lZCBuYXR1cmFsV2lkdGhcbiAgLy8gZml4ZXMgU2FmYXJpK0luZmluaXRlU2Nyb2xsK01hc29ucnkgYnVnIGluZmluaXRlLXNjcm9sbCM2NzFcbiAgcmV0dXJuIHRoaXMuaW1nLmNvbXBsZXRlICYmIHRoaXMuaW1nLm5hdHVyYWxXaWR0aDtcbn07XG5cbkxvYWRpbmdJbWFnZS5wcm90b3R5cGUuY29uZmlybSA9IGZ1bmN0aW9uKCBpc0xvYWRlZCwgbWVzc2FnZSApIHtcbiAgdGhpcy5pc0xvYWRlZCA9IGlzTG9hZGVkO1xuICBsZXQgeyBwYXJlbnROb2RlIH0gPSB0aGlzLmltZztcbiAgLy8gZW1pdCBwcm9ncmVzcyB3aXRoIHBhcmVudCA8cGljdHVyZT4gb3Igc2VsZiA8aW1nPlxuICBsZXQgZWxlbSA9IHBhcmVudE5vZGUubm9kZU5hbWUgPT09ICdQSUNUVVJFJyA/IHBhcmVudE5vZGUgOiB0aGlzLmltZztcbiAgdGhpcy5lbWl0RXZlbnQoICdwcm9ncmVzcycsIFsgdGhpcywgZWxlbSwgbWVzc2FnZSBdICk7XG59O1xuXG4vLyAtLS0tLSBldmVudHMgLS0tLS0gLy9cblxuLy8gdHJpZ2dlciBzcGVjaWZpZWQgaGFuZGxlciBmb3IgZXZlbnQgdHlwZVxuTG9hZGluZ0ltYWdlLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgbGV0IG1ldGhvZCA9ICdvbicgKyBldmVudC50eXBlO1xuICBpZiAoIHRoaXNbIG1ldGhvZCBdICkge1xuICAgIHRoaXNbIG1ldGhvZCBdKCBldmVudCApO1xuICB9XG59O1xuXG5Mb2FkaW5nSW1hZ2UucHJvdG90eXBlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNvbmZpcm0oIHRydWUsICdvbmxvYWQnICk7XG4gIHRoaXMudW5iaW5kRXZlbnRzKCk7XG59O1xuXG5Mb2FkaW5nSW1hZ2UucHJvdG90eXBlLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5jb25maXJtKCBmYWxzZSwgJ29uZXJyb3InICk7XG4gIHRoaXMudW5iaW5kRXZlbnRzKCk7XG59O1xuXG5Mb2FkaW5nSW1hZ2UucHJvdG90eXBlLnVuYmluZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnByb3h5SW1hZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2xvYWQnLCB0aGlzICk7XG4gIHRoaXMucHJveHlJbWFnZS5yZW1vdmVFdmVudExpc3RlbmVyKCAnZXJyb3InLCB0aGlzICk7XG4gIHRoaXMuaW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdsb2FkJywgdGhpcyApO1xuICB0aGlzLmltZy5yZW1vdmVFdmVudExpc3RlbmVyKCAnZXJyb3InLCB0aGlzICk7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBCYWNrZ3JvdW5kIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbmZ1bmN0aW9uIEJhY2tncm91bmQoIHVybCwgZWxlbWVudCApIHtcbiAgdGhpcy51cmwgPSB1cmw7XG4gIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gIHRoaXMuaW1nID0gbmV3IEltYWdlKCk7XG59XG5cbi8vIGluaGVyaXQgTG9hZGluZ0ltYWdlIHByb3RvdHlwZVxuQmFja2dyb3VuZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBMb2FkaW5nSW1hZ2UucHJvdG90eXBlICk7XG5cbkJhY2tncm91bmQucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuaW1nLmFkZEV2ZW50TGlzdGVuZXIoICdsb2FkJywgdGhpcyApO1xuICB0aGlzLmltZy5hZGRFdmVudExpc3RlbmVyKCAnZXJyb3InLCB0aGlzICk7XG4gIHRoaXMuaW1nLnNyYyA9IHRoaXMudXJsO1xuICAvLyBjaGVjayBpZiBpbWFnZSBpcyBhbHJlYWR5IGNvbXBsZXRlXG4gIGxldCBpc0NvbXBsZXRlID0gdGhpcy5nZXRJc0ltYWdlQ29tcGxldGUoKTtcbiAgaWYgKCBpc0NvbXBsZXRlICkge1xuICAgIHRoaXMuY29uZmlybSggdGhpcy5pbWcubmF0dXJhbFdpZHRoICE9PSAwLCAnbmF0dXJhbFdpZHRoJyApO1xuICAgIHRoaXMudW5iaW5kRXZlbnRzKCk7XG4gIH1cbn07XG5cbkJhY2tncm91bmQucHJvdG90eXBlLnVuYmluZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmltZy5yZW1vdmVFdmVudExpc3RlbmVyKCAnbG9hZCcsIHRoaXMgKTtcbiAgdGhpcy5pbWcucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2Vycm9yJywgdGhpcyApO1xufTtcblxuQmFja2dyb3VuZC5wcm90b3R5cGUuY29uZmlybSA9IGZ1bmN0aW9uKCBpc0xvYWRlZCwgbWVzc2FnZSApIHtcbiAgdGhpcy5pc0xvYWRlZCA9IGlzTG9hZGVkO1xuICB0aGlzLmVtaXRFdmVudCggJ3Byb2dyZXNzJywgWyB0aGlzLCB0aGlzLmVsZW1lbnQsIG1lc3NhZ2UgXSApO1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0galF1ZXJ5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbkltYWdlc0xvYWRlZC5tYWtlSlF1ZXJ5UGx1Z2luID0gZnVuY3Rpb24oIGpRdWVyeSApIHtcbiAgalF1ZXJ5ID0galF1ZXJ5IHx8IHdpbmRvdy5qUXVlcnk7XG4gIGlmICggIWpRdWVyeSApIHJldHVybjtcblxuICAvLyBzZXQgbG9jYWwgdmFyaWFibGVcbiAgJCA9IGpRdWVyeTtcbiAgLy8gJCgpLmltYWdlc0xvYWRlZCgpXG4gICQuZm4uaW1hZ2VzTG9hZGVkID0gZnVuY3Rpb24oIG9wdGlvbnMsIG9uQWx3YXlzICkge1xuICAgIGxldCBpbnN0YW5jZSA9IG5ldyBJbWFnZXNMb2FkZWQoIHRoaXMsIG9wdGlvbnMsIG9uQWx3YXlzICk7XG4gICAgcmV0dXJuIGluc3RhbmNlLmpxRGVmZXJyZWQucHJvbWlzZSggJCggdGhpcyApICk7XG4gIH07XG59O1xuLy8gdHJ5IG1ha2luZyBwbHVnaW5cbkltYWdlc0xvYWRlZC5tYWtlSlF1ZXJ5UGx1Z2luKCk7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5yZXR1cm4gSW1hZ2VzTG9hZGVkO1xuXG59ICk7XG5cbn0se1wiZXYtZW1pdHRlclwiOjF9XSwxNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24od2luZG93LCBmYWN0b3J5KSB7XG5cdHZhciBsYXp5U2l6ZXMgPSBmYWN0b3J5KHdpbmRvdywgd2luZG93LmRvY3VtZW50LCBEYXRlKTtcblx0d2luZG93LmxhenlTaXplcyA9IGxhenlTaXplcztcblx0aWYodHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyl7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBsYXp5U2l6ZXM7XG5cdH1cbn0odHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/XG4gICAgICB3aW5kb3cgOiB7fSwgXG4vKipcbiAqIGltcG9ydChcIi4vdHlwZXMvZ2xvYmFsXCIpXG4gKiBAdHlwZWRlZiB7IGltcG9ydChcIi4vdHlwZXMvbGF6eXNpemVzLWNvbmZpZ1wiKS5MYXp5U2l6ZXNDb25maWdQYXJ0aWFsIH0gTGF6eVNpemVzQ29uZmlnUGFydGlhbFxuICovXG5mdW5jdGlvbiBsKHdpbmRvdywgZG9jdW1lbnQsIERhdGUpIHsgLy8gUGFzcyBpbiB0aGUgd2luZG93IERhdGUgZnVuY3Rpb24gYWxzbyBmb3IgU1NSIGJlY2F1c2UgdGhlIERhdGUgY2xhc3MgY2FuIGJlIGxvc3Rcblx0J3VzZSBzdHJpY3QnO1xuXHQvKmpzaGludCBlcW51bGw6dHJ1ZSAqL1xuXG5cdHZhciBsYXp5c2l6ZXMsXG5cdFx0LyoqXG5cdFx0ICogQHR5cGUgeyBMYXp5U2l6ZXNDb25maWdQYXJ0aWFsIH1cblx0XHQgKi9cblx0XHRsYXp5U2l6ZXNDZmc7XG5cblx0KGZ1bmN0aW9uKCl7XG5cdFx0dmFyIHByb3A7XG5cblx0XHR2YXIgbGF6eVNpemVzRGVmYXVsdHMgPSB7XG5cdFx0XHRsYXp5Q2xhc3M6ICdsYXp5bG9hZCcsXG5cdFx0XHRsb2FkZWRDbGFzczogJ2xhenlsb2FkZWQnLFxuXHRcdFx0bG9hZGluZ0NsYXNzOiAnbGF6eWxvYWRpbmcnLFxuXHRcdFx0cHJlbG9hZENsYXNzOiAnbGF6eXByZWxvYWQnLFxuXHRcdFx0ZXJyb3JDbGFzczogJ2xhenllcnJvcicsXG5cdFx0XHQvL3N0cmljdENsYXNzOiAnbGF6eXN0cmljdCcsXG5cdFx0XHRhdXRvc2l6ZXNDbGFzczogJ2xhenlhdXRvc2l6ZXMnLFxuXHRcdFx0ZmFzdExvYWRlZENsYXNzOiAnbHMtaXMtY2FjaGVkJyxcblx0XHRcdGlmcmFtZUxvYWRNb2RlOiAwLFxuXHRcdFx0c3JjQXR0cjogJ2RhdGEtc3JjJyxcblx0XHRcdHNyY3NldEF0dHI6ICdkYXRhLXNyY3NldCcsXG5cdFx0XHRzaXplc0F0dHI6ICdkYXRhLXNpemVzJyxcblx0XHRcdC8vcHJlbG9hZEFmdGVyTG9hZDogZmFsc2UsXG5cdFx0XHRtaW5TaXplOiA0MCxcblx0XHRcdGN1c3RvbU1lZGlhOiB7fSxcblx0XHRcdGluaXQ6IHRydWUsXG5cdFx0XHRleHBGYWN0b3I6IDEuNSxcblx0XHRcdGhGYWM6IDAuOCxcblx0XHRcdGxvYWRNb2RlOiAyLFxuXHRcdFx0bG9hZEhpZGRlbjogdHJ1ZSxcblx0XHRcdHJpY1RpbWVvdXQ6IDAsXG5cdFx0XHR0aHJvdHRsZURlbGF5OiAxMjUsXG5cdFx0fTtcblxuXHRcdGxhenlTaXplc0NmZyA9IHdpbmRvdy5sYXp5U2l6ZXNDb25maWcgfHwgd2luZG93LmxhenlzaXplc0NvbmZpZyB8fCB7fTtcblxuXHRcdGZvcihwcm9wIGluIGxhenlTaXplc0RlZmF1bHRzKXtcblx0XHRcdGlmKCEocHJvcCBpbiBsYXp5U2l6ZXNDZmcpKXtcblx0XHRcdFx0bGF6eVNpemVzQ2ZnW3Byb3BdID0gbGF6eVNpemVzRGVmYXVsdHNbcHJvcF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9KSgpO1xuXG5cdGlmICghZG9jdW1lbnQgfHwgIWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aW5pdDogZnVuY3Rpb24gKCkge30sXG5cdFx0XHQvKipcblx0XHRcdCAqIEB0eXBlIHsgTGF6eVNpemVzQ29uZmlnUGFydGlhbCB9XG5cdFx0XHQgKi9cblx0XHRcdGNmZzogbGF6eVNpemVzQ2ZnLFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBAdHlwZSB7IHRydWUgfVxuXHRcdFx0ICovXG5cdFx0XHRub1N1cHBvcnQ6IHRydWUsXG5cdFx0fTtcblx0fVxuXG5cdHZhciBkb2NFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG5cdHZhciBzdXBwb3J0UGljdHVyZSA9IHdpbmRvdy5IVE1MUGljdHVyZUVsZW1lbnQ7XG5cblx0dmFyIF9hZGRFdmVudExpc3RlbmVyID0gJ2FkZEV2ZW50TGlzdGVuZXInO1xuXG5cdHZhciBfZ2V0QXR0cmlidXRlID0gJ2dldEF0dHJpYnV0ZSc7XG5cblx0LyoqXG5cdCAqIFVwZGF0ZSB0byBiaW5kIHRvIHdpbmRvdyBiZWNhdXNlICd0aGlzJyBiZWNvbWVzIG51bGwgZHVyaW5nIFNTUlxuXHQgKiBidWlsZHMuXG5cdCAqL1xuXHR2YXIgYWRkRXZlbnRMaXN0ZW5lciA9IHdpbmRvd1tfYWRkRXZlbnRMaXN0ZW5lcl0uYmluZCh3aW5kb3cpO1xuXG5cdHZhciBzZXRUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQ7XG5cblx0dmFyIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgc2V0VGltZW91dDtcblxuXHR2YXIgcmVxdWVzdElkbGVDYWxsYmFjayA9IHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrO1xuXG5cdHZhciByZWdQaWN0dXJlID0gL15waWN0dXJlJC9pO1xuXG5cdHZhciBsb2FkRXZlbnRzID0gWydsb2FkJywgJ2Vycm9yJywgJ2xhenlpbmNsdWRlZCcsICdfbGF6eWxvYWRlZCddO1xuXG5cdHZhciByZWdDbGFzc0NhY2hlID0ge307XG5cblx0dmFyIGZvckVhY2ggPSBBcnJheS5wcm90b3R5cGUuZm9yRWFjaDtcblxuXHQvKipcblx0ICogQHBhcmFtIGVsZSB7RWxlbWVudH1cblx0ICogQHBhcmFtIGNscyB7c3RyaW5nfVxuXHQgKi9cblx0dmFyIGhhc0NsYXNzID0gZnVuY3Rpb24oZWxlLCBjbHMpIHtcblx0XHRpZighcmVnQ2xhc3NDYWNoZVtjbHNdKXtcblx0XHRcdHJlZ0NsYXNzQ2FjaGVbY2xzXSA9IG5ldyBSZWdFeHAoJyhcXFxcc3xeKScrY2xzKycoXFxcXHN8JCknKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlZ0NsYXNzQ2FjaGVbY2xzXS50ZXN0KGVsZVtfZ2V0QXR0cmlidXRlXSgnY2xhc3MnKSB8fCAnJykgJiYgcmVnQ2xhc3NDYWNoZVtjbHNdO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAcGFyYW0gZWxlIHtFbGVtZW50fVxuXHQgKiBAcGFyYW0gY2xzIHtzdHJpbmd9XG5cdCAqL1xuXHR2YXIgYWRkQ2xhc3MgPSBmdW5jdGlvbihlbGUsIGNscykge1xuXHRcdGlmICghaGFzQ2xhc3MoZWxlLCBjbHMpKXtcblx0XHRcdGVsZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgKGVsZVtfZ2V0QXR0cmlidXRlXSgnY2xhc3MnKSB8fCAnJykudHJpbSgpICsgJyAnICsgY2xzKTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIEBwYXJhbSBlbGUge0VsZW1lbnR9XG5cdCAqIEBwYXJhbSBjbHMge3N0cmluZ31cblx0ICovXG5cdHZhciByZW1vdmVDbGFzcyA9IGZ1bmN0aW9uKGVsZSwgY2xzKSB7XG5cdFx0dmFyIHJlZztcblx0XHRpZiAoKHJlZyA9IGhhc0NsYXNzKGVsZSxjbHMpKSkge1xuXHRcdFx0ZWxlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAoZWxlW19nZXRBdHRyaWJ1dGVdKCdjbGFzcycpIHx8ICcnKS5yZXBsYWNlKHJlZywgJyAnKSk7XG5cdFx0fVxuXHR9O1xuXG5cdHZhciBhZGRSZW1vdmVMb2FkRXZlbnRzID0gZnVuY3Rpb24oZG9tLCBmbiwgYWRkKXtcblx0XHR2YXIgYWN0aW9uID0gYWRkID8gX2FkZEV2ZW50TGlzdGVuZXIgOiAncmVtb3ZlRXZlbnRMaXN0ZW5lcic7XG5cdFx0aWYoYWRkKXtcblx0XHRcdGFkZFJlbW92ZUxvYWRFdmVudHMoZG9tLCBmbik7XG5cdFx0fVxuXHRcdGxvYWRFdmVudHMuZm9yRWFjaChmdW5jdGlvbihldnQpe1xuXHRcdFx0ZG9tW2FjdGlvbl0oZXZ0LCBmbik7XG5cdFx0fSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEBwYXJhbSBlbGVtIHsgRWxlbWVudCB9XG5cdCAqIEBwYXJhbSBuYW1lIHsgc3RyaW5nIH1cblx0ICogQHBhcmFtIGRldGFpbCB7IGFueSB9XG5cdCAqIEBwYXJhbSBub0J1YmJsZXMgeyBib29sZWFuIH1cblx0ICogQHBhcmFtIG5vQ2FuY2VsYWJsZSB7IGJvb2xlYW4gfVxuXHQgKiBAcmV0dXJucyB7IEN1c3RvbUV2ZW50IH1cblx0ICovXG5cdHZhciB0cmlnZ2VyRXZlbnQgPSBmdW5jdGlvbihlbGVtLCBuYW1lLCBkZXRhaWwsIG5vQnViYmxlcywgbm9DYW5jZWxhYmxlKXtcblx0XHR2YXIgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcblxuXHRcdGlmKCFkZXRhaWwpe1xuXHRcdFx0ZGV0YWlsID0ge307XG5cdFx0fVxuXG5cdFx0ZGV0YWlsLmluc3RhbmNlID0gbGF6eXNpemVzO1xuXG5cdFx0ZXZlbnQuaW5pdEV2ZW50KG5hbWUsICFub0J1YmJsZXMsICFub0NhbmNlbGFibGUpO1xuXG5cdFx0ZXZlbnQuZGV0YWlsID0gZGV0YWlsO1xuXG5cdFx0ZWxlbS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblx0XHRyZXR1cm4gZXZlbnQ7XG5cdH07XG5cblx0dmFyIHVwZGF0ZVBvbHlmaWxsID0gZnVuY3Rpb24gKGVsLCBmdWxsKXtcblx0XHR2YXIgcG9seWZpbGw7XG5cdFx0aWYoICFzdXBwb3J0UGljdHVyZSAmJiAoIHBvbHlmaWxsID0gKHdpbmRvdy5waWN0dXJlZmlsbCB8fCBsYXp5U2l6ZXNDZmcucGYpICkgKXtcblx0XHRcdGlmKGZ1bGwgJiYgZnVsbC5zcmMgJiYgIWVsW19nZXRBdHRyaWJ1dGVdKCdzcmNzZXQnKSl7XG5cdFx0XHRcdGVsLnNldEF0dHJpYnV0ZSgnc3Jjc2V0JywgZnVsbC5zcmMpO1xuXHRcdFx0fVxuXHRcdFx0cG9seWZpbGwoe3JlZXZhbHVhdGU6IHRydWUsIGVsZW1lbnRzOiBbZWxdfSk7XG5cdFx0fSBlbHNlIGlmKGZ1bGwgJiYgZnVsbC5zcmMpe1xuXHRcdFx0ZWwuc3JjID0gZnVsbC5zcmM7XG5cdFx0fVxuXHR9O1xuXG5cdHZhciBnZXRDU1MgPSBmdW5jdGlvbiAoZWxlbSwgc3R5bGUpe1xuXHRcdHJldHVybiAoZ2V0Q29tcHV0ZWRTdHlsZShlbGVtLCBudWxsKSB8fCB7fSlbc3R5bGVdO1xuXHR9O1xuXG5cdC8qKlxuXHQgKlxuXHQgKiBAcGFyYW0gZWxlbSB7IEVsZW1lbnQgfVxuXHQgKiBAcGFyYW0gcGFyZW50IHsgRWxlbWVudCB9XG5cdCAqIEBwYXJhbSBbd2lkdGhdIHtudW1iZXJ9XG5cdCAqIEByZXR1cm5zIHtudW1iZXJ9XG5cdCAqL1xuXHR2YXIgZ2V0V2lkdGggPSBmdW5jdGlvbihlbGVtLCBwYXJlbnQsIHdpZHRoKXtcblx0XHR3aWR0aCA9IHdpZHRoIHx8IGVsZW0ub2Zmc2V0V2lkdGg7XG5cblx0XHR3aGlsZSh3aWR0aCA8IGxhenlTaXplc0NmZy5taW5TaXplICYmIHBhcmVudCAmJiAhZWxlbS5fbGF6eXNpemVzV2lkdGgpe1xuXHRcdFx0d2lkdGggPSAgcGFyZW50Lm9mZnNldFdpZHRoO1xuXHRcdFx0cGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHdpZHRoO1xuXHR9O1xuXG5cdHZhciByQUYgPSAoZnVuY3Rpb24oKXtcblx0XHR2YXIgcnVubmluZywgd2FpdGluZztcblx0XHR2YXIgZmlyc3RGbnMgPSBbXTtcblx0XHR2YXIgc2Vjb25kRm5zID0gW107XG5cdFx0dmFyIGZucyA9IGZpcnN0Rm5zO1xuXG5cdFx0dmFyIHJ1biA9IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgcnVuRm5zID0gZm5zO1xuXG5cdFx0XHRmbnMgPSBmaXJzdEZucy5sZW5ndGggPyBzZWNvbmRGbnMgOiBmaXJzdEZucztcblxuXHRcdFx0cnVubmluZyA9IHRydWU7XG5cdFx0XHR3YWl0aW5nID0gZmFsc2U7XG5cblx0XHRcdHdoaWxlKHJ1bkZucy5sZW5ndGgpe1xuXHRcdFx0XHRydW5GbnMuc2hpZnQoKSgpO1xuXHRcdFx0fVxuXG5cdFx0XHRydW5uaW5nID0gZmFsc2U7XG5cdFx0fTtcblxuXHRcdHZhciByYWZCYXRjaCA9IGZ1bmN0aW9uKGZuLCBxdWV1ZSl7XG5cdFx0XHRpZihydW5uaW5nICYmICFxdWV1ZSl7XG5cdFx0XHRcdGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmbnMucHVzaChmbik7XG5cblx0XHRcdFx0aWYoIXdhaXRpbmcpe1xuXHRcdFx0XHRcdHdhaXRpbmcgPSB0cnVlO1xuXHRcdFx0XHRcdChkb2N1bWVudC5oaWRkZW4gPyBzZXRUaW1lb3V0IDogcmVxdWVzdEFuaW1hdGlvbkZyYW1lKShydW4pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHJhZkJhdGNoLl9sc0ZsdXNoID0gcnVuO1xuXG5cdFx0cmV0dXJuIHJhZkJhdGNoO1xuXHR9KSgpO1xuXG5cdHZhciByQUZJdCA9IGZ1bmN0aW9uKGZuLCBzaW1wbGUpe1xuXHRcdHJldHVybiBzaW1wbGUgP1xuXHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJBRihmbik7XG5cdFx0XHR9IDpcblx0XHRcdGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHZhciB0aGF0ID0gdGhpcztcblx0XHRcdFx0dmFyIGFyZ3MgPSBhcmd1bWVudHM7XG5cdFx0XHRcdHJBRihmdW5jdGlvbigpe1xuXHRcdFx0XHRcdGZuLmFwcGx5KHRoYXQsIGFyZ3MpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHQ7XG5cdH07XG5cblx0dmFyIHRocm90dGxlID0gZnVuY3Rpb24oZm4pe1xuXHRcdHZhciBydW5uaW5nO1xuXHRcdHZhciBsYXN0VGltZSA9IDA7XG5cdFx0dmFyIGdEZWxheSA9IGxhenlTaXplc0NmZy50aHJvdHRsZURlbGF5O1xuXHRcdHZhciBySUNUaW1lb3V0ID0gbGF6eVNpemVzQ2ZnLnJpY1RpbWVvdXQ7XG5cdFx0dmFyIHJ1biA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRydW5uaW5nID0gZmFsc2U7XG5cdFx0XHRsYXN0VGltZSA9IERhdGUubm93KCk7XG5cdFx0XHRmbigpO1xuXHRcdH07XG5cdFx0dmFyIGlkbGVDYWxsYmFjayA9IHJlcXVlc3RJZGxlQ2FsbGJhY2sgJiYgcklDVGltZW91dCA+IDQ5ID9cblx0XHRcdGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHJlcXVlc3RJZGxlQ2FsbGJhY2socnVuLCB7dGltZW91dDogcklDVGltZW91dH0pO1xuXG5cdFx0XHRcdGlmKHJJQ1RpbWVvdXQgIT09IGxhenlTaXplc0NmZy5yaWNUaW1lb3V0KXtcblx0XHRcdFx0XHRySUNUaW1lb3V0ID0gbGF6eVNpemVzQ2ZnLnJpY1RpbWVvdXQ7XG5cdFx0XHRcdH1cblx0XHRcdH0gOlxuXHRcdFx0ckFGSXQoZnVuY3Rpb24oKXtcblx0XHRcdFx0c2V0VGltZW91dChydW4pO1xuXHRcdFx0fSwgdHJ1ZSlcblx0XHQ7XG5cblx0XHRyZXR1cm4gZnVuY3Rpb24oaXNQcmlvcml0eSl7XG5cdFx0XHR2YXIgZGVsYXk7XG5cblx0XHRcdGlmKChpc1ByaW9yaXR5ID0gaXNQcmlvcml0eSA9PT0gdHJ1ZSkpe1xuXHRcdFx0XHRySUNUaW1lb3V0ID0gMzM7XG5cdFx0XHR9XG5cblx0XHRcdGlmKHJ1bm5pbmcpe1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHJ1bm5pbmcgPSAgdHJ1ZTtcblxuXHRcdFx0ZGVsYXkgPSBnRGVsYXkgLSAoRGF0ZS5ub3coKSAtIGxhc3RUaW1lKTtcblxuXHRcdFx0aWYoZGVsYXkgPCAwKXtcblx0XHRcdFx0ZGVsYXkgPSAwO1xuXHRcdFx0fVxuXG5cdFx0XHRpZihpc1ByaW9yaXR5IHx8IGRlbGF5IDwgOSl7XG5cdFx0XHRcdGlkbGVDYWxsYmFjaygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2V0VGltZW91dChpZGxlQ2FsbGJhY2ssIGRlbGF5KTtcblx0XHRcdH1cblx0XHR9O1xuXHR9O1xuXG5cdC8vYmFzZWQgb24gaHR0cDovL21vZGVybmphdmFzY3JpcHQuYmxvZ3Nwb3QuZGUvMjAxMy8wOC9idWlsZGluZy1iZXR0ZXItZGVib3VuY2UuaHRtbFxuXHR2YXIgZGVib3VuY2UgPSBmdW5jdGlvbihmdW5jKSB7XG5cdFx0dmFyIHRpbWVvdXQsIHRpbWVzdGFtcDtcblx0XHR2YXIgd2FpdCA9IDk5O1xuXHRcdHZhciBydW4gPSBmdW5jdGlvbigpe1xuXHRcdFx0dGltZW91dCA9IG51bGw7XG5cdFx0XHRmdW5jKCk7XG5cdFx0fTtcblx0XHR2YXIgbGF0ZXIgPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBsYXN0ID0gRGF0ZS5ub3coKSAtIHRpbWVzdGFtcDtcblxuXHRcdFx0aWYgKGxhc3QgPCB3YWl0KSB7XG5cdFx0XHRcdHNldFRpbWVvdXQobGF0ZXIsIHdhaXQgLSBsYXN0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdChyZXF1ZXN0SWRsZUNhbGxiYWNrIHx8IHJ1bikocnVuKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0dGltZXN0YW1wID0gRGF0ZS5ub3coKTtcblxuXHRcdFx0aWYgKCF0aW1lb3V0KSB7XG5cdFx0XHRcdHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcblx0XHRcdH1cblx0XHR9O1xuXHR9O1xuXG5cdHZhciBsb2FkZXIgPSAoZnVuY3Rpb24oKXtcblx0XHR2YXIgcHJlbG9hZEVsZW1zLCBpc0NvbXBsZXRlZCwgcmVzZXRQcmVsb2FkaW5nVGltZXIsIGxvYWRNb2RlLCBzdGFydGVkO1xuXG5cdFx0dmFyIGVMdlcsIGVsdkgsIGVMdG9wLCBlTGxlZnQsIGVMcmlnaHQsIGVMYm90dG9tLCBpc0JvZHlIaWRkZW47XG5cblx0XHR2YXIgcmVnSW1nID0gL15pbWckL2k7XG5cdFx0dmFyIHJlZ0lmcmFtZSA9IC9eaWZyYW1lJC9pO1xuXG5cdFx0dmFyIHN1cHBvcnRTY3JvbGwgPSAoJ29uc2Nyb2xsJyBpbiB3aW5kb3cpICYmICEoLyhnbGV8aW5nKWJvdC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSk7XG5cblx0XHR2YXIgc2hyaW5rRXhwYW5kID0gMDtcblx0XHR2YXIgY3VycmVudEV4cGFuZCA9IDA7XG5cblx0XHR2YXIgaXNMb2FkaW5nID0gMDtcblx0XHR2YXIgbG93UnVucyA9IC0xO1xuXG5cdFx0dmFyIHJlc2V0UHJlbG9hZGluZyA9IGZ1bmN0aW9uKGUpe1xuXHRcdFx0aXNMb2FkaW5nLS07XG5cdFx0XHRpZighZSB8fCBpc0xvYWRpbmcgPCAwIHx8ICFlLnRhcmdldCl7XG5cdFx0XHRcdGlzTG9hZGluZyA9IDA7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHZhciBpc1Zpc2libGUgPSBmdW5jdGlvbiAoZWxlbSkge1xuXHRcdFx0aWYgKGlzQm9keUhpZGRlbiA9PSBudWxsKSB7XG5cdFx0XHRcdGlzQm9keUhpZGRlbiA9IGdldENTUyhkb2N1bWVudC5ib2R5LCAndmlzaWJpbGl0eScpID09ICdoaWRkZW4nO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gaXNCb2R5SGlkZGVuIHx8ICEoZ2V0Q1NTKGVsZW0ucGFyZW50Tm9kZSwgJ3Zpc2liaWxpdHknKSA9PSAnaGlkZGVuJyAmJiBnZXRDU1MoZWxlbSwgJ3Zpc2liaWxpdHknKSA9PSAnaGlkZGVuJyk7XG5cdFx0fTtcblxuXHRcdHZhciBpc05lc3RlZFZpc2libGUgPSBmdW5jdGlvbihlbGVtLCBlbGVtRXhwYW5kKXtcblx0XHRcdHZhciBvdXRlclJlY3Q7XG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbTtcblx0XHRcdHZhciB2aXNpYmxlID0gaXNWaXNpYmxlKGVsZW0pO1xuXG5cdFx0XHRlTHRvcCAtPSBlbGVtRXhwYW5kO1xuXHRcdFx0ZUxib3R0b20gKz0gZWxlbUV4cGFuZDtcblx0XHRcdGVMbGVmdCAtPSBlbGVtRXhwYW5kO1xuXHRcdFx0ZUxyaWdodCArPSBlbGVtRXhwYW5kO1xuXG5cdFx0XHR3aGlsZSh2aXNpYmxlICYmIChwYXJlbnQgPSBwYXJlbnQub2Zmc2V0UGFyZW50KSAmJiBwYXJlbnQgIT0gZG9jdW1lbnQuYm9keSAmJiBwYXJlbnQgIT0gZG9jRWxlbSl7XG5cdFx0XHRcdHZpc2libGUgPSAoKGdldENTUyhwYXJlbnQsICdvcGFjaXR5JykgfHwgMSkgPiAwKTtcblxuXHRcdFx0XHRpZih2aXNpYmxlICYmIGdldENTUyhwYXJlbnQsICdvdmVyZmxvdycpICE9ICd2aXNpYmxlJyl7XG5cdFx0XHRcdFx0b3V0ZXJSZWN0ID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0XHRcdHZpc2libGUgPSBlTHJpZ2h0ID4gb3V0ZXJSZWN0LmxlZnQgJiZcblx0XHRcdFx0XHRcdGVMbGVmdCA8IG91dGVyUmVjdC5yaWdodCAmJlxuXHRcdFx0XHRcdFx0ZUxib3R0b20gPiBvdXRlclJlY3QudG9wIC0gMSAmJlxuXHRcdFx0XHRcdFx0ZUx0b3AgPCBvdXRlclJlY3QuYm90dG9tICsgMVxuXHRcdFx0XHRcdDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdmlzaWJsZTtcblx0XHR9O1xuXG5cdFx0dmFyIGNoZWNrRWxlbWVudHMgPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBlTGxlbiwgaSwgcmVjdCwgYXV0b0xvYWRFbGVtLCBsb2FkZWRTb21ldGhpbmcsIGVsZW1FeHBhbmQsIGVsZW1OZWdhdGl2ZUV4cGFuZCwgZWxlbUV4cGFuZFZhbCxcblx0XHRcdFx0YmVmb3JlRXhwYW5kVmFsLCBkZWZhdWx0RXhwYW5kLCBwcmVsb2FkRXhwYW5kLCBoRmFjO1xuXHRcdFx0dmFyIGxhenlsb2FkRWxlbXMgPSBsYXp5c2l6ZXMuZWxlbWVudHM7XG5cblx0XHRcdGlmKChsb2FkTW9kZSA9IGxhenlTaXplc0NmZy5sb2FkTW9kZSkgJiYgaXNMb2FkaW5nIDwgOCAmJiAoZUxsZW4gPSBsYXp5bG9hZEVsZW1zLmxlbmd0aCkpe1xuXG5cdFx0XHRcdGkgPSAwO1xuXG5cdFx0XHRcdGxvd1J1bnMrKztcblxuXHRcdFx0XHRmb3IoOyBpIDwgZUxsZW47IGkrKyl7XG5cblx0XHRcdFx0XHRpZighbGF6eWxvYWRFbGVtc1tpXSB8fCBsYXp5bG9hZEVsZW1zW2ldLl9sYXp5UmFjZSl7Y29udGludWU7fVxuXG5cdFx0XHRcdFx0aWYoIXN1cHBvcnRTY3JvbGwgfHwgKGxhenlzaXplcy5wcmVtYXR1cmVVbnZlaWwgJiYgbGF6eXNpemVzLnByZW1hdHVyZVVudmVpbChsYXp5bG9hZEVsZW1zW2ldKSkpe3VudmVpbEVsZW1lbnQobGF6eWxvYWRFbGVtc1tpXSk7Y29udGludWU7fVxuXG5cdFx0XHRcdFx0aWYoIShlbGVtRXhwYW5kVmFsID0gbGF6eWxvYWRFbGVtc1tpXVtfZ2V0QXR0cmlidXRlXSgnZGF0YS1leHBhbmQnKSkgfHwgIShlbGVtRXhwYW5kID0gZWxlbUV4cGFuZFZhbCAqIDEpKXtcblx0XHRcdFx0XHRcdGVsZW1FeHBhbmQgPSBjdXJyZW50RXhwYW5kO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICghZGVmYXVsdEV4cGFuZCkge1xuXHRcdFx0XHRcdFx0ZGVmYXVsdEV4cGFuZCA9ICghbGF6eVNpemVzQ2ZnLmV4cGFuZCB8fCBsYXp5U2l6ZXNDZmcuZXhwYW5kIDwgMSkgP1xuXHRcdFx0XHRcdFx0XHRkb2NFbGVtLmNsaWVudEhlaWdodCA+IDUwMCAmJiBkb2NFbGVtLmNsaWVudFdpZHRoID4gNTAwID8gNTAwIDogMzcwIDpcblx0XHRcdFx0XHRcdFx0bGF6eVNpemVzQ2ZnLmV4cGFuZDtcblxuXHRcdFx0XHRcdFx0bGF6eXNpemVzLl9kZWZFeCA9IGRlZmF1bHRFeHBhbmQ7XG5cblx0XHRcdFx0XHRcdHByZWxvYWRFeHBhbmQgPSBkZWZhdWx0RXhwYW5kICogbGF6eVNpemVzQ2ZnLmV4cEZhY3Rvcjtcblx0XHRcdFx0XHRcdGhGYWMgPSBsYXp5U2l6ZXNDZmcuaEZhYztcblx0XHRcdFx0XHRcdGlzQm9keUhpZGRlbiA9IG51bGw7XG5cblx0XHRcdFx0XHRcdGlmKGN1cnJlbnRFeHBhbmQgPCBwcmVsb2FkRXhwYW5kICYmIGlzTG9hZGluZyA8IDEgJiYgbG93UnVucyA+IDIgJiYgbG9hZE1vZGUgPiAyICYmICFkb2N1bWVudC5oaWRkZW4pe1xuXHRcdFx0XHRcdFx0XHRjdXJyZW50RXhwYW5kID0gcHJlbG9hZEV4cGFuZDtcblx0XHRcdFx0XHRcdFx0bG93UnVucyA9IDA7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYobG9hZE1vZGUgPiAxICYmIGxvd1J1bnMgPiAxICYmIGlzTG9hZGluZyA8IDYpe1xuXHRcdFx0XHRcdFx0XHRjdXJyZW50RXhwYW5kID0gZGVmYXVsdEV4cGFuZDtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGN1cnJlbnRFeHBhbmQgPSBzaHJpbmtFeHBhbmQ7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYoYmVmb3JlRXhwYW5kVmFsICE9PSBlbGVtRXhwYW5kKXtcblx0XHRcdFx0XHRcdGVMdlcgPSBpbm5lcldpZHRoICsgKGVsZW1FeHBhbmQgKiBoRmFjKTtcblx0XHRcdFx0XHRcdGVsdkggPSBpbm5lckhlaWdodCArIGVsZW1FeHBhbmQ7XG5cdFx0XHRcdFx0XHRlbGVtTmVnYXRpdmVFeHBhbmQgPSBlbGVtRXhwYW5kICogLTE7XG5cdFx0XHRcdFx0XHRiZWZvcmVFeHBhbmRWYWwgPSBlbGVtRXhwYW5kO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJlY3QgPSBsYXp5bG9hZEVsZW1zW2ldLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0XHRcdFx0aWYgKChlTGJvdHRvbSA9IHJlY3QuYm90dG9tKSA+PSBlbGVtTmVnYXRpdmVFeHBhbmQgJiZcblx0XHRcdFx0XHRcdChlTHRvcCA9IHJlY3QudG9wKSA8PSBlbHZIICYmXG5cdFx0XHRcdFx0XHQoZUxyaWdodCA9IHJlY3QucmlnaHQpID49IGVsZW1OZWdhdGl2ZUV4cGFuZCAqIGhGYWMgJiZcblx0XHRcdFx0XHRcdChlTGxlZnQgPSByZWN0LmxlZnQpIDw9IGVMdlcgJiZcblx0XHRcdFx0XHRcdChlTGJvdHRvbSB8fCBlTHJpZ2h0IHx8IGVMbGVmdCB8fCBlTHRvcCkgJiZcblx0XHRcdFx0XHRcdChsYXp5U2l6ZXNDZmcubG9hZEhpZGRlbiB8fCBpc1Zpc2libGUobGF6eWxvYWRFbGVtc1tpXSkpICYmXG5cdFx0XHRcdFx0XHQoKGlzQ29tcGxldGVkICYmIGlzTG9hZGluZyA8IDMgJiYgIWVsZW1FeHBhbmRWYWwgJiYgKGxvYWRNb2RlIDwgMyB8fCBsb3dSdW5zIDwgNCkpIHx8IGlzTmVzdGVkVmlzaWJsZShsYXp5bG9hZEVsZW1zW2ldLCBlbGVtRXhwYW5kKSkpe1xuXHRcdFx0XHRcdFx0dW52ZWlsRWxlbWVudChsYXp5bG9hZEVsZW1zW2ldKTtcblx0XHRcdFx0XHRcdGxvYWRlZFNvbWV0aGluZyA9IHRydWU7XG5cdFx0XHRcdFx0XHRpZihpc0xvYWRpbmcgPiA5KXticmVhazt9XG5cdFx0XHRcdFx0fSBlbHNlIGlmKCFsb2FkZWRTb21ldGhpbmcgJiYgaXNDb21wbGV0ZWQgJiYgIWF1dG9Mb2FkRWxlbSAmJlxuXHRcdFx0XHRcdFx0aXNMb2FkaW5nIDwgNCAmJiBsb3dSdW5zIDwgNCAmJiBsb2FkTW9kZSA+IDIgJiZcblx0XHRcdFx0XHRcdChwcmVsb2FkRWxlbXNbMF0gfHwgbGF6eVNpemVzQ2ZnLnByZWxvYWRBZnRlckxvYWQpICYmXG5cdFx0XHRcdFx0XHQocHJlbG9hZEVsZW1zWzBdIHx8ICghZWxlbUV4cGFuZFZhbCAmJiAoKGVMYm90dG9tIHx8IGVMcmlnaHQgfHwgZUxsZWZ0IHx8IGVMdG9wKSB8fCBsYXp5bG9hZEVsZW1zW2ldW19nZXRBdHRyaWJ1dGVdKGxhenlTaXplc0NmZy5zaXplc0F0dHIpICE9ICdhdXRvJykpKSl7XG5cdFx0XHRcdFx0XHRhdXRvTG9hZEVsZW0gPSBwcmVsb2FkRWxlbXNbMF0gfHwgbGF6eWxvYWRFbGVtc1tpXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZihhdXRvTG9hZEVsZW0gJiYgIWxvYWRlZFNvbWV0aGluZyl7XG5cdFx0XHRcdFx0dW52ZWlsRWxlbWVudChhdXRvTG9hZEVsZW0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHZhciB0aHJvdHRsZWRDaGVja0VsZW1lbnRzID0gdGhyb3R0bGUoY2hlY2tFbGVtZW50cyk7XG5cblx0XHR2YXIgc3dpdGNoTG9hZGluZ0NsYXNzID0gZnVuY3Rpb24oZSl7XG5cdFx0XHR2YXIgZWxlbSA9IGUudGFyZ2V0O1xuXG5cdFx0XHRpZiAoZWxlbS5fbGF6eUNhY2hlKSB7XG5cdFx0XHRcdGRlbGV0ZSBlbGVtLl9sYXp5Q2FjaGU7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0cmVzZXRQcmVsb2FkaW5nKGUpO1xuXHRcdFx0YWRkQ2xhc3MoZWxlbSwgbGF6eVNpemVzQ2ZnLmxvYWRlZENsYXNzKTtcblx0XHRcdHJlbW92ZUNsYXNzKGVsZW0sIGxhenlTaXplc0NmZy5sb2FkaW5nQ2xhc3MpO1xuXHRcdFx0YWRkUmVtb3ZlTG9hZEV2ZW50cyhlbGVtLCByYWZTd2l0Y2hMb2FkaW5nQ2xhc3MpO1xuXHRcdFx0dHJpZ2dlckV2ZW50KGVsZW0sICdsYXp5bG9hZGVkJyk7XG5cdFx0fTtcblx0XHR2YXIgcmFmZWRTd2l0Y2hMb2FkaW5nQ2xhc3MgPSByQUZJdChzd2l0Y2hMb2FkaW5nQ2xhc3MpO1xuXHRcdHZhciByYWZTd2l0Y2hMb2FkaW5nQ2xhc3MgPSBmdW5jdGlvbihlKXtcblx0XHRcdHJhZmVkU3dpdGNoTG9hZGluZ0NsYXNzKHt0YXJnZXQ6IGUudGFyZ2V0fSk7XG5cdFx0fTtcblxuXHRcdHZhciBjaGFuZ2VJZnJhbWVTcmMgPSBmdW5jdGlvbihlbGVtLCBzcmMpe1xuXHRcdFx0dmFyIGxvYWRNb2RlID0gZWxlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbG9hZC1tb2RlJykgfHwgbGF6eVNpemVzQ2ZnLmlmcmFtZUxvYWRNb2RlO1xuXG5cdFx0XHQvLyBsb2FkTW9kZSBjYW4gYmUgYWxzbyBhIHN0cmluZyFcblx0XHRcdGlmIChsb2FkTW9kZSA9PSAwKSB7XG5cdFx0XHRcdGVsZW0uY29udGVudFdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHNyYyk7XG5cdFx0XHR9IGVsc2UgaWYgKGxvYWRNb2RlID09IDEpIHtcblx0XHRcdFx0ZWxlbS5zcmMgPSBzcmM7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHZhciBoYW5kbGVTb3VyY2VzID0gZnVuY3Rpb24oc291cmNlKXtcblx0XHRcdHZhciBjdXN0b21NZWRpYTtcblxuXHRcdFx0dmFyIHNvdXJjZVNyY3NldCA9IHNvdXJjZVtfZ2V0QXR0cmlidXRlXShsYXp5U2l6ZXNDZmcuc3Jjc2V0QXR0cik7XG5cblx0XHRcdGlmKCAoY3VzdG9tTWVkaWEgPSBsYXp5U2l6ZXNDZmcuY3VzdG9tTWVkaWFbc291cmNlW19nZXRBdHRyaWJ1dGVdKCdkYXRhLW1lZGlhJykgfHwgc291cmNlW19nZXRBdHRyaWJ1dGVdKCdtZWRpYScpXSkgKXtcblx0XHRcdFx0c291cmNlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBjdXN0b21NZWRpYSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmKHNvdXJjZVNyY3NldCl7XG5cdFx0XHRcdHNvdXJjZS5zZXRBdHRyaWJ1dGUoJ3NyY3NldCcsIHNvdXJjZVNyY3NldCk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHZhciBsYXp5VW52ZWlsID0gckFGSXQoZnVuY3Rpb24gKGVsZW0sIGRldGFpbCwgaXNBdXRvLCBzaXplcywgaXNJbWcpe1xuXHRcdFx0dmFyIHNyYywgc3Jjc2V0LCBwYXJlbnQsIGlzUGljdHVyZSwgZXZlbnQsIGZpcmVzTG9hZDtcblxuXHRcdFx0aWYoIShldmVudCA9IHRyaWdnZXJFdmVudChlbGVtLCAnbGF6eWJlZm9yZXVudmVpbCcsIGRldGFpbCkpLmRlZmF1bHRQcmV2ZW50ZWQpe1xuXG5cdFx0XHRcdGlmKHNpemVzKXtcblx0XHRcdFx0XHRpZihpc0F1dG8pe1xuXHRcdFx0XHRcdFx0YWRkQ2xhc3MoZWxlbSwgbGF6eVNpemVzQ2ZnLmF1dG9zaXplc0NsYXNzKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoJ3NpemVzJywgc2l6ZXMpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHNyY3NldCA9IGVsZW1bX2dldEF0dHJpYnV0ZV0obGF6eVNpemVzQ2ZnLnNyY3NldEF0dHIpO1xuXHRcdFx0XHRzcmMgPSBlbGVtW19nZXRBdHRyaWJ1dGVdKGxhenlTaXplc0NmZy5zcmNBdHRyKTtcblxuXHRcdFx0XHRpZihpc0ltZykge1xuXHRcdFx0XHRcdHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdFx0XHRpc1BpY3R1cmUgPSBwYXJlbnQgJiYgcmVnUGljdHVyZS50ZXN0KHBhcmVudC5ub2RlTmFtZSB8fCAnJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmaXJlc0xvYWQgPSBkZXRhaWwuZmlyZXNMb2FkIHx8ICgoJ3NyYycgaW4gZWxlbSkgJiYgKHNyY3NldCB8fCBzcmMgfHwgaXNQaWN0dXJlKSk7XG5cblx0XHRcdFx0ZXZlbnQgPSB7dGFyZ2V0OiBlbGVtfTtcblxuXHRcdFx0XHRhZGRDbGFzcyhlbGVtLCBsYXp5U2l6ZXNDZmcubG9hZGluZ0NsYXNzKTtcblxuXHRcdFx0XHRpZihmaXJlc0xvYWQpe1xuXHRcdFx0XHRcdGNsZWFyVGltZW91dChyZXNldFByZWxvYWRpbmdUaW1lcik7XG5cdFx0XHRcdFx0cmVzZXRQcmVsb2FkaW5nVGltZXIgPSBzZXRUaW1lb3V0KHJlc2V0UHJlbG9hZGluZywgMjUwMCk7XG5cdFx0XHRcdFx0YWRkUmVtb3ZlTG9hZEV2ZW50cyhlbGVtLCByYWZTd2l0Y2hMb2FkaW5nQ2xhc3MsIHRydWUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYoaXNQaWN0dXJlKXtcblx0XHRcdFx0XHRmb3JFYWNoLmNhbGwocGFyZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzb3VyY2UnKSwgaGFuZGxlU291cmNlcyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZihzcmNzZXQpe1xuXHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCdzcmNzZXQnLCBzcmNzZXQpO1xuXHRcdFx0XHR9IGVsc2UgaWYoc3JjICYmICFpc1BpY3R1cmUpe1xuXHRcdFx0XHRcdGlmKHJlZ0lmcmFtZS50ZXN0KGVsZW0ubm9kZU5hbWUpKXtcblx0XHRcdFx0XHRcdGNoYW5nZUlmcmFtZVNyYyhlbGVtLCBzcmMpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRlbGVtLnNyYyA9IHNyYztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZihpc0ltZyAmJiAoc3Jjc2V0IHx8IGlzUGljdHVyZSkpe1xuXHRcdFx0XHRcdHVwZGF0ZVBvbHlmaWxsKGVsZW0sIHtzcmM6IHNyY30pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmKGVsZW0uX2xhenlSYWNlKXtcblx0XHRcdFx0ZGVsZXRlIGVsZW0uX2xhenlSYWNlO1xuXHRcdFx0fVxuXHRcdFx0cmVtb3ZlQ2xhc3MoZWxlbSwgbGF6eVNpemVzQ2ZnLmxhenlDbGFzcyk7XG5cblx0XHRcdHJBRihmdW5jdGlvbigpe1xuXHRcdFx0XHQvLyBQYXJ0IG9mIHRoaXMgY2FuIGJlIHJlbW92ZWQgYXMgc29vbiBhcyB0aGlzIGZpeCBpcyBvbGRlcjogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NzczMSAoMjAxNSlcblx0XHRcdFx0dmFyIGlzTG9hZGVkID0gZWxlbS5jb21wbGV0ZSAmJiBlbGVtLm5hdHVyYWxXaWR0aCA+IDE7XG5cblx0XHRcdFx0aWYoICFmaXJlc0xvYWQgfHwgaXNMb2FkZWQpe1xuXHRcdFx0XHRcdGlmIChpc0xvYWRlZCkge1xuXHRcdFx0XHRcdFx0YWRkQ2xhc3MoZWxlbSwgbGF6eVNpemVzQ2ZnLmZhc3RMb2FkZWRDbGFzcyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHN3aXRjaExvYWRpbmdDbGFzcyhldmVudCk7XG5cdFx0XHRcdFx0ZWxlbS5fbGF6eUNhY2hlID0gdHJ1ZTtcblx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRpZiAoJ19sYXp5Q2FjaGUnIGluIGVsZW0pIHtcblx0XHRcdFx0XHRcdFx0ZGVsZXRlIGVsZW0uX2xhenlDYWNoZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCA5KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZWxlbS5sb2FkaW5nID09ICdsYXp5Jykge1xuXHRcdFx0XHRcdGlzTG9hZGluZy0tO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCB0cnVlKTtcblx0XHR9KTtcblxuXHRcdC8qKlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIGVsZW0geyBFbGVtZW50IH1cblx0XHQgKi9cblx0XHR2YXIgdW52ZWlsRWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtKXtcblx0XHRcdGlmIChlbGVtLl9sYXp5UmFjZSkge3JldHVybjt9XG5cdFx0XHR2YXIgZGV0YWlsO1xuXG5cdFx0XHR2YXIgaXNJbWcgPSByZWdJbWcudGVzdChlbGVtLm5vZGVOYW1lKTtcblxuXHRcdFx0Ly9hbGxvdyB1c2luZyBzaXplcz1cImF1dG9cIiwgYnV0IGRvbid0IHVzZS4gaXQncyBpbnZhbGlkLiBVc2UgZGF0YS1zaXplcz1cImF1dG9cIiBvciBhIHZhbGlkIHZhbHVlIGZvciBzaXplcyBpbnN0ZWFkIChpLmUuOiBzaXplcz1cIjgwdndcIilcblx0XHRcdHZhciBzaXplcyA9IGlzSW1nICYmIChlbGVtW19nZXRBdHRyaWJ1dGVdKGxhenlTaXplc0NmZy5zaXplc0F0dHIpIHx8IGVsZW1bX2dldEF0dHJpYnV0ZV0oJ3NpemVzJykpO1xuXHRcdFx0dmFyIGlzQXV0byA9IHNpemVzID09ICdhdXRvJztcblxuXHRcdFx0aWYoIChpc0F1dG8gfHwgIWlzQ29tcGxldGVkKSAmJiBpc0ltZyAmJiAoZWxlbVtfZ2V0QXR0cmlidXRlXSgnc3JjJykgfHwgZWxlbS5zcmNzZXQpICYmICFlbGVtLmNvbXBsZXRlICYmICFoYXNDbGFzcyhlbGVtLCBsYXp5U2l6ZXNDZmcuZXJyb3JDbGFzcykgJiYgaGFzQ2xhc3MoZWxlbSwgbGF6eVNpemVzQ2ZnLmxhenlDbGFzcykpe3JldHVybjt9XG5cblx0XHRcdGRldGFpbCA9IHRyaWdnZXJFdmVudChlbGVtLCAnbGF6eXVudmVpbHJlYWQnKS5kZXRhaWw7XG5cblx0XHRcdGlmKGlzQXV0byl7XG5cdFx0XHRcdCBhdXRvU2l6ZXIudXBkYXRlRWxlbShlbGVtLCB0cnVlLCBlbGVtLm9mZnNldFdpZHRoKTtcblx0XHRcdH1cblxuXHRcdFx0ZWxlbS5fbGF6eVJhY2UgPSB0cnVlO1xuXHRcdFx0aXNMb2FkaW5nKys7XG5cblx0XHRcdGxhenlVbnZlaWwoZWxlbSwgZGV0YWlsLCBpc0F1dG8sIHNpemVzLCBpc0ltZyk7XG5cdFx0fTtcblxuXHRcdHZhciBhZnRlclNjcm9sbCA9IGRlYm91bmNlKGZ1bmN0aW9uKCl7XG5cdFx0XHRsYXp5U2l6ZXNDZmcubG9hZE1vZGUgPSAzO1xuXHRcdFx0dGhyb3R0bGVkQ2hlY2tFbGVtZW50cygpO1xuXHRcdH0pO1xuXG5cdFx0dmFyIGFsdExvYWRtb2RlU2Nyb2xsTGlzdG5lciA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRpZihsYXp5U2l6ZXNDZmcubG9hZE1vZGUgPT0gMyl7XG5cdFx0XHRcdGxhenlTaXplc0NmZy5sb2FkTW9kZSA9IDI7XG5cdFx0XHR9XG5cdFx0XHRhZnRlclNjcm9sbCgpO1xuXHRcdH07XG5cblx0XHR2YXIgb25sb2FkID0gZnVuY3Rpb24oKXtcblx0XHRcdGlmKGlzQ29tcGxldGVkKXtyZXR1cm47fVxuXHRcdFx0aWYoRGF0ZS5ub3coKSAtIHN0YXJ0ZWQgPCA5OTkpe1xuXHRcdFx0XHRzZXRUaW1lb3V0KG9ubG9hZCwgOTk5KTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cblx0XHRcdGlzQ29tcGxldGVkID0gdHJ1ZTtcblxuXHRcdFx0bGF6eVNpemVzQ2ZnLmxvYWRNb2RlID0gMztcblxuXHRcdFx0dGhyb3R0bGVkQ2hlY2tFbGVtZW50cygpO1xuXG5cdFx0XHRhZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBhbHRMb2FkbW9kZVNjcm9sbExpc3RuZXIsIHRydWUpO1xuXHRcdH07XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0XzogZnVuY3Rpb24oKXtcblx0XHRcdFx0c3RhcnRlZCA9IERhdGUubm93KCk7XG5cblx0XHRcdFx0bGF6eXNpemVzLmVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShsYXp5U2l6ZXNDZmcubGF6eUNsYXNzKTtcblx0XHRcdFx0cHJlbG9hZEVsZW1zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShsYXp5U2l6ZXNDZmcubGF6eUNsYXNzICsgJyAnICsgbGF6eVNpemVzQ2ZnLnByZWxvYWRDbGFzcyk7XG5cblx0XHRcdFx0YWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhyb3R0bGVkQ2hlY2tFbGVtZW50cywgdHJ1ZSk7XG5cblx0XHRcdFx0YWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhyb3R0bGVkQ2hlY2tFbGVtZW50cywgdHJ1ZSk7XG5cblx0XHRcdFx0YWRkRXZlbnRMaXN0ZW5lcigncGFnZXNob3cnLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0XHRcdGlmIChlLnBlcnNpc3RlZCkge1xuXHRcdFx0XHRcdFx0dmFyIGxvYWRpbmdFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgbGF6eVNpemVzQ2ZnLmxvYWRpbmdDbGFzcyk7XG5cblx0XHRcdFx0XHRcdGlmIChsb2FkaW5nRWxlbWVudHMubGVuZ3RoICYmIGxvYWRpbmdFbGVtZW50cy5mb3JFYWNoKSB7XG5cdFx0XHRcdFx0XHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0bG9hZGluZ0VsZW1lbnRzLmZvckVhY2goIGZ1bmN0aW9uIChpbWcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChpbWcuY29tcGxldGUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dW52ZWlsRWxlbWVudChpbWcpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGlmKHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyKXtcblx0XHRcdFx0XHRuZXcgTXV0YXRpb25PYnNlcnZlciggdGhyb3R0bGVkQ2hlY2tFbGVtZW50cyApLm9ic2VydmUoIGRvY0VsZW0sIHtjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUsIGF0dHJpYnV0ZXM6IHRydWV9ICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZG9jRWxlbVtfYWRkRXZlbnRMaXN0ZW5lcl0oJ0RPTU5vZGVJbnNlcnRlZCcsIHRocm90dGxlZENoZWNrRWxlbWVudHMsIHRydWUpO1xuXHRcdFx0XHRcdGRvY0VsZW1bX2FkZEV2ZW50TGlzdGVuZXJdKCdET01BdHRyTW9kaWZpZWQnLCB0aHJvdHRsZWRDaGVja0VsZW1lbnRzLCB0cnVlKTtcblx0XHRcdFx0XHRzZXRJbnRlcnZhbCh0aHJvdHRsZWRDaGVja0VsZW1lbnRzLCA5OTkpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHRocm90dGxlZENoZWNrRWxlbWVudHMsIHRydWUpO1xuXG5cdFx0XHRcdC8vLCAnZnVsbHNjcmVlbmNoYW5nZSdcblx0XHRcdFx0Wydmb2N1cycsICdtb3VzZW92ZXInLCAnY2xpY2snLCAnbG9hZCcsICd0cmFuc2l0aW9uZW5kJywgJ2FuaW1hdGlvbmVuZCddLmZvckVhY2goZnVuY3Rpb24obmFtZSl7XG5cdFx0XHRcdFx0ZG9jdW1lbnRbX2FkZEV2ZW50TGlzdGVuZXJdKG5hbWUsIHRocm90dGxlZENoZWNrRWxlbWVudHMsIHRydWUpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZigoL2QkfF5jLy50ZXN0KGRvY3VtZW50LnJlYWR5U3RhdGUpKSl7XG5cdFx0XHRcdFx0b25sb2FkKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9ubG9hZCk7XG5cdFx0XHRcdFx0ZG9jdW1lbnRbX2FkZEV2ZW50TGlzdGVuZXJdKCdET01Db250ZW50TG9hZGVkJywgdGhyb3R0bGVkQ2hlY2tFbGVtZW50cyk7XG5cdFx0XHRcdFx0c2V0VGltZW91dChvbmxvYWQsIDIwMDAwKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmKGxhenlzaXplcy5lbGVtZW50cy5sZW5ndGgpe1xuXHRcdFx0XHRcdGNoZWNrRWxlbWVudHMoKTtcblx0XHRcdFx0XHRyQUYuX2xzRmx1c2goKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aHJvdHRsZWRDaGVja0VsZW1lbnRzKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRjaGVja0VsZW1zOiB0aHJvdHRsZWRDaGVja0VsZW1lbnRzLFxuXHRcdFx0dW52ZWlsOiB1bnZlaWxFbGVtZW50LFxuXHRcdFx0X2FMU0w6IGFsdExvYWRtb2RlU2Nyb2xsTGlzdG5lcixcblx0XHR9O1xuXHR9KSgpO1xuXG5cblx0dmFyIGF1dG9TaXplciA9IChmdW5jdGlvbigpe1xuXHRcdHZhciBhdXRvc2l6ZXNFbGVtcztcblxuXHRcdHZhciBzaXplRWxlbWVudCA9IHJBRkl0KGZ1bmN0aW9uKGVsZW0sIHBhcmVudCwgZXZlbnQsIHdpZHRoKXtcblx0XHRcdHZhciBzb3VyY2VzLCBpLCBsZW47XG5cdFx0XHRlbGVtLl9sYXp5c2l6ZXNXaWR0aCA9IHdpZHRoO1xuXHRcdFx0d2lkdGggKz0gJ3B4JztcblxuXHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoJ3NpemVzJywgd2lkdGgpO1xuXG5cdFx0XHRpZihyZWdQaWN0dXJlLnRlc3QocGFyZW50Lm5vZGVOYW1lIHx8ICcnKSl7XG5cdFx0XHRcdHNvdXJjZXMgPSBwYXJlbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NvdXJjZScpO1xuXHRcdFx0XHRmb3IoaSA9IDAsIGxlbiA9IHNvdXJjZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuXHRcdFx0XHRcdHNvdXJjZXNbaV0uc2V0QXR0cmlidXRlKCdzaXplcycsIHdpZHRoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZighZXZlbnQuZGV0YWlsLmRhdGFBdHRyKXtcblx0XHRcdFx0dXBkYXRlUG9seWZpbGwoZWxlbSwgZXZlbnQuZGV0YWlsKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHQvKipcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBlbGVtIHtFbGVtZW50fVxuXHRcdCAqIEBwYXJhbSBkYXRhQXR0clxuXHRcdCAqIEBwYXJhbSBbd2lkdGhdIHsgbnVtYmVyIH1cblx0XHQgKi9cblx0XHR2YXIgZ2V0U2l6ZUVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbSwgZGF0YUF0dHIsIHdpZHRoKXtcblx0XHRcdHZhciBldmVudDtcblx0XHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cblx0XHRcdGlmKHBhcmVudCl7XG5cdFx0XHRcdHdpZHRoID0gZ2V0V2lkdGgoZWxlbSwgcGFyZW50LCB3aWR0aCk7XG5cdFx0XHRcdGV2ZW50ID0gdHJpZ2dlckV2ZW50KGVsZW0sICdsYXp5YmVmb3Jlc2l6ZXMnLCB7d2lkdGg6IHdpZHRoLCBkYXRhQXR0cjogISFkYXRhQXR0cn0pO1xuXG5cdFx0XHRcdGlmKCFldmVudC5kZWZhdWx0UHJldmVudGVkKXtcblx0XHRcdFx0XHR3aWR0aCA9IGV2ZW50LmRldGFpbC53aWR0aDtcblxuXHRcdFx0XHRcdGlmKHdpZHRoICYmIHdpZHRoICE9PSBlbGVtLl9sYXp5c2l6ZXNXaWR0aCl7XG5cdFx0XHRcdFx0XHRzaXplRWxlbWVudChlbGVtLCBwYXJlbnQsIGV2ZW50LCB3aWR0aCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHZhciB1cGRhdGVFbGVtZW50c1NpemVzID0gZnVuY3Rpb24oKXtcblx0XHRcdHZhciBpO1xuXHRcdFx0dmFyIGxlbiA9IGF1dG9zaXplc0VsZW1zLmxlbmd0aDtcblx0XHRcdGlmKGxlbil7XG5cdFx0XHRcdGkgPSAwO1xuXG5cdFx0XHRcdGZvcig7IGkgPCBsZW47IGkrKyl7XG5cdFx0XHRcdFx0Z2V0U2l6ZUVsZW1lbnQoYXV0b3NpemVzRWxlbXNbaV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHZhciBkZWJvdW5jZWRVcGRhdGVFbGVtZW50c1NpemVzID0gZGVib3VuY2UodXBkYXRlRWxlbWVudHNTaXplcyk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0XzogZnVuY3Rpb24oKXtcblx0XHRcdFx0YXV0b3NpemVzRWxlbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGxhenlTaXplc0NmZy5hdXRvc2l6ZXNDbGFzcyk7XG5cdFx0XHRcdGFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGRlYm91bmNlZFVwZGF0ZUVsZW1lbnRzU2l6ZXMpO1xuXHRcdFx0fSxcblx0XHRcdGNoZWNrRWxlbXM6IGRlYm91bmNlZFVwZGF0ZUVsZW1lbnRzU2l6ZXMsXG5cdFx0XHR1cGRhdGVFbGVtOiBnZXRTaXplRWxlbWVudFxuXHRcdH07XG5cdH0pKCk7XG5cblx0dmFyIGluaXQgPSBmdW5jdGlvbigpe1xuXHRcdGlmKCFpbml0LmkgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSl7XG5cdFx0XHRpbml0LmkgPSB0cnVlO1xuXHRcdFx0YXV0b1NpemVyLl8oKTtcblx0XHRcdGxvYWRlci5fKCk7XG5cdFx0fVxuXHR9O1xuXG5cdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0XHRpZihsYXp5U2l6ZXNDZmcuaW5pdCl7XG5cdFx0XHRpbml0KCk7XG5cdFx0fVxuXHR9KTtcblxuXHRsYXp5c2l6ZXMgPSB7XG5cdFx0LyoqXG5cdFx0ICogQHR5cGUgeyBMYXp5U2l6ZXNDb25maWdQYXJ0aWFsIH1cblx0XHQgKi9cblx0XHRjZmc6IGxhenlTaXplc0NmZyxcblx0XHRhdXRvU2l6ZXI6IGF1dG9TaXplcixcblx0XHRsb2FkZXI6IGxvYWRlcixcblx0XHRpbml0OiBpbml0LFxuXHRcdHVQOiB1cGRhdGVQb2x5ZmlsbCxcblx0XHRhQzogYWRkQ2xhc3MsXG5cdFx0ckM6IHJlbW92ZUNsYXNzLFxuXHRcdGhDOiBoYXNDbGFzcyxcblx0XHRmaXJlOiB0cmlnZ2VyRXZlbnQsXG5cdFx0Z1c6IGdldFdpZHRoLFxuXHRcdHJBRjogckFGLFxuXHR9O1xuXG5cdHJldHVybiBsYXp5c2l6ZXM7XG59XG4pKTtcblxufSx7fV0sMTg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyohXG4gKiBVbmlkcmFnZ2VyIHYzLjAuMVxuICogRHJhZ2dhYmxlIGJhc2UgY2xhc3NcbiAqIE1JVCBsaWNlbnNlXG4gKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgICB3aW5kb3csXG4gICAgICAgIHJlcXVpcmUoJ2V2LWVtaXR0ZXInKSxcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93LlVuaWRyYWdnZXIgPSBmYWN0b3J5KFxuICAgICAgICB3aW5kb3csXG4gICAgICAgIHdpbmRvdy5FdkVtaXR0ZXIsXG4gICAgKTtcbiAgfVxuXG59KCB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24gZmFjdG9yeSggd2luZG93LCBFdkVtaXR0ZXIgKSB7XG5cbmZ1bmN0aW9uIFVuaWRyYWdnZXIoKSB7fVxuXG4vLyBpbmhlcml0IEV2RW1pdHRlclxubGV0IHByb3RvID0gVW5pZHJhZ2dlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdkVtaXR0ZXIucHJvdG90eXBlICk7XG5cbi8vIC0tLS0tIGJpbmQgc3RhcnQgLS0tLS0gLy9cblxuLy8gdHJpZ2dlciBoYW5kbGVyIG1ldGhvZHMgZm9yIGV2ZW50c1xucHJvdG8uaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIGxldCBtZXRob2QgPSAnb24nICsgZXZlbnQudHlwZTtcbiAgaWYgKCB0aGlzWyBtZXRob2QgXSApIHtcbiAgICB0aGlzWyBtZXRob2QgXSggZXZlbnQgKTtcbiAgfVxufTtcblxubGV0IHN0YXJ0RXZlbnQsIGFjdGl2ZUV2ZW50cztcbmlmICggJ29udG91Y2hzdGFydCcgaW4gd2luZG93ICkge1xuICAvLyBIQUNLIHByZWZlciBUb3VjaCBFdmVudHMgYXMgeW91IGNhbiBwcmV2ZW50RGVmYXVsdCBvbiB0b3VjaHN0YXJ0IHRvXG4gIC8vIGRpc2FibGUgc2Nyb2xsIGluIGlPUyAmIG1vYmlsZSBDaHJvbWUgbWV0YWZpenp5L2ZsaWNraXR5IzExNzdcbiAgc3RhcnRFdmVudCA9ICd0b3VjaHN0YXJ0JztcbiAgYWN0aXZlRXZlbnRzID0gWyAndG91Y2htb3ZlJywgJ3RvdWNoZW5kJywgJ3RvdWNoY2FuY2VsJyBdO1xufSBlbHNlIGlmICggd2luZG93LlBvaW50ZXJFdmVudCApIHtcbiAgLy8gUG9pbnRlciBFdmVudHNcbiAgc3RhcnRFdmVudCA9ICdwb2ludGVyZG93bic7XG4gIGFjdGl2ZUV2ZW50cyA9IFsgJ3BvaW50ZXJtb3ZlJywgJ3BvaW50ZXJ1cCcsICdwb2ludGVyY2FuY2VsJyBdO1xufSBlbHNlIHtcbiAgLy8gbW91c2UgZXZlbnRzXG4gIHN0YXJ0RXZlbnQgPSAnbW91c2Vkb3duJztcbiAgYWN0aXZlRXZlbnRzID0gWyAnbW91c2Vtb3ZlJywgJ21vdXNldXAnIF07XG59XG5cbi8vIHByb3RvdHlwZSBzbyBpdCBjYW4gYmUgb3ZlcndyaXRlYWJsZSBieSBGbGlja2l0eVxucHJvdG8udG91Y2hBY3Rpb25WYWx1ZSA9ICdub25lJztcblxucHJvdG8uYmluZEhhbmRsZXMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fYmluZEhhbmRsZXMoICdhZGRFdmVudExpc3RlbmVyJywgdGhpcy50b3VjaEFjdGlvblZhbHVlICk7XG59O1xuXG5wcm90by51bmJpbmRIYW5kbGVzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2JpbmRIYW5kbGVzKCAncmVtb3ZlRXZlbnRMaXN0ZW5lcicsICcnICk7XG59O1xuXG4vKipcbiAqIEFkZCBvciByZW1vdmUgc3RhcnQgZXZlbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBiaW5kTWV0aG9kIC0gYWRkRXZlbnRMaXN0ZW5lciBvciByZW1vdmVFdmVudExpc3RlbmVyXG4gKiBAcGFyYW0ge1N0cmluZ30gdG91Y2hBY3Rpb24gLSB2YWx1ZSBmb3IgdG91Y2gtYWN0aW9uIENTUyBwcm9wZXJ0eVxuICovXG5wcm90by5fYmluZEhhbmRsZXMgPSBmdW5jdGlvbiggYmluZE1ldGhvZCwgdG91Y2hBY3Rpb24gKSB7XG4gIHRoaXMuaGFuZGxlcy5mb3JFYWNoKCAoIGhhbmRsZSApID0+IHtcbiAgICBoYW5kbGVbIGJpbmRNZXRob2QgXSggc3RhcnRFdmVudCwgdGhpcyApO1xuICAgIGhhbmRsZVsgYmluZE1ldGhvZCBdKCAnY2xpY2snLCB0aGlzICk7XG4gICAgLy8gdG91Y2gtYWN0aW9uOiBub25lIHRvIG92ZXJyaWRlIGJyb3dzZXIgdG91Y2ggZ2VzdHVyZXMuIG1ldGFmaXp6eS9mbGlja2l0eSM1NDBcbiAgICBpZiAoIHdpbmRvdy5Qb2ludGVyRXZlbnQgKSBoYW5kbGUuc3R5bGUudG91Y2hBY3Rpb24gPSB0b3VjaEFjdGlvbjtcbiAgfSApO1xufTtcblxucHJvdG8uYmluZEFjdGl2ZVBvaW50ZXJFdmVudHMgPSBmdW5jdGlvbigpIHtcbiAgYWN0aXZlRXZlbnRzLmZvckVhY2goICggZXZlbnROYW1lICkgPT4ge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBldmVudE5hbWUsIHRoaXMgKTtcbiAgfSApO1xufTtcblxucHJvdG8udW5iaW5kQWN0aXZlUG9pbnRlckV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICBhY3RpdmVFdmVudHMuZm9yRWFjaCggKCBldmVudE5hbWUgKSA9PiB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIGV2ZW50TmFtZSwgdGhpcyApO1xuICB9ICk7XG59O1xuXG4vLyAtLS0tLSBldmVudCBoYW5kbGVyIGhlbHBlcnMgLS0tLS0gLy9cblxuLy8gdHJpZ2dlciBtZXRob2Qgd2l0aCBtYXRjaGluZyBwb2ludGVyXG5wcm90by53aXRoUG9pbnRlciA9IGZ1bmN0aW9uKCBtZXRob2ROYW1lLCBldmVudCApIHtcbiAgaWYgKCBldmVudC5wb2ludGVySWQgPT09IHRoaXMucG9pbnRlcklkZW50aWZpZXIgKSB7XG4gICAgdGhpc1sgbWV0aG9kTmFtZSBdKCBldmVudCwgZXZlbnQgKTtcbiAgfVxufTtcblxuLy8gdHJpZ2dlciBtZXRob2Qgd2l0aCBtYXRjaGluZyB0b3VjaFxucHJvdG8ud2l0aFRvdWNoID0gZnVuY3Rpb24oIG1ldGhvZE5hbWUsIGV2ZW50ICkge1xuICBsZXQgdG91Y2g7XG4gIGZvciAoIGxldCBjaGFuZ2VkVG91Y2ggb2YgZXZlbnQuY2hhbmdlZFRvdWNoZXMgKSB7XG4gICAgaWYgKCBjaGFuZ2VkVG91Y2guaWRlbnRpZmllciA9PT0gdGhpcy5wb2ludGVySWRlbnRpZmllciApIHtcbiAgICAgIHRvdWNoID0gY2hhbmdlZFRvdWNoO1xuICAgIH1cbiAgfVxuICBpZiAoIHRvdWNoICkgdGhpc1sgbWV0aG9kTmFtZSBdKCBldmVudCwgdG91Y2ggKTtcbn07XG5cbi8vIC0tLS0tIHN0YXJ0IGV2ZW50IC0tLS0tIC8vXG5cbnByb3RvLm9ubW91c2Vkb3duID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB0aGlzLnBvaW50ZXJEb3duKCBldmVudCwgZXZlbnQgKTtcbn07XG5cbnByb3RvLm9udG91Y2hzdGFydCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdGhpcy5wb2ludGVyRG93biggZXZlbnQsIGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdICk7XG59O1xuXG5wcm90by5vbnBvaW50ZXJkb3duID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB0aGlzLnBvaW50ZXJEb3duKCBldmVudCwgZXZlbnQgKTtcbn07XG5cbi8vIG5vZGVzIHRoYXQgaGF2ZSB0ZXh0IGZpZWxkc1xuY29uc3QgY3Vyc29yTm9kZXMgPSBbICdURVhUQVJFQScsICdJTlBVVCcsICdTRUxFQ1QnLCAnT1BUSU9OJyBdO1xuLy8gaW5wdXQgdHlwZXMgdGhhdCBkbyBub3QgaGF2ZSB0ZXh0IGZpZWxkc1xuY29uc3QgY2xpY2tUeXBlcyA9IFsgJ3JhZGlvJywgJ2NoZWNrYm94JywgJ2J1dHRvbicsICdzdWJtaXQnLCAnaW1hZ2UnLCAnZmlsZScgXTtcblxuLyoqXG4gKiBhbnkgdGltZSB5b3Ugc2V0IGBldmVudCwgcG9pbnRlcmAgaXQgcmVmZXJzIHRvOlxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7RXZlbnQgfCBUb3VjaH0gcG9pbnRlclxuICovXG5wcm90by5wb2ludGVyRG93biA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgLy8gZGlzbWlzcyBtdWx0aS10b3VjaCB0YXBzLCByaWdodCBjbGlja3MsIGFuZCBjbGlja3Mgb24gdGV4dCBmaWVsZHNcbiAgbGV0IGlzQ3Vyc29yTm9kZSA9IGN1cnNvck5vZGVzLmluY2x1ZGVzKCBldmVudC50YXJnZXQubm9kZU5hbWUgKTtcbiAgbGV0IGlzQ2xpY2tUeXBlID0gY2xpY2tUeXBlcy5pbmNsdWRlcyggZXZlbnQudGFyZ2V0LnR5cGUgKTtcbiAgbGV0IGlzT2theUVsZW1lbnQgPSAhaXNDdXJzb3JOb2RlIHx8IGlzQ2xpY2tUeXBlO1xuICBsZXQgaXNPa2F5ID0gIXRoaXMuaXNQb2ludGVyRG93biAmJiAhZXZlbnQuYnV0dG9uICYmIGlzT2theUVsZW1lbnQ7XG4gIGlmICggIWlzT2theSApIHJldHVybjtcblxuICB0aGlzLmlzUG9pbnRlckRvd24gPSB0cnVlO1xuICAvLyBzYXZlIHBvaW50ZXIgaWRlbnRpZmllciB0byBtYXRjaCB1cCB0b3VjaCBldmVudHNcbiAgdGhpcy5wb2ludGVySWRlbnRpZmllciA9IHBvaW50ZXIucG9pbnRlcklkICE9PSB1bmRlZmluZWQgP1xuICAgIC8vIHBvaW50ZXJJZCBmb3IgcG9pbnRlciBldmVudHMsIHRvdWNoLmluZGVudGlmaWVyIGZvciB0b3VjaCBldmVudHNcbiAgICBwb2ludGVyLnBvaW50ZXJJZCA6IHBvaW50ZXIuaWRlbnRpZmllcjtcbiAgLy8gdHJhY2sgcG9zaXRpb24gZm9yIG1vdmVcbiAgdGhpcy5wb2ludGVyRG93blBvaW50ZXIgPSB7XG4gICAgcGFnZVg6IHBvaW50ZXIucGFnZVgsXG4gICAgcGFnZVk6IHBvaW50ZXIucGFnZVksXG4gIH07XG5cbiAgdGhpcy5iaW5kQWN0aXZlUG9pbnRlckV2ZW50cygpO1xuICB0aGlzLmVtaXRFdmVudCggJ3BvaW50ZXJEb3duJywgWyBldmVudCwgcG9pbnRlciBdICk7XG59O1xuXG4vLyAtLS0tLSBtb3ZlIC0tLS0tIC8vXG5cbnByb3RvLm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB0aGlzLnBvaW50ZXJNb3ZlKCBldmVudCwgZXZlbnQgKTtcbn07XG5cbnByb3RvLm9ucG9pbnRlcm1vdmUgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHRoaXMud2l0aFBvaW50ZXIoICdwb2ludGVyTW92ZScsIGV2ZW50ICk7XG59O1xuXG5wcm90by5vbnRvdWNobW92ZSA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdGhpcy53aXRoVG91Y2goICdwb2ludGVyTW92ZScsIGV2ZW50ICk7XG59O1xuXG5wcm90by5wb2ludGVyTW92ZSA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgbGV0IG1vdmVWZWN0b3IgPSB7XG4gICAgeDogcG9pbnRlci5wYWdlWCAtIHRoaXMucG9pbnRlckRvd25Qb2ludGVyLnBhZ2VYLFxuICAgIHk6IHBvaW50ZXIucGFnZVkgLSB0aGlzLnBvaW50ZXJEb3duUG9pbnRlci5wYWdlWSxcbiAgfTtcbiAgdGhpcy5lbWl0RXZlbnQoICdwb2ludGVyTW92ZScsIFsgZXZlbnQsIHBvaW50ZXIsIG1vdmVWZWN0b3IgXSApO1xuICAvLyBzdGFydCBkcmFnIGlmIHBvaW50ZXIgaGFzIG1vdmVkIGZhciBlbm91Z2ggdG8gc3RhcnQgZHJhZ1xuICBsZXQgaXNEcmFnU3RhcnRpbmcgPSAhdGhpcy5pc0RyYWdnaW5nICYmIHRoaXMuaGFzRHJhZ1N0YXJ0ZWQoIG1vdmVWZWN0b3IgKTtcbiAgaWYgKCBpc0RyYWdTdGFydGluZyApIHRoaXMuZHJhZ1N0YXJ0KCBldmVudCwgcG9pbnRlciApO1xuICBpZiAoIHRoaXMuaXNEcmFnZ2luZyApIHRoaXMuZHJhZ01vdmUoIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yICk7XG59O1xuXG4vLyBjb25kaXRpb24gaWYgcG9pbnRlciBoYXMgbW92ZWQgZmFyIGVub3VnaCB0byBzdGFydCBkcmFnXG5wcm90by5oYXNEcmFnU3RhcnRlZCA9IGZ1bmN0aW9uKCBtb3ZlVmVjdG9yICkge1xuICByZXR1cm4gTWF0aC5hYnMoIG1vdmVWZWN0b3IueCApID4gMyB8fCBNYXRoLmFicyggbW92ZVZlY3Rvci55ICkgPiAzO1xufTtcblxuLy8gLS0tLS0gZHJhZyAtLS0tLSAvL1xuXG5wcm90by5kcmFnU3RhcnQgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7XG4gIHRoaXMuaXNQcmV2ZW50aW5nQ2xpY2tzID0gdHJ1ZTsgLy8gc2V0IGZsYWcgdG8gcHJldmVudCBjbGlja3NcbiAgdGhpcy5lbWl0RXZlbnQoICdkcmFnU3RhcnQnLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcbn07XG5cbnByb3RvLmRyYWdNb3ZlID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yICkge1xuICB0aGlzLmVtaXRFdmVudCggJ2RyYWdNb3ZlJywgWyBldmVudCwgcG9pbnRlciwgbW92ZVZlY3RvciBdICk7XG59O1xuXG4vLyAtLS0tLSBlbmQgLS0tLS0gLy9cblxucHJvdG8ub25tb3VzZXVwID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB0aGlzLnBvaW50ZXJVcCggZXZlbnQsIGV2ZW50ICk7XG59O1xuXG5wcm90by5vbnBvaW50ZXJ1cCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdGhpcy53aXRoUG9pbnRlciggJ3BvaW50ZXJVcCcsIGV2ZW50ICk7XG59O1xuXG5wcm90by5vbnRvdWNoZW5kID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB0aGlzLndpdGhUb3VjaCggJ3BvaW50ZXJVcCcsIGV2ZW50ICk7XG59O1xuXG5wcm90by5wb2ludGVyVXAgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIHRoaXMucG9pbnRlckRvbmUoKTtcbiAgdGhpcy5lbWl0RXZlbnQoICdwb2ludGVyVXAnLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcblxuICBpZiAoIHRoaXMuaXNEcmFnZ2luZyApIHtcbiAgICB0aGlzLmRyYWdFbmQoIGV2ZW50LCBwb2ludGVyICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gcG9pbnRlciBkaWRuJ3QgbW92ZSBlbm91Z2ggZm9yIGRyYWcgdG8gc3RhcnRcbiAgICB0aGlzLnN0YXRpY0NsaWNrKCBldmVudCwgcG9pbnRlciApO1xuICB9XG59O1xuXG5wcm90by5kcmFnRW5kID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTsgLy8gcmVzZXQgZmxhZ1xuICAvLyByZS1lbmFibGUgY2xpY2tpbmcgYXN5bmNcbiAgc2V0VGltZW91dCggKCkgPT4gZGVsZXRlIHRoaXMuaXNQcmV2ZW50aW5nQ2xpY2tzICk7XG5cbiAgdGhpcy5lbWl0RXZlbnQoICdkcmFnRW5kJywgWyBldmVudCwgcG9pbnRlciBdICk7XG59O1xuXG4vLyB0cmlnZ2VyZWQgb24gcG9pbnRlciB1cCAmIHBvaW50ZXIgY2FuY2VsXG5wcm90by5wb2ludGVyRG9uZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmlzUG9pbnRlckRvd24gPSBmYWxzZTtcbiAgZGVsZXRlIHRoaXMucG9pbnRlcklkZW50aWZpZXI7XG4gIHRoaXMudW5iaW5kQWN0aXZlUG9pbnRlckV2ZW50cygpO1xuICB0aGlzLmVtaXRFdmVudCgncG9pbnRlckRvbmUnKTtcbn07XG5cbi8vIC0tLS0tIGNhbmNlbCAtLS0tLSAvL1xuXG5wcm90by5vbnBvaW50ZXJjYW5jZWwgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHRoaXMud2l0aFBvaW50ZXIoICdwb2ludGVyQ2FuY2VsJywgZXZlbnQgKTtcbn07XG5cbnByb3RvLm9udG91Y2hjYW5jZWwgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHRoaXMud2l0aFRvdWNoKCAncG9pbnRlckNhbmNlbCcsIGV2ZW50ICk7XG59O1xuXG5wcm90by5wb2ludGVyQ2FuY2VsID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICB0aGlzLnBvaW50ZXJEb25lKCk7XG4gIHRoaXMuZW1pdEV2ZW50KCAncG9pbnRlckNhbmNlbCcsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xufTtcblxuLy8gLS0tLS0gY2xpY2sgLS0tLS0gLy9cblxuLy8gaGFuZGxlIGFsbCBjbGlja3MgYW5kIHByZXZlbnQgY2xpY2tzIHdoZW4gZHJhZ2dpbmdcbnByb3RvLm9uY2xpY2sgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIGlmICggdGhpcy5pc1ByZXZlbnRpbmdDbGlja3MgKSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xufTtcblxuLy8gdHJpZ2dlcmVkIGFmdGVyIHBvaW50ZXIgZG93biAmIHVwIHdpdGggbm8vdGlueSBtb3ZlbWVudFxucHJvdG8uc3RhdGljQ2xpY2sgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIC8vIGlnbm9yZSBlbXVsYXRlZCBtb3VzZSB1cCBjbGlja3NcbiAgbGV0IGlzTW91c2V1cCA9IGV2ZW50LnR5cGUgPT09ICdtb3VzZXVwJztcbiAgaWYgKCBpc01vdXNldXAgJiYgdGhpcy5pc0lnbm9yaW5nTW91c2VVcCApIHJldHVybjtcblxuICB0aGlzLmVtaXRFdmVudCggJ3N0YXRpY0NsaWNrJywgWyBldmVudCwgcG9pbnRlciBdICk7XG5cbiAgLy8gc2V0IGZsYWcgZm9yIGVtdWxhdGVkIGNsaWNrcyAzMDBtcyBhZnRlciB0b3VjaGVuZFxuICBpZiAoIGlzTW91c2V1cCApIHtcbiAgICB0aGlzLmlzSWdub3JpbmdNb3VzZVVwID0gdHJ1ZTtcbiAgICAvLyByZXNldCBmbGFnIGFmdGVyIDQwMG1zXG4gICAgc2V0VGltZW91dCggKCkgPT4ge1xuICAgICAgZGVsZXRlIHRoaXMuaXNJZ25vcmluZ01vdXNlVXA7XG4gICAgfSwgNDAwICk7XG4gIH1cbn07XG5cbi8vIC0tLS0tICAtLS0tLSAvL1xuXG5yZXR1cm4gVW5pZHJhZ2dlcjtcblxufSApICk7XG5cbn0se1wiZXYtZW1pdHRlclwiOjF9XSwxOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyB2ZW5kb3JcbndpbmRvdy5GbGlja2l0eSA9IHJlcXVpcmUoJ2ZsaWNraXR5Jyk7XG5yZXF1aXJlKCdsYXp5c2l6ZXMnKTtcblxuLy8gbW9kdWxlc1xud2luZG93LlB1YlN1YiA9IHJlcXVpcmUoJy4vc2NyaXB0cy9wdWJzdWInKTtcblxud2luZG93LmRlYm91bmNlID0gZnVuY3Rpb24gKGZuLCB3YWl0KSB7XG5cdGxldCB0O1xuXHRyZXR1cm4gKC4uLmFyZ3MpID0+IHtcblx0XHRjbGVhclRpbWVvdXQodCk7XG5cdFx0dCA9IHNldFRpbWVvdXQoKCkgPT4gZm4uYXBwbHkodGhpcywgYXJncyksIHdhaXQpO1xuXHR9O1xufVxuXG53aW5kb3cudGhyb3R0bGUgPSBmdW5jdGlvbihjYiwgZGVsYXkpIHtcblx0bGV0IHdhaXQgPSBmYWxzZTtcblx0bGV0IHN0b3JlZEFyZ3MgPSBudWxsO1xuXG5cdGZ1bmN0aW9uIGNoZWNrU3RvcmVkQXJncyAoKSB7XG5cdFx0aWYgKHN0b3JlZEFyZ3MgPT0gbnVsbCkge1xuXHRcdFx0d2FpdCA9IGZhbHNlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjYiguLi5zdG9yZWRBcmdzKTtcblx0XHRcdHN0b3JlZEFyZ3MgPSBudWxsO1xuXHRcdFx0c2V0VGltZW91dChjaGVja1N0b3JlZEFyZ3MsIGRlbGF5KTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gKC4uLmFyZ3MpID0+IHtcblx0XHRpZiAod2FpdCkge1xuXHRcdFx0c3RvcmVkQXJncyA9IGFyZ3M7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y2IoLi4uYXJncyk7XG5cdFx0d2FpdCA9IHRydWU7XG5cdFx0c2V0VGltZW91dChjaGVja1N0b3JlZEFyZ3MsIGRlbGF5KTtcblx0fVxufVxufSx7XCIuL3NjcmlwdHMvcHVic3ViXCI6MjAsXCJmbGlja2l0eVwiOjksXCJsYXp5c2l6ZXNcIjoxN31dLDIwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0ge1xuXHRFVkVOVFM6IHtcblx0XHRjYXJ0VXBkYXRlZDogJ2NhcnQtdXBkYXRlZCdcblx0fSxcblx0c3Vic2NyaWJlcnM6IHt9LFxuXHRzdWJzY3JpYmU6IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7XG5cdFx0aWYgKHRoaXMuc3Vic2NyaWJlcnNbZXZlbnROYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aGlzLnN1YnNjcmliZXJzW2V2ZW50TmFtZV0gPSBbXTtcblx0XHR9XG5cblx0XHR0aGlzLnN1YnNjcmliZXJzW2V2ZW50TmFtZV0gPSBbLi4udGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdLCBjYWxsYmFja107XG5cblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0dGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdID0gdGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdLmZpbHRlcigoY2IpID0+IHtcblx0XHRcdFx0cmV0dXJuIGNiICE9PSBjYWxsYmFjaztcblx0XHRcdH0pO1xuXHRcdH07XG5cdH0sXG5cdHB1Ymxpc2g6IGZ1bmN0aW9uIChldmVudE5hbWUsIGRhdGEpIHtcblx0XHRpZiAodGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdKSB7XG5cdFx0XHR0aGlzLnN1YnNjcmliZXJzW2V2ZW50TmFtZV0uZm9yRWFjaCgoY2FsbGJhY2spID0+IHtcblx0XHRcdFx0Y2FsbGJhY2soZGF0YSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cbn1cblxufSx7fV19LHt9LFsxOV0pXG5cbiIsIi8qKlxuICogRml6enkgVUkgdXRpbHMgdjMuMC4wXG4gKiBNSVQgbGljZW5zZVxuICovXG5cbiggZnVuY3Rpb24oIGdsb2JhbCwgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSggZ2xvYmFsICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICBnbG9iYWwuZml6enlVSVV0aWxzID0gZmFjdG9yeSggZ2xvYmFsICk7XG4gIH1cblxufSggdGhpcywgZnVuY3Rpb24gZmFjdG9yeSggZ2xvYmFsICkge1xuXG5sZXQgdXRpbHMgPSB7fTtcblxuLy8gLS0tLS0gZXh0ZW5kIC0tLS0tIC8vXG5cbi8vIGV4dGVuZHMgb2JqZWN0c1xudXRpbHMuZXh0ZW5kID0gZnVuY3Rpb24oIGEsIGIgKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKCBhLCBiICk7XG59O1xuXG4vLyAtLS0tLSBtb2R1bG8gLS0tLS0gLy9cblxudXRpbHMubW9kdWxvID0gZnVuY3Rpb24oIG51bSwgZGl2ICkge1xuICByZXR1cm4gKCAoIG51bSAlIGRpdiApICsgZGl2ICkgJSBkaXY7XG59O1xuXG4vLyAtLS0tLSBtYWtlQXJyYXkgLS0tLS0gLy9cblxuLy8gdHVybiBlbGVtZW50IG9yIG5vZGVMaXN0IGludG8gYW4gYXJyYXlcbnV0aWxzLm1ha2VBcnJheSA9IGZ1bmN0aW9uKCBvYmogKSB7XG4gIC8vIHVzZSBvYmplY3QgaWYgYWxyZWFkeSBhbiBhcnJheVxuICBpZiAoIEFycmF5LmlzQXJyYXkoIG9iaiApICkgcmV0dXJuIG9iajtcblxuICAvLyByZXR1cm4gZW1wdHkgYXJyYXkgaWYgdW5kZWZpbmVkIG9yIG51bGwuICM2XG4gIGlmICggb2JqID09PSBudWxsIHx8IG9iaiA9PT0gdW5kZWZpbmVkICkgcmV0dXJuIFtdO1xuXG4gIGxldCBpc0FycmF5TGlrZSA9IHR5cGVvZiBvYmogPT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iai5sZW5ndGggPT0gJ251bWJlcic7XG4gIC8vIGNvbnZlcnQgbm9kZUxpc3QgdG8gYXJyYXlcbiAgaWYgKCBpc0FycmF5TGlrZSApIHJldHVybiBbIC4uLm9iaiBdO1xuXG4gIC8vIGFycmF5IG9mIHNpbmdsZSBpbmRleFxuICByZXR1cm4gWyBvYmogXTtcbn07XG5cbi8vIC0tLS0tIHJlbW92ZUZyb20gLS0tLS0gLy9cblxudXRpbHMucmVtb3ZlRnJvbSA9IGZ1bmN0aW9uKCBhcnksIG9iaiApIHtcbiAgbGV0IGluZGV4ID0gYXJ5LmluZGV4T2YoIG9iaiApO1xuICBpZiAoIGluZGV4ICE9IC0xICkge1xuICAgIGFyeS5zcGxpY2UoIGluZGV4LCAxICk7XG4gIH1cbn07XG5cbi8vIC0tLS0tIGdldFBhcmVudCAtLS0tLSAvL1xuXG51dGlscy5nZXRQYXJlbnQgPSBmdW5jdGlvbiggZWxlbSwgc2VsZWN0b3IgKSB7XG4gIHdoaWxlICggZWxlbS5wYXJlbnROb2RlICYmIGVsZW0gIT0gZG9jdW1lbnQuYm9keSApIHtcbiAgICBlbGVtID0gZWxlbS5wYXJlbnROb2RlO1xuICAgIGlmICggZWxlbS5tYXRjaGVzKCBzZWxlY3RvciApICkgcmV0dXJuIGVsZW07XG4gIH1cbn07XG5cbi8vIC0tLS0tIGdldFF1ZXJ5RWxlbWVudCAtLS0tLSAvL1xuXG4vLyB1c2UgZWxlbWVudCBhcyBzZWxlY3RvciBzdHJpbmdcbnV0aWxzLmdldFF1ZXJ5RWxlbWVudCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICBpZiAoIHR5cGVvZiBlbGVtID09ICdzdHJpbmcnICkge1xuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBlbGVtICk7XG4gIH1cbiAgcmV0dXJuIGVsZW07XG59O1xuXG4vLyAtLS0tLSBoYW5kbGVFdmVudCAtLS0tLSAvL1xuXG4vLyBlbmFibGUgLm9udHlwZSB0byB0cmlnZ2VyIGZyb20gLmFkZEV2ZW50TGlzdGVuZXIoIGVsZW0sICd0eXBlJyApXG51dGlscy5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgbGV0IG1ldGhvZCA9ICdvbicgKyBldmVudC50eXBlO1xuICBpZiAoIHRoaXNbIG1ldGhvZCBdICkge1xuICAgIHRoaXNbIG1ldGhvZCBdKCBldmVudCApO1xuICB9XG59O1xuXG4vLyAtLS0tLSBmaWx0ZXJGaW5kRWxlbWVudHMgLS0tLS0gLy9cblxudXRpbHMuZmlsdGVyRmluZEVsZW1lbnRzID0gZnVuY3Rpb24oIGVsZW1zLCBzZWxlY3RvciApIHtcbiAgLy8gbWFrZSBhcnJheSBvZiBlbGVtc1xuICBlbGVtcyA9IHV0aWxzLm1ha2VBcnJheSggZWxlbXMgKTtcblxuICByZXR1cm4gZWxlbXNcbiAgICAvLyBjaGVjayB0aGF0IGVsZW0gaXMgYW4gYWN0dWFsIGVsZW1lbnRcbiAgICAuZmlsdGVyKCAoIGVsZW0gKSA9PiBlbGVtIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgKVxuICAgIC5yZWR1Y2UoICggZmZFbGVtcywgZWxlbSApID0+IHtcbiAgICAgIC8vIGFkZCBlbGVtIGlmIG5vIHNlbGVjdG9yXG4gICAgICBpZiAoICFzZWxlY3RvciApIHtcbiAgICAgICAgZmZFbGVtcy5wdXNoKCBlbGVtICk7XG4gICAgICAgIHJldHVybiBmZkVsZW1zO1xuICAgICAgfVxuICAgICAgLy8gZmlsdGVyICYgZmluZCBpdGVtcyBpZiB3ZSBoYXZlIGEgc2VsZWN0b3JcbiAgICAgIC8vIGZpbHRlclxuICAgICAgaWYgKCBlbGVtLm1hdGNoZXMoIHNlbGVjdG9yICkgKSB7XG4gICAgICAgIGZmRWxlbXMucHVzaCggZWxlbSApO1xuICAgICAgfVxuICAgICAgLy8gZmluZCBjaGlsZHJlblxuICAgICAgbGV0IGNoaWxkRWxlbXMgPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoIHNlbGVjdG9yICk7XG4gICAgICAvLyBjb25jYXQgY2hpbGRFbGVtcyB0byBmaWx0ZXJGb3VuZCBhcnJheVxuICAgICAgZmZFbGVtcyA9IGZmRWxlbXMuY29uY2F0KCAuLi5jaGlsZEVsZW1zICk7XG4gICAgICByZXR1cm4gZmZFbGVtcztcbiAgICB9LCBbXSApO1xufTtcblxuLy8gLS0tLS0gZGVib3VuY2VNZXRob2QgLS0tLS0gLy9cblxudXRpbHMuZGVib3VuY2VNZXRob2QgPSBmdW5jdGlvbiggX2NsYXNzLCBtZXRob2ROYW1lLCB0aHJlc2hvbGQgKSB7XG4gIHRocmVzaG9sZCA9IHRocmVzaG9sZCB8fCAxMDA7XG4gIC8vIG9yaWdpbmFsIG1ldGhvZFxuICBsZXQgbWV0aG9kID0gX2NsYXNzLnByb3RvdHlwZVsgbWV0aG9kTmFtZSBdO1xuICBsZXQgdGltZW91dE5hbWUgPSBtZXRob2ROYW1lICsgJ1RpbWVvdXQnO1xuXG4gIF9jbGFzcy5wcm90b3R5cGVbIG1ldGhvZE5hbWUgXSA9IGZ1bmN0aW9uKCkge1xuICAgIGNsZWFyVGltZW91dCggdGhpc1sgdGltZW91dE5hbWUgXSApO1xuXG4gICAgbGV0IGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgdGhpc1sgdGltZW91dE5hbWUgXSA9IHNldFRpbWVvdXQoICgpID0+IHtcbiAgICAgIG1ldGhvZC5hcHBseSggdGhpcywgYXJncyApO1xuICAgICAgZGVsZXRlIHRoaXNbIHRpbWVvdXROYW1lIF07XG4gICAgfSwgdGhyZXNob2xkICk7XG4gIH07XG59O1xuXG4vLyAtLS0tLSBkb2NSZWFkeSAtLS0tLSAvL1xuXG51dGlscy5kb2NSZWFkeSA9IGZ1bmN0aW9uKCBvbkRvY1JlYWR5ICkge1xuICBsZXQgcmVhZHlTdGF0ZSA9IGRvY3VtZW50LnJlYWR5U3RhdGU7XG4gIGlmICggcmVhZHlTdGF0ZSA9PSAnY29tcGxldGUnIHx8IHJlYWR5U3RhdGUgPT0gJ2ludGVyYWN0aXZlJyApIHtcbiAgICAvLyBkbyBhc3luYyB0byBhbGxvdyBmb3Igb3RoZXIgc2NyaXB0cyB0byBydW4uIG1ldGFmaXp6eS9mbGlja2l0eSM0NDFcbiAgICBzZXRUaW1lb3V0KCBvbkRvY1JlYWR5ICk7XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ0RPTUNvbnRlbnRMb2FkZWQnLCBvbkRvY1JlYWR5ICk7XG4gIH1cbn07XG5cbi8vIC0tLS0tIGh0bWxJbml0IC0tLS0tIC8vXG5cbi8vIGh0dHA6Ly9iaXQubHkvM29ZTHVzY1xudXRpbHMudG9EYXNoZWQgPSBmdW5jdGlvbiggc3RyICkge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoIC8oLikoW0EtWl0pL2csIGZ1bmN0aW9uKCBtYXRjaCwgJDEsICQyICkge1xuICAgIHJldHVybiAkMSArICctJyArICQyO1xuICB9ICkudG9Mb3dlckNhc2UoKTtcbn07XG5cbmxldCBjb25zb2xlID0gZ2xvYmFsLmNvbnNvbGU7XG5cbi8vIGFsbG93IHVzZXIgdG8gaW5pdGlhbGl6ZSBjbGFzc2VzIHZpYSBbZGF0YS1uYW1lc3BhY2VdIG9yIC5qcy1uYW1lc3BhY2UgY2xhc3Ncbi8vIGh0bWxJbml0KCBXaWRnZXQsICd3aWRnZXROYW1lJyApXG4vLyBvcHRpb25zIGFyZSBwYXJzZWQgZnJvbSBkYXRhLW5hbWVzcGFjZS1vcHRpb25zXG51dGlscy5odG1sSW5pdCA9IGZ1bmN0aW9uKCBXaWRnZXRDbGFzcywgbmFtZXNwYWNlICkge1xuICB1dGlscy5kb2NSZWFkeSggZnVuY3Rpb24oKSB7XG4gICAgbGV0IGRhc2hlZE5hbWVzcGFjZSA9IHV0aWxzLnRvRGFzaGVkKCBuYW1lc3BhY2UgKTtcbiAgICBsZXQgZGF0YUF0dHIgPSAnZGF0YS0nICsgZGFzaGVkTmFtZXNwYWNlO1xuICAgIGxldCBkYXRhQXR0ckVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggYFske2RhdGFBdHRyfV1gICk7XG4gICAgbGV0IGpRdWVyeSA9IGdsb2JhbC5qUXVlcnk7XG5cbiAgICBbIC4uLmRhdGFBdHRyRWxlbXMgXS5mb3JFYWNoKCAoIGVsZW0gKSA9PiB7XG4gICAgICBsZXQgYXR0ciA9IGVsZW0uZ2V0QXR0cmlidXRlKCBkYXRhQXR0ciApO1xuICAgICAgbGV0IG9wdGlvbnM7XG4gICAgICB0cnkge1xuICAgICAgICBvcHRpb25zID0gYXR0ciAmJiBKU09OLnBhcnNlKCBhdHRyICk7XG4gICAgICB9IGNhdGNoICggZXJyb3IgKSB7XG4gICAgICAgIC8vIGxvZyBlcnJvciwgZG8gbm90IGluaXRpYWxpemVcbiAgICAgICAgaWYgKCBjb25zb2xlICkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIGBFcnJvciBwYXJzaW5nICR7ZGF0YUF0dHJ9IG9uICR7ZWxlbS5jbGFzc05hbWV9OiAke2Vycm9yfWAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBpbml0aWFsaXplXG4gICAgICBsZXQgaW5zdGFuY2UgPSBuZXcgV2lkZ2V0Q2xhc3MoIGVsZW0sIG9wdGlvbnMgKTtcbiAgICAgIC8vIG1ha2UgYXZhaWxhYmxlIHZpYSAkKCkuZGF0YSgnbmFtZXNwYWNlJylcbiAgICAgIGlmICggalF1ZXJ5ICkge1xuICAgICAgICBqUXVlcnkuZGF0YSggZWxlbSwgbmFtZXNwYWNlLCBpbnN0YW5jZSApO1xuICAgICAgfVxuICAgIH0gKTtcblxuICB9ICk7XG59O1xuXG4vLyAtLS0tLSAgLS0tLS0gLy9cblxucmV0dXJuIHV0aWxzO1xuXG59ICkgKTtcbiIsIi8vIGFkZCwgcmVtb3ZlIGNlbGxcbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgICAgcmVxdWlyZSgnLi9jb3JlJyksXG4gICAgICAgIHJlcXVpcmUoJ2Zpenp5LXVpLXV0aWxzJyksXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIGZhY3RvcnkoXG4gICAgICAgIHdpbmRvdy5GbGlja2l0eSxcbiAgICAgICAgd2luZG93LmZpenp5VUlVdGlscyxcbiAgICApO1xuICB9XG5cbn0oIHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbiBmYWN0b3J5KCBGbGlja2l0eSwgdXRpbHMgKSB7XG5cbi8vIGFwcGVuZCBjZWxscyB0byBhIGRvY3VtZW50IGZyYWdtZW50XG5mdW5jdGlvbiBnZXRDZWxsc0ZyYWdtZW50KCBjZWxscyApIHtcbiAgbGV0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICBjZWxscy5mb3JFYWNoKCAoIGNlbGwgKSA9PiBmcmFnbWVudC5hcHBlbmRDaGlsZCggY2VsbC5lbGVtZW50ICkgKTtcbiAgcmV0dXJuIGZyYWdtZW50O1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBhZGQvcmVtb3ZlIGNlbGwgcHJvdG90eXBlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbmxldCBwcm90byA9IEZsaWNraXR5LnByb3RvdHlwZTtcblxuLyoqXG4gKiBJbnNlcnQsIHByZXBlbmQsIG9yIGFwcGVuZCBjZWxsc1xuICogQHBhcmFtIHtbRWxlbWVudCwgQXJyYXksIE5vZGVMaXN0XX0gZWxlbXMgLSBFbGVtZW50cyB0byBpbnNlcnRcbiAqIEBwYXJhbSB7SW50ZWdlcn0gaW5kZXggLSBaZXJvLWJhc2VkIG51bWJlciB0byBpbnNlcnRcbiAqL1xucHJvdG8uaW5zZXJ0ID0gZnVuY3Rpb24oIGVsZW1zLCBpbmRleCApIHtcbiAgbGV0IGNlbGxzID0gdGhpcy5fbWFrZUNlbGxzKCBlbGVtcyApO1xuICBpZiAoICFjZWxscyB8fCAhY2VsbHMubGVuZ3RoICkgcmV0dXJuO1xuXG4gIGxldCBsZW4gPSB0aGlzLmNlbGxzLmxlbmd0aDtcbiAgLy8gZGVmYXVsdCB0byBhcHBlbmRcbiAgaW5kZXggPSBpbmRleCA9PT0gdW5kZWZpbmVkID8gbGVuIDogaW5kZXg7XG4gIC8vIGFkZCBjZWxscyB3aXRoIGRvY3VtZW50IGZyYWdtZW50XG4gIGxldCBmcmFnbWVudCA9IGdldENlbGxzRnJhZ21lbnQoIGNlbGxzICk7XG4gIC8vIGFwcGVuZCB0byBzbGlkZXJcbiAgbGV0IGlzQXBwZW5kID0gaW5kZXggPT09IGxlbjtcbiAgaWYgKCBpc0FwcGVuZCApIHtcbiAgICB0aGlzLnNsaWRlci5hcHBlbmRDaGlsZCggZnJhZ21lbnQgKTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgaW5zZXJ0Q2VsbEVsZW1lbnQgPSB0aGlzLmNlbGxzWyBpbmRleCBdLmVsZW1lbnQ7XG4gICAgdGhpcy5zbGlkZXIuaW5zZXJ0QmVmb3JlKCBmcmFnbWVudCwgaW5zZXJ0Q2VsbEVsZW1lbnQgKTtcbiAgfVxuICAvLyBhZGQgdG8gdGhpcy5jZWxsc1xuICBpZiAoIGluZGV4ID09PSAwICkge1xuICAgIC8vIHByZXBlbmQsIGFkZCB0byBzdGFydFxuICAgIHRoaXMuY2VsbHMgPSBjZWxscy5jb25jYXQoIHRoaXMuY2VsbHMgKTtcbiAgfSBlbHNlIGlmICggaXNBcHBlbmQgKSB7XG4gICAgLy8gYXBwZW5kLCBhZGQgdG8gZW5kXG4gICAgdGhpcy5jZWxscyA9IHRoaXMuY2VsbHMuY29uY2F0KCBjZWxscyApO1xuICB9IGVsc2Uge1xuICAgIC8vIGluc2VydCBpbiB0aGlzLmNlbGxzXG4gICAgbGV0IGVuZENlbGxzID0gdGhpcy5jZWxscy5zcGxpY2UoIGluZGV4LCBsZW4gLSBpbmRleCApO1xuICAgIHRoaXMuY2VsbHMgPSB0aGlzLmNlbGxzLmNvbmNhdCggY2VsbHMgKS5jb25jYXQoIGVuZENlbGxzICk7XG4gIH1cblxuICB0aGlzLl9zaXplQ2VsbHMoIGNlbGxzICk7XG4gIHRoaXMuY2VsbENoYW5nZSggaW5kZXggKTtcbiAgdGhpcy5wb3NpdGlvblNsaWRlckF0U2VsZWN0ZWQoKTtcbn07XG5cbnByb3RvLmFwcGVuZCA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgdGhpcy5pbnNlcnQoIGVsZW1zLCB0aGlzLmNlbGxzLmxlbmd0aCApO1xufTtcblxucHJvdG8ucHJlcGVuZCA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgdGhpcy5pbnNlcnQoIGVsZW1zLCAwICk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBjZWxsc1xuICogQHBhcmFtIHtbRWxlbWVudCwgQXJyYXksIE5vZGVMaXN0XX0gZWxlbXMgLSBFTGVtZW50cyB0byByZW1vdmVcbiAqL1xucHJvdG8ucmVtb3ZlID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICBsZXQgY2VsbHMgPSB0aGlzLmdldENlbGxzKCBlbGVtcyApO1xuICBpZiAoICFjZWxscyB8fCAhY2VsbHMubGVuZ3RoICkgcmV0dXJuO1xuXG4gIGxldCBtaW5DZWxsSW5kZXggPSB0aGlzLmNlbGxzLmxlbmd0aCAtIDE7XG4gIC8vIHJlbW92ZSBjZWxscyBmcm9tIGNvbGxlY3Rpb24gJiBET01cbiAgY2VsbHMuZm9yRWFjaCggKCBjZWxsICkgPT4ge1xuICAgIGNlbGwucmVtb3ZlKCk7XG4gICAgbGV0IGluZGV4ID0gdGhpcy5jZWxscy5pbmRleE9mKCBjZWxsICk7XG4gICAgbWluQ2VsbEluZGV4ID0gTWF0aC5taW4oIGluZGV4LCBtaW5DZWxsSW5kZXggKTtcbiAgICB1dGlscy5yZW1vdmVGcm9tKCB0aGlzLmNlbGxzLCBjZWxsICk7XG4gIH0gKTtcblxuICB0aGlzLmNlbGxDaGFuZ2UoIG1pbkNlbGxJbmRleCApO1xuICB0aGlzLnBvc2l0aW9uU2xpZGVyQXRTZWxlY3RlZCgpO1xufTtcblxuLyoqXG4gKiBsb2dpYyB0byBiZSBydW4gYWZ0ZXIgYSBjZWxsJ3Mgc2l6ZSBjaGFuZ2VzXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW0gLSBjZWxsJ3MgZWxlbWVudFxuICovXG5wcm90by5jZWxsU2l6ZUNoYW5nZSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICBsZXQgY2VsbCA9IHRoaXMuZ2V0Q2VsbCggZWxlbSApO1xuICBpZiAoICFjZWxsICkgcmV0dXJuO1xuXG4gIGNlbGwuZ2V0U2l6ZSgpO1xuXG4gIGxldCBpbmRleCA9IHRoaXMuY2VsbHMuaW5kZXhPZiggY2VsbCApO1xuICB0aGlzLmNlbGxDaGFuZ2UoIGluZGV4ICk7XG4gIC8vIGRvIG5vdCBwb3NpdGlvbiBzbGlkZXIgYWZ0ZXIgbGF6eSBsb2FkXG59O1xuXG4vKipcbiAqIGxvZ2ljIGFueSB0aW1lIGEgY2VsbCBpcyBjaGFuZ2VkOiBhZGRlZCwgcmVtb3ZlZCwgb3Igc2l6ZSBjaGFuZ2VkXG4gKiBAcGFyYW0ge0ludGVnZXJ9IGNoYW5nZWRDZWxsSW5kZXggLSBpbmRleCBvZiB0aGUgY2hhbmdlZCBjZWxsLCBvcHRpb25hbFxuICovXG5wcm90by5jZWxsQ2hhbmdlID0gZnVuY3Rpb24oIGNoYW5nZWRDZWxsSW5kZXggKSB7XG4gIGxldCBwcmV2U2VsZWN0ZWRFbGVtID0gdGhpcy5zZWxlY3RlZEVsZW1lbnQ7XG4gIHRoaXMuX3Bvc2l0aW9uQ2VsbHMoIGNoYW5nZWRDZWxsSW5kZXggKTtcbiAgdGhpcy5fdXBkYXRlV3JhcFNoaWZ0Q2VsbHMoKTtcbiAgdGhpcy5zZXRHYWxsZXJ5U2l6ZSgpO1xuICAvLyB1cGRhdGUgc2VsZWN0ZWRJbmRleCwgdHJ5IHRvIG1haW50YWluIHBvc2l0aW9uICYgc2VsZWN0IHByZXZpb3VzIHNlbGVjdGVkIGVsZW1lbnRcbiAgbGV0IGNlbGwgPSB0aGlzLmdldENlbGwoIHByZXZTZWxlY3RlZEVsZW0gKTtcbiAgaWYgKCBjZWxsICkgdGhpcy5zZWxlY3RlZEluZGV4ID0gdGhpcy5nZXRDZWxsU2xpZGVJbmRleCggY2VsbCApO1xuICB0aGlzLnNlbGVjdGVkSW5kZXggPSBNYXRoLm1pbiggdGhpcy5zbGlkZXMubGVuZ3RoIC0gMSwgdGhpcy5zZWxlY3RlZEluZGV4ICk7XG5cbiAgdGhpcy5lbWl0RXZlbnQoICdjZWxsQ2hhbmdlJywgWyBjaGFuZ2VkQ2VsbEluZGV4IF0gKTtcbiAgLy8gcG9zaXRpb24gc2xpZGVyXG4gIHRoaXMuc2VsZWN0KCB0aGlzLnNlbGVjdGVkSW5kZXggKTtcbn07XG5cbi8vIC0tLS0tICAtLS0tLSAvL1xuXG5yZXR1cm4gRmxpY2tpdHk7XG5cbn0gKSApO1xuIiwiLy8gYW5pbWF0ZVxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCByZXF1aXJlKCdmaXp6eS11aS11dGlscycpICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuRmxpY2tpdHkgPSB3aW5kb3cuRmxpY2tpdHkgfHwge307XG4gICAgd2luZG93LkZsaWNraXR5LmFuaW1hdGVQcm90b3R5cGUgPSBmYWN0b3J5KCB3aW5kb3cuZml6enlVSVV0aWxzICk7XG4gIH1cblxufSggdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uIGZhY3RvcnkoIHV0aWxzICkge1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBhbmltYXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbmxldCBwcm90byA9IHt9O1xuXG5wcm90by5zdGFydEFuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIHRoaXMuaXNBbmltYXRpbmcgKSByZXR1cm47XG5cbiAgdGhpcy5pc0FuaW1hdGluZyA9IHRydWU7XG4gIHRoaXMucmVzdGluZ0ZyYW1lcyA9IDA7XG4gIHRoaXMuYW5pbWF0ZSgpO1xufTtcblxucHJvdG8uYW5pbWF0ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmFwcGx5RHJhZ0ZvcmNlKCk7XG4gIHRoaXMuYXBwbHlTZWxlY3RlZEF0dHJhY3Rpb24oKTtcblxuICBsZXQgcHJldmlvdXNYID0gdGhpcy54O1xuXG4gIHRoaXMuaW50ZWdyYXRlUGh5c2ljcygpO1xuICB0aGlzLnBvc2l0aW9uU2xpZGVyKCk7XG4gIHRoaXMuc2V0dGxlKCBwcmV2aW91c1ggKTtcbiAgLy8gYW5pbWF0ZSBuZXh0IGZyYW1lXG4gIGlmICggdGhpcy5pc0FuaW1hdGluZyApIHJlcXVlc3RBbmltYXRpb25GcmFtZSggKCkgPT4gdGhpcy5hbmltYXRlKCkgKTtcbn07XG5cbnByb3RvLnBvc2l0aW9uU2xpZGVyID0gZnVuY3Rpb24oKSB7XG4gIGxldCB4ID0gdGhpcy54O1xuICAvLyB3cmFwIHBvc2l0aW9uIGFyb3VuZFxuICBpZiAoIHRoaXMuaXNXcmFwcGluZyApIHtcbiAgICB4ID0gdXRpbHMubW9kdWxvKCB4LCB0aGlzLnNsaWRlYWJsZVdpZHRoICkgLSB0aGlzLnNsaWRlYWJsZVdpZHRoO1xuICAgIHRoaXMuc2hpZnRXcmFwQ2VsbHMoIHggKTtcbiAgfVxuXG4gIHRoaXMuc2V0VHJhbnNsYXRlWCggeCwgdGhpcy5pc0FuaW1hdGluZyApO1xuICB0aGlzLmRpc3BhdGNoU2Nyb2xsRXZlbnQoKTtcbn07XG5cbnByb3RvLnNldFRyYW5zbGF0ZVggPSBmdW5jdGlvbiggeCwgaXMzZCApIHtcbiAgeCArPSB0aGlzLmN1cnNvclBvc2l0aW9uO1xuICAvLyByZXZlcnNlIGlmIHJpZ2h0LXRvLWxlZnQgYW5kIHVzaW5nIHRyYW5zZm9ybVxuICBpZiAoIHRoaXMub3B0aW9ucy5yaWdodFRvTGVmdCApIHggPSAteDtcbiAgbGV0IHRyYW5zbGF0ZVggPSB0aGlzLmdldFBvc2l0aW9uVmFsdWUoIHggKTtcbiAgLy8gdXNlIDNEIHRyYW5zZm9ybXMgZm9yIGhhcmR3YXJlIGFjY2VsZXJhdGlvbiBvbiBpT1NcbiAgLy8gYnV0IHVzZSAyRCB3aGVuIHNldHRsZWQsIGZvciBiZXR0ZXIgZm9udC1yZW5kZXJpbmdcbiAgdGhpcy5zbGlkZXIuc3R5bGUudHJhbnNmb3JtID0gaXMzZCA/XG4gICAgYHRyYW5zbGF0ZTNkKCR7dHJhbnNsYXRlWH0sMCwwKWAgOiBgdHJhbnNsYXRlWCgke3RyYW5zbGF0ZVh9KWA7XG59O1xuXG5wcm90by5kaXNwYXRjaFNjcm9sbEV2ZW50ID0gZnVuY3Rpb24oKSB7XG4gIGxldCBmaXJzdFNsaWRlID0gdGhpcy5zbGlkZXNbMF07XG4gIGlmICggIWZpcnN0U2xpZGUgKSByZXR1cm47XG5cbiAgbGV0IHBvc2l0aW9uWCA9IC10aGlzLnggLSBmaXJzdFNsaWRlLnRhcmdldDtcbiAgbGV0IHByb2dyZXNzID0gcG9zaXRpb25YIC8gdGhpcy5zbGlkZXNXaWR0aDtcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KCAnc2Nyb2xsJywgbnVsbCwgWyBwcm9ncmVzcywgcG9zaXRpb25YIF0gKTtcbn07XG5cbnByb3RvLnBvc2l0aW9uU2xpZGVyQXRTZWxlY3RlZCA9IGZ1bmN0aW9uKCkge1xuICBpZiAoICF0aGlzLmNlbGxzLmxlbmd0aCApIHJldHVybjtcblxuICB0aGlzLnggPSAtdGhpcy5zZWxlY3RlZFNsaWRlLnRhcmdldDtcbiAgdGhpcy52ZWxvY2l0eSA9IDA7IC8vIHN0b3Agd29iYmxlXG4gIHRoaXMucG9zaXRpb25TbGlkZXIoKTtcbn07XG5cbnByb3RvLmdldFBvc2l0aW9uVmFsdWUgPSBmdW5jdGlvbiggcG9zaXRpb24gKSB7XG4gIGlmICggdGhpcy5vcHRpb25zLnBlcmNlbnRQb3NpdGlvbiApIHtcbiAgICAvLyBwZXJjZW50IHBvc2l0aW9uLCByb3VuZCB0byAyIGRpZ2l0cywgbGlrZSAxMi4zNCVcbiAgICByZXR1cm4gKCBNYXRoLnJvdW5kKCAoIHBvc2l0aW9uIC8gdGhpcy5zaXplLmlubmVyV2lkdGggKSAqIDEwMDAwICkgKiAwLjAxICkgKyAnJSc7XG4gIH0gZWxzZSB7XG4gICAgLy8gcGl4ZWwgcG9zaXRpb25pbmdcbiAgICByZXR1cm4gTWF0aC5yb3VuZCggcG9zaXRpb24gKSArICdweCc7XG4gIH1cbn07XG5cbnByb3RvLnNldHRsZSA9IGZ1bmN0aW9uKCBwcmV2aW91c1ggKSB7XG4gIC8vIGtlZXAgdHJhY2sgb2YgZnJhbWVzIHdoZXJlIHggaGFzbid0IG1vdmVkXG4gIGxldCBpc1Jlc3RpbmcgPSAhdGhpcy5pc1BvaW50ZXJEb3duICYmXG4gICAgICBNYXRoLnJvdW5kKCB0aGlzLnggKiAxMDAgKSA9PT0gTWF0aC5yb3VuZCggcHJldmlvdXNYICogMTAwICk7XG4gIGlmICggaXNSZXN0aW5nICkgdGhpcy5yZXN0aW5nRnJhbWVzKys7XG4gIC8vIHN0b3AgYW5pbWF0aW5nIGlmIHJlc3RpbmcgZm9yIDMgb3IgbW9yZSBmcmFtZXNcbiAgaWYgKCB0aGlzLnJlc3RpbmdGcmFtZXMgPiAyICkge1xuICAgIHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTtcbiAgICBkZWxldGUgdGhpcy5pc0ZyZWVTY3JvbGxpbmc7XG4gICAgLy8gcmVuZGVyIHBvc2l0aW9uIHdpdGggdHJhbnNsYXRlWCB3aGVuIHNldHRsZWRcbiAgICB0aGlzLnBvc2l0aW9uU2xpZGVyKCk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KCAnc2V0dGxlJywgbnVsbCwgWyB0aGlzLnNlbGVjdGVkSW5kZXggXSApO1xuICB9XG59O1xuXG5wcm90by5zaGlmdFdyYXBDZWxscyA9IGZ1bmN0aW9uKCB4ICkge1xuICAvLyBzaGlmdCBiZWZvcmUgY2VsbHNcbiAgbGV0IGJlZm9yZUdhcCA9IHRoaXMuY3Vyc29yUG9zaXRpb24gKyB4O1xuICB0aGlzLl9zaGlmdENlbGxzKCB0aGlzLmJlZm9yZVNoaWZ0Q2VsbHMsIGJlZm9yZUdhcCwgLTEgKTtcbiAgLy8gc2hpZnQgYWZ0ZXIgY2VsbHNcbiAgbGV0IGFmdGVyR2FwID0gdGhpcy5zaXplLmlubmVyV2lkdGggLSAoIHggKyB0aGlzLnNsaWRlYWJsZVdpZHRoICsgdGhpcy5jdXJzb3JQb3NpdGlvbiApO1xuICB0aGlzLl9zaGlmdENlbGxzKCB0aGlzLmFmdGVyU2hpZnRDZWxscywgYWZ0ZXJHYXAsIDEgKTtcbn07XG5cbnByb3RvLl9zaGlmdENlbGxzID0gZnVuY3Rpb24oIGNlbGxzLCBnYXAsIHNoaWZ0ICkge1xuICBjZWxscy5mb3JFYWNoKCAoIGNlbGwgKSA9PiB7XG4gICAgbGV0IGNlbGxTaGlmdCA9IGdhcCA+IDAgPyBzaGlmdCA6IDA7XG4gICAgdGhpcy5fd3JhcFNoaWZ0Q2VsbCggY2VsbCwgY2VsbFNoaWZ0ICk7XG4gICAgZ2FwIC09IGNlbGwuc2l6ZS5vdXRlcldpZHRoO1xuICB9ICk7XG59O1xuXG5wcm90by5fdW5zaGlmdENlbGxzID0gZnVuY3Rpb24oIGNlbGxzICkge1xuICBpZiAoICFjZWxscyB8fCAhY2VsbHMubGVuZ3RoICkgcmV0dXJuO1xuXG4gIGNlbGxzLmZvckVhY2goICggY2VsbCApID0+IHRoaXMuX3dyYXBTaGlmdENlbGwoIGNlbGwsIDAgKSApO1xufTtcblxuLy8gQHBhcmFtIHtJbnRlZ2VyfSBzaGlmdCAtIDAsIDEsIG9yIC0xXG5wcm90by5fd3JhcFNoaWZ0Q2VsbCA9IGZ1bmN0aW9uKCBjZWxsLCBzaGlmdCApIHtcbiAgdGhpcy5fcmVuZGVyQ2VsbFBvc2l0aW9uKCBjZWxsLCBjZWxsLnggKyB0aGlzLnNsaWRlYWJsZVdpZHRoICogc2hpZnQgKTtcbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHBoeXNpY3MgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxucHJvdG8uaW50ZWdyYXRlUGh5c2ljcyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnggKz0gdGhpcy52ZWxvY2l0eTtcbiAgdGhpcy52ZWxvY2l0eSAqPSB0aGlzLmdldEZyaWN0aW9uRmFjdG9yKCk7XG59O1xuXG5wcm90by5hcHBseUZvcmNlID0gZnVuY3Rpb24oIGZvcmNlICkge1xuICB0aGlzLnZlbG9jaXR5ICs9IGZvcmNlO1xufTtcblxucHJvdG8uZ2V0RnJpY3Rpb25GYWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIDEgLSB0aGlzLm9wdGlvbnNbIHRoaXMuaXNGcmVlU2Nyb2xsaW5nID8gJ2ZyZWVTY3JvbGxGcmljdGlvbicgOiAnZnJpY3Rpb24nIF07XG59O1xuXG5wcm90by5nZXRSZXN0aW5nUG9zaXRpb24gPSBmdW5jdGlvbigpIHtcbiAgLy8gbXkgdGhhbmtzIHRvIFN0ZXZlbiBXaXR0ZW5zLCB3aG8gc2ltcGxpZmllZCB0aGlzIG1hdGggZ3JlYXRseVxuICByZXR1cm4gdGhpcy54ICsgdGhpcy52ZWxvY2l0eSAvICggMSAtIHRoaXMuZ2V0RnJpY3Rpb25GYWN0b3IoKSApO1xufTtcblxucHJvdG8uYXBwbHlEcmFnRm9yY2UgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCAhdGhpcy5pc0RyYWdnYWJsZSB8fCAhdGhpcy5pc1BvaW50ZXJEb3duICkgcmV0dXJuO1xuXG4gIC8vIGNoYW5nZSB0aGUgcG9zaXRpb24gdG8gZHJhZyBwb3NpdGlvbiBieSBhcHBseWluZyBmb3JjZVxuICBsZXQgZHJhZ1ZlbG9jaXR5ID0gdGhpcy5kcmFnWCAtIHRoaXMueDtcbiAgbGV0IGRyYWdGb3JjZSA9IGRyYWdWZWxvY2l0eSAtIHRoaXMudmVsb2NpdHk7XG4gIHRoaXMuYXBwbHlGb3JjZSggZHJhZ0ZvcmNlICk7XG59O1xuXG5wcm90by5hcHBseVNlbGVjdGVkQXR0cmFjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAvLyBkbyBub3QgYXR0cmFjdCBpZiBwb2ludGVyIGRvd24gb3Igbm8gc2xpZGVzXG4gIGxldCBkcmFnRG93biA9IHRoaXMuaXNEcmFnZ2FibGUgJiYgdGhpcy5pc1BvaW50ZXJEb3duO1xuICBpZiAoIGRyYWdEb3duIHx8IHRoaXMuaXNGcmVlU2Nyb2xsaW5nIHx8ICF0aGlzLnNsaWRlcy5sZW5ndGggKSByZXR1cm47XG5cbiAgbGV0IGRpc3RhbmNlID0gdGhpcy5zZWxlY3RlZFNsaWRlLnRhcmdldCAqIC0xIC0gdGhpcy54O1xuICBsZXQgZm9yY2UgPSBkaXN0YW5jZSAqIHRoaXMub3B0aW9ucy5zZWxlY3RlZEF0dHJhY3Rpb247XG4gIHRoaXMuYXBwbHlGb3JjZSggZm9yY2UgKTtcbn07XG5cbnJldHVybiBwcm90bztcblxufSApICk7XG4iLCIvLyBGbGlja2l0eS5DZWxsXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoIHJlcXVpcmUoJ2dldC1zaXplJykgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5GbGlja2l0eSA9IHdpbmRvdy5GbGlja2l0eSB8fCB7fTtcbiAgICB3aW5kb3cuRmxpY2tpdHkuQ2VsbCA9IGZhY3RvcnkoIHdpbmRvdy5nZXRTaXplICk7XG4gIH1cblxufSggdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uIGZhY3RvcnkoIGdldFNpemUgKSB7XG5cbmNvbnN0IGNlbGxDbGFzc05hbWUgPSAnZmxpY2tpdHktY2VsbCc7XG5cbmZ1bmN0aW9uIENlbGwoIGVsZW0gKSB7XG4gIHRoaXMuZWxlbWVudCA9IGVsZW07XG4gIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCBjZWxsQ2xhc3NOYW1lICk7XG5cbiAgdGhpcy54ID0gMDtcbiAgdGhpcy51bnNlbGVjdCgpO1xufVxuXG5sZXQgcHJvdG8gPSBDZWxsLnByb3RvdHlwZTtcblxucHJvdG8uZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAvLyByZXNldCBzdHlsZVxuICB0aGlzLnVuc2VsZWN0KCk7XG4gIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCBjZWxsQ2xhc3NOYW1lICk7XG4gIHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcbn07XG5cbnByb3RvLmdldFNpemUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5zaXplID0gZ2V0U2l6ZSggdGhpcy5lbGVtZW50ICk7XG59O1xuXG5wcm90by5zZWxlY3QgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2lzLXNlbGVjdGVkJyk7XG4gIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyk7XG59O1xuXG5wcm90by51bnNlbGVjdCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtc2VsZWN0ZWQnKTtcbiAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSggJ2FyaWEtaGlkZGVuJywgJ3RydWUnICk7XG59O1xuXG5wcm90by5yZW1vdmUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbGVtZW50LnJlbW92ZSgpO1xufTtcblxucmV0dXJuIENlbGw7XG5cbn0gKSApO1xuIiwiLy8gRmxpY2tpdHkgbWFpblxuLyogZXNsaW50LWRpc2FibGUgbWF4LXBhcmFtcyAqL1xuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgICB3aW5kb3csXG4gICAgICAgIHJlcXVpcmUoJ2V2LWVtaXR0ZXInKSxcbiAgICAgICAgcmVxdWlyZSgnZ2V0LXNpemUnKSxcbiAgICAgICAgcmVxdWlyZSgnZml6enktdWktdXRpbHMnKSxcbiAgICAgICAgcmVxdWlyZSgnLi9jZWxsJyksXG4gICAgICAgIHJlcXVpcmUoJy4vc2xpZGUnKSxcbiAgICAgICAgcmVxdWlyZSgnLi9hbmltYXRlJyksXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIGxldCBfRmxpY2tpdHkgPSB3aW5kb3cuRmxpY2tpdHk7XG5cbiAgICB3aW5kb3cuRmxpY2tpdHkgPSBmYWN0b3J5KFxuICAgICAgICB3aW5kb3csXG4gICAgICAgIHdpbmRvdy5FdkVtaXR0ZXIsXG4gICAgICAgIHdpbmRvdy5nZXRTaXplLFxuICAgICAgICB3aW5kb3cuZml6enlVSVV0aWxzLFxuICAgICAgICBfRmxpY2tpdHkuQ2VsbCxcbiAgICAgICAgX0ZsaWNraXR5LlNsaWRlLFxuICAgICAgICBfRmxpY2tpdHkuYW5pbWF0ZVByb3RvdHlwZSxcbiAgICApO1xuICB9XG5cbn0oIHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0aGlzLFxuICAgIGZ1bmN0aW9uIGZhY3RvcnkoIHdpbmRvdywgRXZFbWl0dGVyLCBnZXRTaXplLCB1dGlscywgQ2VsbCwgU2xpZGUsIGFuaW1hdGVQcm90b3R5cGUgKSB7XG4vKiBlc2xpbnQtZW5hYmxlIG1heC1wYXJhbXMgKi9cblxuLy8gdmFyc1xuY29uc3QgeyBnZXRDb21wdXRlZFN0eWxlLCBjb25zb2xlIH0gPSB3aW5kb3c7XG5sZXQgeyBqUXVlcnkgfSA9IHdpbmRvdztcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRmxpY2tpdHkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLy8gZ2xvYmFsbHkgdW5pcXVlIGlkZW50aWZpZXJzXG5sZXQgR1VJRCA9IDA7XG4vLyBpbnRlcm5hbCBzdG9yZSBvZiBhbGwgRmxpY2tpdHkgaW50YW5jZXNcbmxldCBpbnN0YW5jZXMgPSB7fTtcblxuZnVuY3Rpb24gRmxpY2tpdHkoIGVsZW1lbnQsIG9wdGlvbnMgKSB7XG4gIGxldCBxdWVyeUVsZW1lbnQgPSB1dGlscy5nZXRRdWVyeUVsZW1lbnQoIGVsZW1lbnQgKTtcbiAgaWYgKCAhcXVlcnlFbGVtZW50ICkge1xuICAgIGlmICggY29uc29sZSApIGNvbnNvbGUuZXJyb3IoYEJhZCBlbGVtZW50IGZvciBGbGlja2l0eTogJHtxdWVyeUVsZW1lbnQgfHwgZWxlbWVudH1gKTtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5lbGVtZW50ID0gcXVlcnlFbGVtZW50O1xuICAvLyBkbyBub3QgaW5pdGlhbGl6ZSB0d2ljZSBvbiBzYW1lIGVsZW1lbnRcbiAgaWYgKCB0aGlzLmVsZW1lbnQuZmxpY2tpdHlHVUlEICkge1xuICAgIGxldCBpbnN0YW5jZSA9IGluc3RhbmNlc1sgdGhpcy5lbGVtZW50LmZsaWNraXR5R1VJRCBdO1xuICAgIGlmICggaW5zdGFuY2UgKSBpbnN0YW5jZS5vcHRpb24oIG9wdGlvbnMgKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cblxuICAvLyBhZGQgalF1ZXJ5XG4gIGlmICggalF1ZXJ5ICkge1xuICAgIHRoaXMuJGVsZW1lbnQgPSBqUXVlcnkoIHRoaXMuZWxlbWVudCApO1xuICB9XG4gIC8vIG9wdGlvbnNcbiAgdGhpcy5vcHRpb25zID0geyAuLi50aGlzLmNvbnN0cnVjdG9yLmRlZmF1bHRzIH07XG4gIHRoaXMub3B0aW9uKCBvcHRpb25zICk7XG5cbiAgLy8ga2ljayB0aGluZ3Mgb2ZmXG4gIHRoaXMuX2NyZWF0ZSgpO1xufVxuXG5GbGlja2l0eS5kZWZhdWx0cyA9IHtcbiAgYWNjZXNzaWJpbGl0eTogdHJ1ZSxcbiAgLy8gYWRhcHRpdmVIZWlnaHQ6IGZhbHNlLFxuICBjZWxsQWxpZ246ICdjZW50ZXInLFxuICAvLyBjZWxsU2VsZWN0b3I6IHVuZGVmaW5lZCxcbiAgLy8gY29udGFpbjogZmFsc2UsXG4gIGZyZWVTY3JvbGxGcmljdGlvbjogMC4wNzUsIC8vIGZyaWN0aW9uIHdoZW4gZnJlZS1zY3JvbGxpbmdcbiAgZnJpY3Rpb246IDAuMjgsIC8vIGZyaWN0aW9uIHdoZW4gc2VsZWN0aW5nXG4gIG5hbWVzcGFjZUpRdWVyeUV2ZW50czogdHJ1ZSxcbiAgLy8gaW5pdGlhbEluZGV4OiAwLFxuICBwZXJjZW50UG9zaXRpb246IHRydWUsXG4gIHJlc2l6ZTogdHJ1ZSxcbiAgc2VsZWN0ZWRBdHRyYWN0aW9uOiAwLjAyNSxcbiAgc2V0R2FsbGVyeVNpemU6IHRydWUsXG4gIC8vIHdhdGNoQ1NTOiBmYWxzZSxcbiAgLy8gd3JhcEFyb3VuZDogZmFsc2Vcbn07XG5cbi8vIGhhc2ggb2YgbWV0aG9kcyB0cmlnZ2VyZWQgb24gX2NyZWF0ZSgpXG5GbGlja2l0eS5jcmVhdGUgPSB7fTtcblxubGV0IHByb3RvID0gRmxpY2tpdHkucHJvdG90eXBlO1xuLy8gaW5oZXJpdCBFdmVudEVtaXR0ZXJcbk9iamVjdC5hc3NpZ24oIHByb3RvLCBFdkVtaXR0ZXIucHJvdG90eXBlICk7XG5cbnByb3RvLl9jcmVhdGUgPSBmdW5jdGlvbigpIHtcbiAgbGV0IHsgcmVzaXplLCB3YXRjaENTUywgcmlnaHRUb0xlZnQgfSA9IHRoaXMub3B0aW9ucztcbiAgLy8gYWRkIGlkIGZvciBGbGlja2l0eS5kYXRhXG4gIGxldCBpZCA9IHRoaXMuZ3VpZCA9ICsrR1VJRDtcbiAgdGhpcy5lbGVtZW50LmZsaWNraXR5R1VJRCA9IGlkOyAvLyBleHBhbmRvXG4gIGluc3RhbmNlc1sgaWQgXSA9IHRoaXM7IC8vIGFzc29jaWF0ZSB2aWEgaWRcbiAgLy8gaW5pdGlhbCBwcm9wZXJ0aWVzXG4gIHRoaXMuc2VsZWN0ZWRJbmRleCA9IDA7XG4gIC8vIGhvdyBtYW55IGZyYW1lcyBzbGlkZXIgaGFzIGJlZW4gaW4gc2FtZSBwb3NpdGlvblxuICB0aGlzLnJlc3RpbmdGcmFtZXMgPSAwO1xuICAvLyBpbml0aWFsIHBoeXNpY3MgcHJvcGVydGllc1xuICB0aGlzLnggPSAwO1xuICB0aGlzLnZlbG9jaXR5ID0gMDtcbiAgdGhpcy5iZWdpbk1hcmdpbiA9IHJpZ2h0VG9MZWZ0ID8gJ21hcmdpblJpZ2h0JyA6ICdtYXJnaW5MZWZ0JztcbiAgdGhpcy5lbmRNYXJnaW4gPSByaWdodFRvTGVmdCA/ICdtYXJnaW5MZWZ0JyA6ICdtYXJnaW5SaWdodCc7XG4gIC8vIGNyZWF0ZSB2aWV3cG9ydCAmIHNsaWRlclxuICB0aGlzLnZpZXdwb3J0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHRoaXMudmlld3BvcnQuY2xhc3NOYW1lID0gJ2ZsaWNraXR5LXZpZXdwb3J0JztcbiAgdGhpcy5fY3JlYXRlU2xpZGVyKCk7XG4gIC8vIHVzZWQgZm9yIGtleWJvYXJkIG5hdmlnYXRpb25cbiAgdGhpcy5mb2N1c2FibGVFbGVtcyA9IFsgdGhpcy5lbGVtZW50IF07XG5cbiAgaWYgKCByZXNpemUgfHwgd2F0Y2hDU1MgKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdyZXNpemUnLCB0aGlzICk7XG4gIH1cblxuICAvLyBhZGQgbGlzdGVuZXJzIGZyb20gb24gb3B0aW9uXG4gIGZvciAoIGxldCBldmVudE5hbWUgaW4gdGhpcy5vcHRpb25zLm9uICkge1xuICAgIGxldCBsaXN0ZW5lciA9IHRoaXMub3B0aW9ucy5vblsgZXZlbnROYW1lIF07XG4gICAgdGhpcy5vbiggZXZlbnROYW1lLCBsaXN0ZW5lciApO1xuICB9XG5cbiAgZm9yICggbGV0IG1ldGhvZCBpbiBGbGlja2l0eS5jcmVhdGUgKSB7XG4gICAgRmxpY2tpdHkuY3JlYXRlWyBtZXRob2QgXS5jYWxsKCB0aGlzICk7XG4gIH1cblxuICBpZiAoIHdhdGNoQ1NTICkge1xuICAgIHRoaXMud2F0Y2hDU1MoKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmFjdGl2YXRlKCk7XG4gIH1cbn07XG5cbi8qKlxuICogc2V0IG9wdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9ucyB0byBleHRlbmRcbiAqL1xucHJvdG8ub3B0aW9uID0gZnVuY3Rpb24oIG9wdHMgKSB7XG4gIE9iamVjdC5hc3NpZ24oIHRoaXMub3B0aW9ucywgb3B0cyApO1xufTtcblxucHJvdG8uYWN0aXZhdGUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCB0aGlzLmlzQWN0aXZlICkgcmV0dXJuO1xuXG4gIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZmxpY2tpdHktZW5hYmxlZCcpO1xuICBpZiAoIHRoaXMub3B0aW9ucy5yaWdodFRvTGVmdCApIHtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZmxpY2tpdHktcnRsJyk7XG4gIH1cblxuICB0aGlzLmdldFNpemUoKTtcbiAgLy8gbW92ZSBpbml0aWFsIGNlbGwgZWxlbWVudHMgc28gdGhleSBjYW4gYmUgbG9hZGVkIGFzIGNlbGxzXG4gIGxldCBjZWxsRWxlbXMgPSB0aGlzLl9maWx0ZXJGaW5kQ2VsbEVsZW1lbnRzKCB0aGlzLmVsZW1lbnQuY2hpbGRyZW4gKTtcbiAgdGhpcy5zbGlkZXIuYXBwZW5kKCAuLi5jZWxsRWxlbXMgKTtcbiAgdGhpcy52aWV3cG9ydC5hcHBlbmQoIHRoaXMuc2xpZGVyICk7XG4gIHRoaXMuZWxlbWVudC5hcHBlbmQoIHRoaXMudmlld3BvcnQgKTtcbiAgLy8gZ2V0IGNlbGxzIGZyb20gY2hpbGRyZW5cbiAgdGhpcy5yZWxvYWRDZWxscygpO1xuXG4gIGlmICggdGhpcy5vcHRpb25zLmFjY2Vzc2liaWxpdHkgKSB7XG4gICAgLy8gYWxsb3cgZWxlbWVudCB0byBmb2N1c2FibGVcbiAgICB0aGlzLmVsZW1lbnQudGFiSW5kZXggPSAwO1xuICAgIC8vIGxpc3RlbiBmb3Iga2V5IHByZXNzZXNcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCB0aGlzICk7XG4gIH1cblxuICB0aGlzLmVtaXRFdmVudCgnYWN0aXZhdGUnKTtcbiAgdGhpcy5zZWxlY3RJbml0aWFsSW5kZXgoKTtcbiAgLy8gZmxhZyBmb3IgaW5pdGlhbCBhY3RpdmF0aW9uLCBmb3IgdXNpbmcgaW5pdGlhbEluZGV4XG4gIHRoaXMuaXNJbml0QWN0aXZhdGVkID0gdHJ1ZTtcbiAgLy8gcmVhZHkgZXZlbnQuICM0OTNcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KCdyZWFkeScpO1xufTtcblxuLy8gc2xpZGVyIHBvc2l0aW9ucyB0aGUgY2VsbHNcbnByb3RvLl9jcmVhdGVTbGlkZXIgPSBmdW5jdGlvbigpIHtcbiAgLy8gc2xpZGVyIGVsZW1lbnQgZG9lcyBhbGwgdGhlIHBvc2l0aW9uaW5nXG4gIGxldCBzbGlkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgc2xpZGVyLmNsYXNzTmFtZSA9ICdmbGlja2l0eS1zbGlkZXInO1xuICB0aGlzLnNsaWRlciA9IHNsaWRlcjtcbn07XG5cbnByb3RvLl9maWx0ZXJGaW5kQ2VsbEVsZW1lbnRzID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICByZXR1cm4gdXRpbHMuZmlsdGVyRmluZEVsZW1lbnRzKCBlbGVtcywgdGhpcy5vcHRpb25zLmNlbGxTZWxlY3RvciApO1xufTtcblxuLy8gZ29lcyB0aHJvdWdoIGFsbCBjaGlsZHJlblxucHJvdG8ucmVsb2FkQ2VsbHMgPSBmdW5jdGlvbigpIHtcbiAgLy8gY29sbGVjdGlvbiBvZiBpdGVtIGVsZW1lbnRzXG4gIHRoaXMuY2VsbHMgPSB0aGlzLl9tYWtlQ2VsbHMoIHRoaXMuc2xpZGVyLmNoaWxkcmVuICk7XG4gIHRoaXMucG9zaXRpb25DZWxscygpO1xuICB0aGlzLl91cGRhdGVXcmFwU2hpZnRDZWxscygpO1xuICB0aGlzLnNldEdhbGxlcnlTaXplKCk7XG59O1xuXG4vKipcbiAqIHR1cm4gZWxlbWVudHMgaW50byBGbGlja2l0eS5DZWxsc1xuICogQHBhcmFtIHtbQXJyYXksIE5vZGVMaXN0LCBIVE1MRWxlbWVudF19IGVsZW1zIC0gZWxlbWVudHMgdG8gbWFrZSBpbnRvIGNlbGxzXG4gKiBAcmV0dXJucyB7QXJyYXl9IGl0ZW1zIC0gY29sbGVjdGlvbiBvZiBuZXcgRmxpY2tpdHkgQ2VsbHNcbiAqL1xucHJvdG8uX21ha2VDZWxscyA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgbGV0IGNlbGxFbGVtcyA9IHRoaXMuX2ZpbHRlckZpbmRDZWxsRWxlbWVudHMoIGVsZW1zICk7XG5cbiAgLy8gY3JlYXRlIG5ldyBDZWxscyBmb3IgY29sbGVjdGlvblxuICByZXR1cm4gY2VsbEVsZW1zLm1hcCggKCBjZWxsRWxlbSApID0+IG5ldyBDZWxsKCBjZWxsRWxlbSApICk7XG59O1xuXG5wcm90by5nZXRMYXN0Q2VsbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5jZWxsc1sgdGhpcy5jZWxscy5sZW5ndGggLSAxIF07XG59O1xuXG5wcm90by5nZXRMYXN0U2xpZGUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuc2xpZGVzWyB0aGlzLnNsaWRlcy5sZW5ndGggLSAxIF07XG59O1xuXG4vLyBwb3NpdGlvbnMgYWxsIGNlbGxzXG5wcm90by5wb3NpdGlvbkNlbGxzID0gZnVuY3Rpb24oKSB7XG4gIC8vIHNpemUgYWxsIGNlbGxzXG4gIHRoaXMuX3NpemVDZWxscyggdGhpcy5jZWxscyApO1xuICAvLyBwb3NpdGlvbiBhbGwgY2VsbHNcbiAgdGhpcy5fcG9zaXRpb25DZWxscyggMCApO1xufTtcblxuLyoqXG4gKiBwb3NpdGlvbiBjZXJ0YWluIGNlbGxzXG4gKiBAcGFyYW0ge0ludGVnZXJ9IGluZGV4IC0gd2hpY2ggY2VsbCB0byBzdGFydCB3aXRoXG4gKi9cbnByb3RvLl9wb3NpdGlvbkNlbGxzID0gZnVuY3Rpb24oIGluZGV4ICkge1xuICBpbmRleCA9IGluZGV4IHx8IDA7XG4gIC8vIGFsc28gbWVhc3VyZSBtYXhDZWxsSGVpZ2h0XG4gIC8vIHN0YXJ0IDAgaWYgcG9zaXRpb25pbmcgYWxsIGNlbGxzXG4gIHRoaXMubWF4Q2VsbEhlaWdodCA9IGluZGV4ID8gdGhpcy5tYXhDZWxsSGVpZ2h0IHx8IDAgOiAwO1xuICBsZXQgY2VsbFggPSAwO1xuICAvLyBnZXQgY2VsbFhcbiAgaWYgKCBpbmRleCA+IDAgKSB7XG4gICAgbGV0IHN0YXJ0Q2VsbCA9IHRoaXMuY2VsbHNbIGluZGV4IC0gMSBdO1xuICAgIGNlbGxYID0gc3RhcnRDZWxsLnggKyBzdGFydENlbGwuc2l6ZS5vdXRlcldpZHRoO1xuICB9XG5cbiAgdGhpcy5jZWxscy5zbGljZSggaW5kZXggKS5mb3JFYWNoKCAoIGNlbGwgKSA9PiB7XG4gICAgY2VsbC54ID0gY2VsbFg7XG4gICAgdGhpcy5fcmVuZGVyQ2VsbFBvc2l0aW9uKCBjZWxsLCBjZWxsWCApO1xuICAgIGNlbGxYICs9IGNlbGwuc2l6ZS5vdXRlcldpZHRoO1xuICAgIHRoaXMubWF4Q2VsbEhlaWdodCA9IE1hdGgubWF4KCBjZWxsLnNpemUub3V0ZXJIZWlnaHQsIHRoaXMubWF4Q2VsbEhlaWdodCApO1xuICB9ICk7XG4gIC8vIGtlZXAgdHJhY2sgb2YgY2VsbFggZm9yIHdyYXAtYXJvdW5kXG4gIHRoaXMuc2xpZGVhYmxlV2lkdGggPSBjZWxsWDtcbiAgLy8gc2xpZGVzXG4gIHRoaXMudXBkYXRlU2xpZGVzKCk7XG4gIC8vIGNvbnRhaW4gc2xpZGVzIHRhcmdldFxuICB0aGlzLl9jb250YWluU2xpZGVzKCk7XG4gIC8vIHVwZGF0ZSBzbGlkZXNXaWR0aFxuICB0aGlzLnNsaWRlc1dpZHRoID0gdGhpcy5jZWxscy5sZW5ndGggP1xuICAgIHRoaXMuZ2V0TGFzdFNsaWRlKCkudGFyZ2V0IC0gdGhpcy5zbGlkZXNbMF0udGFyZ2V0IDogMDtcbn07XG5cbnByb3RvLl9yZW5kZXJDZWxsUG9zaXRpb24gPSBmdW5jdGlvbiggY2VsbCwgeCApIHtcbiAgLy8gcmVuZGVyIHBvc2l0aW9uIG9mIGNlbGwgd2l0aCBpbiBzbGlkZXJcbiAgbGV0IHNpZGVPZmZzZXQgPSB0aGlzLm9wdGlvbnMucmlnaHRUb0xlZnQgPyAtMSA6IDE7XG4gIGxldCByZW5kZXJYID0geCAqIHNpZGVPZmZzZXQ7XG4gIGlmICggdGhpcy5vcHRpb25zLnBlcmNlbnRQb3NpdGlvbiApIHJlbmRlclggKj0gdGhpcy5zaXplLmlubmVyV2lkdGggLyBjZWxsLnNpemUud2lkdGg7XG4gIGxldCBwb3NpdGlvblZhbHVlID0gdGhpcy5nZXRQb3NpdGlvblZhbHVlKCByZW5kZXJYICk7XG4gIGNlbGwuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCggJHtwb3NpdGlvblZhbHVlfSApYDtcbn07XG5cbi8qKlxuICogY2VsbC5nZXRTaXplKCkgb24gbXVsdGlwbGUgY2VsbHNcbiAqIEBwYXJhbSB7QXJyYXl9IGNlbGxzIC0gY2VsbHMgdG8gc2l6ZVxuICovXG5wcm90by5fc2l6ZUNlbGxzID0gZnVuY3Rpb24oIGNlbGxzICkge1xuICBjZWxscy5mb3JFYWNoKCAoIGNlbGwgKSA9PiBjZWxsLmdldFNpemUoKSApO1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbnByb3RvLnVwZGF0ZVNsaWRlcyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnNsaWRlcyA9IFtdO1xuICBpZiAoICF0aGlzLmNlbGxzLmxlbmd0aCApIHJldHVybjtcblxuICBsZXQgeyBiZWdpbk1hcmdpbiwgZW5kTWFyZ2luIH0gPSB0aGlzO1xuICBsZXQgc2xpZGUgPSBuZXcgU2xpZGUoIGJlZ2luTWFyZ2luLCBlbmRNYXJnaW4sIHRoaXMuY2VsbEFsaWduICk7XG4gIHRoaXMuc2xpZGVzLnB1c2goIHNsaWRlICk7XG5cbiAgbGV0IGNhbkNlbGxGaXQgPSB0aGlzLl9nZXRDYW5DZWxsRml0KCk7XG5cbiAgdGhpcy5jZWxscy5mb3JFYWNoKCAoIGNlbGwsIGkgKSA9PiB7XG4gICAgLy8ganVzdCBhZGQgY2VsbCBpZiBmaXJzdCBjZWxsIGluIHNsaWRlXG4gICAgaWYgKCAhc2xpZGUuY2VsbHMubGVuZ3RoICkge1xuICAgICAgc2xpZGUuYWRkQ2VsbCggY2VsbCApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBzbGlkZVdpZHRoID0gKCBzbGlkZS5vdXRlcldpZHRoIC0gc2xpZGUuZmlyc3RNYXJnaW4gKSArXG4gICAgICAoIGNlbGwuc2l6ZS5vdXRlcldpZHRoIC0gY2VsbC5zaXplWyBlbmRNYXJnaW4gXSApO1xuXG4gICAgaWYgKCBjYW5DZWxsRml0KCBpLCBzbGlkZVdpZHRoICkgKSB7XG4gICAgICBzbGlkZS5hZGRDZWxsKCBjZWxsICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRvZXNuJ3QgZml0LCBuZXcgc2xpZGVcbiAgICAgIHNsaWRlLnVwZGF0ZVRhcmdldCgpO1xuXG4gICAgICBzbGlkZSA9IG5ldyBTbGlkZSggYmVnaW5NYXJnaW4sIGVuZE1hcmdpbiwgdGhpcy5jZWxsQWxpZ24gKTtcbiAgICAgIHRoaXMuc2xpZGVzLnB1c2goIHNsaWRlICk7XG4gICAgICBzbGlkZS5hZGRDZWxsKCBjZWxsICk7XG4gICAgfVxuICB9ICk7XG4gIC8vIGxhc3Qgc2xpZGVcbiAgc2xpZGUudXBkYXRlVGFyZ2V0KCk7XG4gIC8vIHVwZGF0ZSAuc2VsZWN0ZWRTbGlkZVxuICB0aGlzLnVwZGF0ZVNlbGVjdGVkU2xpZGUoKTtcbn07XG5cbnByb3RvLl9nZXRDYW5DZWxsRml0ID0gZnVuY3Rpb24oKSB7XG4gIGxldCB7IGdyb3VwQ2VsbHMgfSA9IHRoaXMub3B0aW9ucztcbiAgaWYgKCAhZ3JvdXBDZWxscyApIHJldHVybiAoKSA9PiBmYWxzZTtcblxuICBpZiAoIHR5cGVvZiBncm91cENlbGxzID09ICdudW1iZXInICkge1xuICAgIC8vIGdyb3VwIGJ5IG51bWJlci4gMyAtPiBbMCwxLDJdLCBbMyw0LDVdLCAuLi5cbiAgICBsZXQgbnVtYmVyID0gcGFyc2VJbnQoIGdyb3VwQ2VsbHMsIDEwICk7XG4gICAgcmV0dXJuICggaSApID0+ICggaSAlIG51bWJlciApICE9PSAwO1xuICB9XG4gIC8vIGRlZmF1bHQsIGdyb3VwIGJ5IHdpZHRoIG9mIHNsaWRlXG4gIGxldCBwZXJjZW50ID0gMTtcbiAgLy8gcGFyc2UgJzc1JVxuICBsZXQgcGVyY2VudE1hdGNoID0gdHlwZW9mIGdyb3VwQ2VsbHMgPT0gJ3N0cmluZycgJiYgZ3JvdXBDZWxscy5tYXRjaCggL14oXFxkKyklJC8gKTtcbiAgaWYgKCBwZXJjZW50TWF0Y2ggKSBwZXJjZW50ID0gcGFyc2VJbnQoIHBlcmNlbnRNYXRjaFsxXSwgMTAgKSAvIDEwMDtcbiAgbGV0IGdyb3VwV2lkdGggPSAoIHRoaXMuc2l6ZS5pbm5lcldpZHRoICsgMSApICogcGVyY2VudDtcbiAgcmV0dXJuICggaSwgc2xpZGVXaWR0aCApID0+IHNsaWRlV2lkdGggPD0gZ3JvdXBXaWR0aDtcbn07XG5cbi8vIGFsaWFzIF9pbml0IGZvciBqUXVlcnkgcGx1Z2luIC5mbGlja2l0eSgpXG5wcm90by5faW5pdCA9XG5wcm90by5yZXBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucG9zaXRpb25DZWxscygpO1xuICB0aGlzLnBvc2l0aW9uU2xpZGVyQXRTZWxlY3RlZCgpO1xufTtcblxucHJvdG8uZ2V0U2l6ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnNpemUgPSBnZXRTaXplKCB0aGlzLmVsZW1lbnQgKTtcbiAgdGhpcy5zZXRDZWxsQWxpZ24oKTtcbiAgdGhpcy5jdXJzb3JQb3NpdGlvbiA9IHRoaXMuc2l6ZS5pbm5lcldpZHRoICogdGhpcy5jZWxsQWxpZ247XG59O1xuXG5sZXQgY2VsbEFsaWduU2hvcnRoYW5kcyA9IHtcbiAgbGVmdDogMCxcbiAgY2VudGVyOiAwLjUsXG4gIHJpZ2h0OiAxLFxufTtcblxucHJvdG8uc2V0Q2VsbEFsaWduID0gZnVuY3Rpb24oKSB7XG4gIGxldCB7IGNlbGxBbGlnbiwgcmlnaHRUb0xlZnQgfSA9IHRoaXMub3B0aW9ucztcbiAgbGV0IHNob3J0aGFuZCA9IGNlbGxBbGlnblNob3J0aGFuZHNbIGNlbGxBbGlnbiBdO1xuICB0aGlzLmNlbGxBbGlnbiA9IHNob3J0aGFuZCAhPT0gdW5kZWZpbmVkID8gc2hvcnRoYW5kIDogY2VsbEFsaWduO1xuICBpZiAoIHJpZ2h0VG9MZWZ0ICkgdGhpcy5jZWxsQWxpZ24gPSAxIC0gdGhpcy5jZWxsQWxpZ247XG59O1xuXG5wcm90by5zZXRHYWxsZXJ5U2l6ZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoICF0aGlzLm9wdGlvbnMuc2V0R2FsbGVyeVNpemUgKSByZXR1cm47XG5cbiAgbGV0IGhlaWdodCA9IHRoaXMub3B0aW9ucy5hZGFwdGl2ZUhlaWdodCAmJiB0aGlzLnNlbGVjdGVkU2xpZGUgP1xuICAgIHRoaXMuc2VsZWN0ZWRTbGlkZS5oZWlnaHQgOiB0aGlzLm1heENlbGxIZWlnaHQ7XG4gIHRoaXMudmlld3BvcnQuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcbn07XG5cbnByb3RvLl91cGRhdGVXcmFwU2hpZnRDZWxscyA9IGZ1bmN0aW9uKCkge1xuICAvLyB1cGRhdGUgaXNXcmFwcGluZ1xuICB0aGlzLmlzV3JhcHBpbmcgPSB0aGlzLmdldElzV3JhcHBpbmcoKTtcbiAgLy8gb25seSBmb3Igd3JhcC1hcm91bmRcbiAgaWYgKCAhdGhpcy5pc1dyYXBwaW5nICkgcmV0dXJuO1xuXG4gIC8vIHVuc2hpZnQgcHJldmlvdXMgY2VsbHNcbiAgdGhpcy5fdW5zaGlmdENlbGxzKCB0aGlzLmJlZm9yZVNoaWZ0Q2VsbHMgKTtcbiAgdGhpcy5fdW5zaGlmdENlbGxzKCB0aGlzLmFmdGVyU2hpZnRDZWxscyApO1xuICAvLyBnZXQgYmVmb3JlIGNlbGxzXG4gIC8vIGluaXRpYWwgZ2FwXG4gIGxldCBiZWZvcmVHYXBYID0gdGhpcy5jdXJzb3JQb3NpdGlvbjtcbiAgbGV0IGxhc3RJbmRleCA9IHRoaXMuY2VsbHMubGVuZ3RoIC0gMTtcbiAgdGhpcy5iZWZvcmVTaGlmdENlbGxzID0gdGhpcy5fZ2V0R2FwQ2VsbHMoIGJlZm9yZUdhcFgsIGxhc3RJbmRleCwgLTEgKTtcbiAgLy8gZ2V0IGFmdGVyIGNlbGxzXG4gIC8vIGVuZGluZyBnYXAgYmV0d2VlbiBsYXN0IGNlbGwgYW5kIGVuZCBvZiBnYWxsZXJ5IHZpZXdwb3J0XG4gIGxldCBhZnRlckdhcFggPSB0aGlzLnNpemUuaW5uZXJXaWR0aCAtIHRoaXMuY3Vyc29yUG9zaXRpb247XG4gIC8vIHN0YXJ0IGNsb25pbmcgYXQgZmlyc3QgY2VsbCwgd29ya2luZyBmb3J3YXJkc1xuICB0aGlzLmFmdGVyU2hpZnRDZWxscyA9IHRoaXMuX2dldEdhcENlbGxzKCBhZnRlckdhcFgsIDAsIDEgKTtcbn07XG5cbnByb3RvLmdldElzV3JhcHBpbmcgPSBmdW5jdGlvbigpIHtcbiAgbGV0IHsgd3JhcEFyb3VuZCB9ID0gdGhpcy5vcHRpb25zO1xuICBpZiAoICF3cmFwQXJvdW5kIHx8IHRoaXMuc2xpZGVzLmxlbmd0aCA8IDIgKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKCB3cmFwQXJvdW5kICE9PSAnZmlsbCcgKSByZXR1cm4gdHJ1ZTtcbiAgLy8gY2hlY2sgdGhhdCBzbGlkZXMgY2FuIGZpdFxuXG4gIGxldCBnYXBXaWR0aCA9IHRoaXMuc2xpZGVhYmxlV2lkdGggLSB0aGlzLnNpemUuaW5uZXJXaWR0aDtcbiAgaWYgKCBnYXBXaWR0aCA+IHRoaXMuc2l6ZS5pbm5lcldpZHRoICkgcmV0dXJuIHRydWU7IC8vIGdhcCAqIDJ4IGJpZywgYWxsIGdvb2RcbiAgLy8gY2hlY2sgdGhhdCBjb250ZW50IHdpZHRoIC0gc2hpZnRpbmcgY2VsbCBpcyBiaWdnZXIgdGhhbiB2aWV3cG9ydCB3aWR0aFxuICBmb3IgKCBsZXQgY2VsbCBvZiB0aGlzLmNlbGxzICkge1xuICAgIGlmICggY2VsbC5zaXplLm91dGVyV2lkdGggPiBnYXBXaWR0aCApIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbnByb3RvLl9nZXRHYXBDZWxscyA9IGZ1bmN0aW9uKCBnYXBYLCBjZWxsSW5kZXgsIGluY3JlbWVudCApIHtcbiAgLy8ga2VlcCBhZGRpbmcgY2VsbHMgdW50aWwgdGhlIGNvdmVyIHRoZSBpbml0aWFsIGdhcFxuICBsZXQgY2VsbHMgPSBbXTtcbiAgd2hpbGUgKCBnYXBYID4gMCApIHtcbiAgICBsZXQgY2VsbCA9IHRoaXMuY2VsbHNbIGNlbGxJbmRleCBdO1xuICAgIGlmICggIWNlbGwgKSBicmVhaztcblxuICAgIGNlbGxzLnB1c2goIGNlbGwgKTtcbiAgICBjZWxsSW5kZXggKz0gaW5jcmVtZW50O1xuICAgIGdhcFggLT0gY2VsbC5zaXplLm91dGVyV2lkdGg7XG4gIH1cbiAgcmV0dXJuIGNlbGxzO1xufTtcblxuLy8gLS0tLS0gY29udGFpbiAmIHdyYXAgLS0tLS0gLy9cblxuLy8gY29udGFpbiBjZWxsIHRhcmdldHMgc28gbm8gZXhjZXNzIHNsaWRpbmdcbnByb3RvLl9jb250YWluU2xpZGVzID0gZnVuY3Rpb24oKSB7XG4gIGxldCBpc0NvbnRhaW5pbmcgPSB0aGlzLm9wdGlvbnMuY29udGFpbiAmJiAhdGhpcy5pc1dyYXBwaW5nICYmXG4gICAgICB0aGlzLmNlbGxzLmxlbmd0aDtcbiAgaWYgKCAhaXNDb250YWluaW5nICkgcmV0dXJuO1xuXG4gIGxldCBjb250ZW50V2lkdGggPSB0aGlzLnNsaWRlYWJsZVdpZHRoIC0gdGhpcy5nZXRMYXN0Q2VsbCgpLnNpemVbIHRoaXMuZW5kTWFyZ2luIF07XG4gIC8vIGNvbnRlbnQgaXMgbGVzcyB0aGFuIGdhbGxlcnkgc2l6ZVxuICBsZXQgaXNDb250ZW50U21hbGxlciA9IGNvbnRlbnRXaWR0aCA8IHRoaXMuc2l6ZS5pbm5lcldpZHRoO1xuICBpZiAoIGlzQ29udGVudFNtYWxsZXIgKSB7XG4gICAgLy8gYWxsIGNlbGxzIGZpdCBpbnNpZGUgZ2FsbGVyeVxuICAgIHRoaXMuc2xpZGVzLmZvckVhY2goICggc2xpZGUgKSA9PiB7XG4gICAgICBzbGlkZS50YXJnZXQgPSBjb250ZW50V2lkdGggKiB0aGlzLmNlbGxBbGlnbjtcbiAgICB9ICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gY29udGFpbiB0byBib3VuZHNcbiAgICBsZXQgYmVnaW5Cb3VuZCA9IHRoaXMuY3Vyc29yUG9zaXRpb24gKyB0aGlzLmNlbGxzWzBdLnNpemVbIHRoaXMuYmVnaW5NYXJnaW4gXTtcbiAgICBsZXQgZW5kQm91bmQgPSBjb250ZW50V2lkdGggLSB0aGlzLnNpemUuaW5uZXJXaWR0aCAqICggMSAtIHRoaXMuY2VsbEFsaWduICk7XG4gICAgdGhpcy5zbGlkZXMuZm9yRWFjaCggKCBzbGlkZSApID0+IHtcbiAgICAgIHNsaWRlLnRhcmdldCA9IE1hdGgubWF4KCBzbGlkZS50YXJnZXQsIGJlZ2luQm91bmQgKTtcbiAgICAgIHNsaWRlLnRhcmdldCA9IE1hdGgubWluKCBzbGlkZS50YXJnZXQsIGVuZEJvdW5kICk7XG4gICAgfSApO1xuICB9XG59O1xuXG4vLyAtLS0tLSBldmVudHMgLS0tLS0gLy9cblxuLyoqXG4gKiBlbWl0cyBldmVudHMgdmlhIGV2ZW50RW1pdHRlciBhbmQgalF1ZXJ5IGV2ZW50c1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgLSBuYW1lIG9mIGV2ZW50XG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIG9yaWdpbmFsIGV2ZW50XG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIC0gZXh0cmEgYXJndW1lbnRzXG4gKi9cbnByb3RvLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiggdHlwZSwgZXZlbnQsIGFyZ3MgKSB7XG4gIGxldCBlbWl0QXJncyA9IGV2ZW50ID8gWyBldmVudCBdLmNvbmNhdCggYXJncyApIDogYXJncztcbiAgdGhpcy5lbWl0RXZlbnQoIHR5cGUsIGVtaXRBcmdzICk7XG5cbiAgaWYgKCBqUXVlcnkgJiYgdGhpcy4kZWxlbWVudCApIHtcbiAgICAvLyBkZWZhdWx0IHRyaWdnZXIgd2l0aCB0eXBlIGlmIG5vIGV2ZW50XG4gICAgdHlwZSArPSB0aGlzLm9wdGlvbnMubmFtZXNwYWNlSlF1ZXJ5RXZlbnRzID8gJy5mbGlja2l0eScgOiAnJztcbiAgICBsZXQgJGV2ZW50ID0gdHlwZTtcbiAgICBpZiAoIGV2ZW50ICkge1xuICAgICAgLy8gY3JlYXRlIGpRdWVyeSBldmVudFxuICAgICAgbGV0IGpRRXZlbnQgPSBuZXcgalF1ZXJ5LkV2ZW50KCBldmVudCApO1xuICAgICAgalFFdmVudC50eXBlID0gdHlwZTtcbiAgICAgICRldmVudCA9IGpRRXZlbnQ7XG4gICAgfVxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlciggJGV2ZW50LCBhcmdzICk7XG4gIH1cbn07XG5cbmNvbnN0IHVuaWRyYWdnZXJFdmVudHMgPSBbXG4gICdkcmFnU3RhcnQnLFxuICAnZHJhZ01vdmUnLFxuICAnZHJhZ0VuZCcsXG4gICdwb2ludGVyRG93bicsXG4gICdwb2ludGVyTW92ZScsXG4gICdwb2ludGVyRW5kJyxcbiAgJ3N0YXRpY0NsaWNrJyxcbl07XG5cbmxldCBfZW1pdEV2ZW50ID0gcHJvdG8uZW1pdEV2ZW50O1xucHJvdG8uZW1pdEV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgYXJncyApIHtcbiAgaWYgKCBldmVudE5hbWUgPT09ICdzdGF0aWNDbGljaycgKSB7XG4gICAgLy8gYWRkIGNlbGxFbGVtIGFuZCBjZWxsSW5kZXggYXJncyB0byBzdGF0aWNDbGlja1xuICAgIGxldCBjbGlja2VkQ2VsbCA9IHRoaXMuZ2V0UGFyZW50Q2VsbCggYXJnc1swXS50YXJnZXQgKTtcbiAgICBsZXQgY2VsbEVsZW0gPSBjbGlja2VkQ2VsbCAmJiBjbGlja2VkQ2VsbC5lbGVtZW50O1xuICAgIGxldCBjZWxsSW5kZXggPSBjbGlja2VkQ2VsbCAmJiB0aGlzLmNlbGxzLmluZGV4T2YoIGNsaWNrZWRDZWxsICk7XG4gICAgYXJncyA9IGFyZ3MuY29uY2F0KCBjZWxsRWxlbSwgY2VsbEluZGV4ICk7XG4gIH1cbiAgLy8gZG8gcmVndWxhciB0aGluZ1xuICBfZW1pdEV2ZW50LmNhbGwoIHRoaXMsIGV2ZW50TmFtZSwgYXJncyApO1xuICAvLyBkdWNrLXB1bmNoIGluIGpRdWVyeSBldmVudHMgZm9yIFVuaWRyYWdnZXIgZXZlbnRzXG4gIGxldCBpc1VuaWRyYWdnZXJFdmVudCA9IHVuaWRyYWdnZXJFdmVudHMuaW5jbHVkZXMoIGV2ZW50TmFtZSApO1xuICBpZiAoICFpc1VuaWRyYWdnZXJFdmVudCB8fCAhalF1ZXJ5IHx8ICF0aGlzLiRlbGVtZW50ICkgcmV0dXJuO1xuXG4gIGV2ZW50TmFtZSArPSB0aGlzLm9wdGlvbnMubmFtZXNwYWNlSlF1ZXJ5RXZlbnRzID8gJy5mbGlja2l0eScgOiAnJztcbiAgbGV0IGV2ZW50ID0gYXJncy5zaGlmdCggMCApO1xuICBsZXQgalFFdmVudCA9IG5ldyBqUXVlcnkuRXZlbnQoIGV2ZW50ICk7XG4gIGpRRXZlbnQudHlwZSA9IGV2ZW50TmFtZTtcbiAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCBqUUV2ZW50LCBhcmdzICk7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBzZWxlY3QgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLyoqXG4gKiBAcGFyYW0ge0ludGVnZXJ9IGluZGV4IC0gaW5kZXggb2YgdGhlIHNsaWRlXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlzV3JhcCAtIHdpbGwgd3JhcC1hcm91bmQgdG8gbGFzdC9maXJzdCBpZiBhdCB0aGUgZW5kXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlzSW5zdGFudCAtIHdpbGwgaW1tZWRpYXRlbHkgc2V0IHBvc2l0aW9uIGF0IHNlbGVjdGVkIGNlbGxcbiAqL1xucHJvdG8uc2VsZWN0ID0gZnVuY3Rpb24oIGluZGV4LCBpc1dyYXAsIGlzSW5zdGFudCApIHtcbiAgaWYgKCAhdGhpcy5pc0FjdGl2ZSApIHJldHVybjtcblxuICBpbmRleCA9IHBhcnNlSW50KCBpbmRleCwgMTAgKTtcbiAgdGhpcy5fd3JhcFNlbGVjdCggaW5kZXggKTtcblxuICBpZiAoIHRoaXMuaXNXcmFwcGluZyB8fCBpc1dyYXAgKSB7XG4gICAgaW5kZXggPSB1dGlscy5tb2R1bG8oIGluZGV4LCB0aGlzLnNsaWRlcy5sZW5ndGggKTtcbiAgfVxuICAvLyBiYWlsIGlmIGludmFsaWQgaW5kZXhcbiAgaWYgKCAhdGhpcy5zbGlkZXNbIGluZGV4IF0gKSByZXR1cm47XG5cbiAgbGV0IHByZXZJbmRleCA9IHRoaXMuc2VsZWN0ZWRJbmRleDtcbiAgdGhpcy5zZWxlY3RlZEluZGV4ID0gaW5kZXg7XG4gIHRoaXMudXBkYXRlU2VsZWN0ZWRTbGlkZSgpO1xuICBpZiAoIGlzSW5zdGFudCApIHtcbiAgICB0aGlzLnBvc2l0aW9uU2xpZGVyQXRTZWxlY3RlZCgpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuc3RhcnRBbmltYXRpb24oKTtcbiAgfVxuICBpZiAoIHRoaXMub3B0aW9ucy5hZGFwdGl2ZUhlaWdodCApIHtcbiAgICB0aGlzLnNldEdhbGxlcnlTaXplKCk7XG4gIH1cbiAgLy8gZXZlbnRzXG4gIHRoaXMuZGlzcGF0Y2hFdmVudCggJ3NlbGVjdCcsIG51bGwsIFsgaW5kZXggXSApO1xuICAvLyBjaGFuZ2UgZXZlbnQgaWYgbmV3IGluZGV4XG4gIGlmICggaW5kZXggIT09IHByZXZJbmRleCApIHtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoICdjaGFuZ2UnLCBudWxsLCBbIGluZGV4IF0gKTtcbiAgfVxufTtcblxuLy8gd3JhcHMgcG9zaXRpb24gZm9yIHdyYXBBcm91bmQsIHRvIG1vdmUgdG8gY2xvc2VzdCBzbGlkZS4gIzExM1xucHJvdG8uX3dyYXBTZWxlY3QgPSBmdW5jdGlvbiggaW5kZXggKSB7XG4gIGlmICggIXRoaXMuaXNXcmFwcGluZyApIHJldHVybjtcblxuICBjb25zdCB7IHNlbGVjdGVkSW5kZXgsIHNsaWRlYWJsZVdpZHRoLCBzbGlkZXM6IHsgbGVuZ3RoIH0gfSA9IHRoaXM7XG4gIC8vIHNoaWZ0IGluZGV4IGZvciB3cmFwLCBkbyBub3Qgd3JhcCBkcmFnU2VsZWN0XG4gIGlmICggIXRoaXMuaXNEcmFnU2VsZWN0ICkge1xuICAgIGxldCB3cmFwSW5kZXggPSB1dGlscy5tb2R1bG8oIGluZGV4LCBsZW5ndGggKTtcbiAgICAvLyBnbyB0byBzaG9ydGVzdFxuICAgIGxldCBkZWx0YSA9IE1hdGguYWJzKCB3cmFwSW5kZXggLSBzZWxlY3RlZEluZGV4ICk7XG4gICAgbGV0IGJhY2tXcmFwRGVsdGEgPSBNYXRoLmFicyggKCB3cmFwSW5kZXggKyBsZW5ndGggKSAtIHNlbGVjdGVkSW5kZXggKTtcbiAgICBsZXQgZm9yZXdhcmRXcmFwRGVsdGEgPSBNYXRoLmFicyggKCB3cmFwSW5kZXggLSBsZW5ndGggKSAtIHNlbGVjdGVkSW5kZXggKTtcbiAgICBpZiAoIGJhY2tXcmFwRGVsdGEgPCBkZWx0YSApIHtcbiAgICAgIGluZGV4ICs9IGxlbmd0aDtcbiAgICB9IGVsc2UgaWYgKCBmb3Jld2FyZFdyYXBEZWx0YSA8IGRlbHRhICkge1xuICAgICAgaW5kZXggLT0gbGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIC8vIHdyYXAgcG9zaXRpb24gc28gc2xpZGVyIGlzIHdpdGhpbiBub3JtYWwgYXJlYVxuICBpZiAoIGluZGV4IDwgMCApIHtcbiAgICB0aGlzLnggLT0gc2xpZGVhYmxlV2lkdGg7XG4gIH0gZWxzZSBpZiAoIGluZGV4ID49IGxlbmd0aCApIHtcbiAgICB0aGlzLnggKz0gc2xpZGVhYmxlV2lkdGg7XG4gIH1cbn07XG5cbnByb3RvLnByZXZpb3VzID0gZnVuY3Rpb24oIGlzV3JhcCwgaXNJbnN0YW50ICkge1xuICB0aGlzLnNlbGVjdCggdGhpcy5zZWxlY3RlZEluZGV4IC0gMSwgaXNXcmFwLCBpc0luc3RhbnQgKTtcbn07XG5cbnByb3RvLm5leHQgPSBmdW5jdGlvbiggaXNXcmFwLCBpc0luc3RhbnQgKSB7XG4gIHRoaXMuc2VsZWN0KCB0aGlzLnNlbGVjdGVkSW5kZXggKyAxLCBpc1dyYXAsIGlzSW5zdGFudCApO1xufTtcblxucHJvdG8udXBkYXRlU2VsZWN0ZWRTbGlkZSA9IGZ1bmN0aW9uKCkge1xuICBsZXQgc2xpZGUgPSB0aGlzLnNsaWRlc1sgdGhpcy5zZWxlY3RlZEluZGV4IF07XG4gIC8vIHNlbGVjdGVkSW5kZXggY291bGQgYmUgb3V0c2lkZSBvZiBzbGlkZXMsIGlmIHRyaWdnZXJlZCBiZWZvcmUgcmVzaXplKClcbiAgaWYgKCAhc2xpZGUgKSByZXR1cm47XG5cbiAgLy8gdW5zZWxlY3QgcHJldmlvdXMgc2VsZWN0ZWQgc2xpZGVcbiAgdGhpcy51bnNlbGVjdFNlbGVjdGVkU2xpZGUoKTtcbiAgLy8gdXBkYXRlIG5ldyBzZWxlY3RlZCBzbGlkZVxuICB0aGlzLnNlbGVjdGVkU2xpZGUgPSBzbGlkZTtcbiAgc2xpZGUuc2VsZWN0KCk7XG4gIHRoaXMuc2VsZWN0ZWRDZWxscyA9IHNsaWRlLmNlbGxzO1xuICB0aGlzLnNlbGVjdGVkRWxlbWVudHMgPSBzbGlkZS5nZXRDZWxsRWxlbWVudHMoKTtcbiAgLy8gSEFDSzogc2VsZWN0ZWRDZWxsICYgc2VsZWN0ZWRFbGVtZW50IGlzIGZpcnN0IGNlbGwgaW4gc2xpZGUsIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gIHRoaXMuc2VsZWN0ZWRDZWxsID0gc2xpZGUuY2VsbHNbMF07XG4gIHRoaXMuc2VsZWN0ZWRFbGVtZW50ID0gdGhpcy5zZWxlY3RlZEVsZW1lbnRzWzBdO1xufTtcblxucHJvdG8udW5zZWxlY3RTZWxlY3RlZFNsaWRlID0gZnVuY3Rpb24oKSB7XG4gIGlmICggdGhpcy5zZWxlY3RlZFNsaWRlICkgdGhpcy5zZWxlY3RlZFNsaWRlLnVuc2VsZWN0KCk7XG59O1xuXG5wcm90by5zZWxlY3RJbml0aWFsSW5kZXggPSBmdW5jdGlvbigpIHtcbiAgbGV0IGluaXRpYWxJbmRleCA9IHRoaXMub3B0aW9ucy5pbml0aWFsSW5kZXg7XG4gIC8vIGFscmVhZHkgYWN0aXZhdGVkLCBzZWxlY3QgcHJldmlvdXMgc2VsZWN0ZWRJbmRleFxuICBpZiAoIHRoaXMuaXNJbml0QWN0aXZhdGVkICkge1xuICAgIHRoaXMuc2VsZWN0KCB0aGlzLnNlbGVjdGVkSW5kZXgsIGZhbHNlLCB0cnVlICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIHNlbGVjdCB3aXRoIHNlbGVjdG9yIHN0cmluZ1xuICBpZiAoIGluaXRpYWxJbmRleCAmJiB0eXBlb2YgaW5pdGlhbEluZGV4ID09ICdzdHJpbmcnICkge1xuICAgIGxldCBjZWxsID0gdGhpcy5xdWVyeUNlbGwoIGluaXRpYWxJbmRleCApO1xuICAgIGlmICggY2VsbCApIHtcbiAgICAgIHRoaXMuc2VsZWN0Q2VsbCggaW5pdGlhbEluZGV4LCBmYWxzZSwgdHJ1ZSApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGxldCBpbmRleCA9IDA7XG4gIC8vIHNlbGVjdCB3aXRoIG51bWJlclxuICBpZiAoIGluaXRpYWxJbmRleCAmJiB0aGlzLnNsaWRlc1sgaW5pdGlhbEluZGV4IF0gKSB7XG4gICAgaW5kZXggPSBpbml0aWFsSW5kZXg7XG4gIH1cbiAgLy8gc2VsZWN0IGluc3RhbnRseVxuICB0aGlzLnNlbGVjdCggaW5kZXgsIGZhbHNlLCB0cnVlICk7XG59O1xuXG4vKipcbiAqIHNlbGVjdCBzbGlkZSBmcm9tIG51bWJlciBvciBjZWxsIGVsZW1lbnRcbiAqIEBwYXJhbSB7W0VsZW1lbnQsIE51bWJlcl19IHZhbHVlIC0gemVyby1iYXNlZCBpbmRleCBvciBlbGVtZW50IHRvIHNlbGVjdFxuICogQHBhcmFtIHtCb29sZWFufSBpc1dyYXAgLSBlbmFibGVzIHdyYXBwaW5nIGFyb3VuZCBmb3IgZXh0cmEgaW5kZXhcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNJbnN0YW50IC0gZGlzYWJsZXMgc2xpZGUgYW5pbWF0aW9uXG4gKi9cbnByb3RvLnNlbGVjdENlbGwgPSBmdW5jdGlvbiggdmFsdWUsIGlzV3JhcCwgaXNJbnN0YW50ICkge1xuICAvLyBnZXQgY2VsbFxuICBsZXQgY2VsbCA9IHRoaXMucXVlcnlDZWxsKCB2YWx1ZSApO1xuICBpZiAoICFjZWxsICkgcmV0dXJuO1xuXG4gIGxldCBpbmRleCA9IHRoaXMuZ2V0Q2VsbFNsaWRlSW5kZXgoIGNlbGwgKTtcbiAgdGhpcy5zZWxlY3QoIGluZGV4LCBpc1dyYXAsIGlzSW5zdGFudCApO1xufTtcblxucHJvdG8uZ2V0Q2VsbFNsaWRlSW5kZXggPSBmdW5jdGlvbiggY2VsbCApIHtcbiAgLy8gZ2V0IGluZGV4IG9mIHNsaWRlIHRoYXQgaGFzIGNlbGxcbiAgbGV0IGNlbGxTbGlkZSA9IHRoaXMuc2xpZGVzLmZpbmQoICggc2xpZGUgKSA9PiBzbGlkZS5jZWxscy5pbmNsdWRlcyggY2VsbCApICk7XG4gIHJldHVybiB0aGlzLnNsaWRlcy5pbmRleE9mKCBjZWxsU2xpZGUgKTtcbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGdldCBjZWxscyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vKipcbiAqIGdldCBGbGlja2l0eS5DZWxsLCBnaXZlbiBhbiBFbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW0gLSBtYXRjaGluZyBjZWxsIGVsZW1lbnRcbiAqIEByZXR1cm5zIHtGbGlja2l0eS5DZWxsfSBjZWxsIC0gbWF0Y2hpbmcgY2VsbFxuICovXG5wcm90by5nZXRDZWxsID0gZnVuY3Rpb24oIGVsZW0gKSB7XG4gIC8vIGxvb3AgdGhyb3VnaCBjZWxscyB0byBnZXQgdGhlIG9uZSB0aGF0IG1hdGNoZXNcbiAgZm9yICggbGV0IGNlbGwgb2YgdGhpcy5jZWxscyApIHtcbiAgICBpZiAoIGNlbGwuZWxlbWVudCA9PT0gZWxlbSApIHJldHVybiBjZWxsO1xuICB9XG59O1xuXG4vKipcbiAqIGdldCBjb2xsZWN0aW9uIG9mIEZsaWNraXR5LkNlbGxzLCBnaXZlbiBFbGVtZW50c1xuICogQHBhcmFtIHtbRWxlbWVudCwgQXJyYXksIE5vZGVMaXN0XX0gZWxlbXMgLSBtdWx0aXBsZSBlbGVtZW50c1xuICogQHJldHVybnMge0FycmF5fSBjZWxscyAtIEZsaWNraXR5LkNlbGxzXG4gKi9cbnByb3RvLmdldENlbGxzID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICBlbGVtcyA9IHV0aWxzLm1ha2VBcnJheSggZWxlbXMgKTtcbiAgcmV0dXJuIGVsZW1zLm1hcCggKCBlbGVtICkgPT4gdGhpcy5nZXRDZWxsKCBlbGVtICkgKS5maWx0ZXIoIEJvb2xlYW4gKTtcbn07XG5cbi8qKlxuICogZ2V0IGNlbGwgZWxlbWVudHNcbiAqIEByZXR1cm5zIHtBcnJheX0gY2VsbEVsZW1zXG4gKi9cbnByb3RvLmdldENlbGxFbGVtZW50cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5jZWxscy5tYXAoICggY2VsbCApID0+IGNlbGwuZWxlbWVudCApO1xufTtcblxuLyoqXG4gKiBnZXQgcGFyZW50IGNlbGwgZnJvbSBhbiBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW0gLSBjaGlsZCBlbGVtZW50XG4gKiBAcmV0dXJucyB7RmxpY2tpdC5DZWxsfSBjZWxsIC0gcGFyZW50IGNlbGxcbiAqL1xucHJvdG8uZ2V0UGFyZW50Q2VsbCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICAvLyBmaXJzdCBjaGVjayBpZiBlbGVtIGlzIGNlbGxcbiAgbGV0IGNlbGwgPSB0aGlzLmdldENlbGwoIGVsZW0gKTtcbiAgaWYgKCBjZWxsICkgcmV0dXJuIGNlbGw7XG5cbiAgLy8gdHJ5IHRvIGdldCBwYXJlbnQgY2VsbCBlbGVtXG4gIGxldCBjbG9zZXN0ID0gZWxlbS5jbG9zZXN0KCcuZmxpY2tpdHktc2xpZGVyID4gKicpO1xuICByZXR1cm4gdGhpcy5nZXRDZWxsKCBjbG9zZXN0ICk7XG59O1xuXG4vKipcbiAqIGdldCBjZWxscyBhZGphY2VudCB0byBhIHNsaWRlXG4gKiBAcGFyYW0ge0ludGVnZXJ9IGFkakNvdW50IC0gbnVtYmVyIG9mIGFkamFjZW50IHNsaWRlc1xuICogQHBhcmFtIHtJbnRlZ2VyfSBpbmRleCAtIGluZGV4IG9mIHNsaWRlIHRvIHN0YXJ0XG4gKiBAcmV0dXJucyB7QXJyYXl9IGNlbGxzIC0gYXJyYXkgb2YgRmxpY2tpdHkuQ2VsbHNcbiAqL1xucHJvdG8uZ2V0QWRqYWNlbnRDZWxsRWxlbWVudHMgPSBmdW5jdGlvbiggYWRqQ291bnQsIGluZGV4ICkge1xuICBpZiAoICFhZGpDb3VudCApIHJldHVybiB0aGlzLnNlbGVjdGVkU2xpZGUuZ2V0Q2VsbEVsZW1lbnRzKCk7XG5cbiAgaW5kZXggPSBpbmRleCA9PT0gdW5kZWZpbmVkID8gdGhpcy5zZWxlY3RlZEluZGV4IDogaW5kZXg7XG5cbiAgbGV0IGxlbiA9IHRoaXMuc2xpZGVzLmxlbmd0aDtcbiAgaWYgKCAxICsgKCBhZGpDb3VudCAqIDIgKSA+PSBsZW4gKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q2VsbEVsZW1lbnRzKCk7IC8vIGdldCBhbGxcbiAgfVxuXG4gIGxldCBjZWxsRWxlbXMgPSBbXTtcbiAgZm9yICggbGV0IGkgPSBpbmRleCAtIGFkakNvdW50OyBpIDw9IGluZGV4ICsgYWRqQ291bnQ7IGkrKyApIHtcbiAgICBsZXQgc2xpZGVJbmRleCA9IHRoaXMuaXNXcmFwcGluZyA/IHV0aWxzLm1vZHVsbyggaSwgbGVuICkgOiBpO1xuICAgIGxldCBzbGlkZSA9IHRoaXMuc2xpZGVzWyBzbGlkZUluZGV4IF07XG4gICAgaWYgKCBzbGlkZSApIHtcbiAgICAgIGNlbGxFbGVtcyA9IGNlbGxFbGVtcy5jb25jYXQoIHNsaWRlLmdldENlbGxFbGVtZW50cygpICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBjZWxsRWxlbXM7XG59O1xuXG4vKipcbiAqIHNlbGVjdCBzbGlkZSBmcm9tIG51bWJlciBvciBjZWxsIGVsZW1lbnRcbiAqIEBwYXJhbSB7W0VsZW1lbnQsIFN0cmluZywgTnVtYmVyXX0gc2VsZWN0b3IgLSBlbGVtZW50LCBzZWxlY3RvciBzdHJpbmcsIG9yIGluZGV4XG4gKiBAcmV0dXJucyB7RmxpY2tpdHkuQ2VsbH0gLSBtYXRjaGluZyBjZWxsXG4gKi9cbnByb3RvLnF1ZXJ5Q2VsbCA9IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcbiAgaWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT0gJ251bWJlcicgKSB7XG4gICAgLy8gdXNlIG51bWJlciBhcyBpbmRleFxuICAgIHJldHVybiB0aGlzLmNlbGxzWyBzZWxlY3RvciBdO1xuICB9XG4gIC8vIGRvIG5vdCBzZWxlY3QgaW52YWxpZCBzZWxlY3RvcnMgZnJvbSBoYXNoOiAjMTIzLCAjLy4gIzc5MVxuICBsZXQgaXNTZWxlY3RvclN0cmluZyA9IHR5cGVvZiBzZWxlY3RvciA9PSAnc3RyaW5nJyAmJiAhc2VsZWN0b3IubWF0Y2goIC9eWyMuXT9bXFxkL10vICk7XG4gIGlmICggaXNTZWxlY3RvclN0cmluZyApIHtcbiAgICAvLyB1c2Ugc3RyaW5nIGFzIHNlbGVjdG9yLCBnZXQgZWxlbWVudFxuICAgIHNlbGVjdG9yID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIHNlbGVjdG9yICk7XG4gIH1cbiAgLy8gZ2V0IGNlbGwgZnJvbSBlbGVtZW50XG4gIHJldHVybiB0aGlzLmdldENlbGwoIHNlbGVjdG9yICk7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBldmVudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxucHJvdG8udWlDaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbWl0RXZlbnQoJ3VpQ2hhbmdlJyk7XG59O1xuXG4vLyAtLS0tLSByZXNpemUgLS0tLS0gLy9cblxucHJvdG8ub25yZXNpemUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy53YXRjaENTUygpO1xuICB0aGlzLnJlc2l6ZSgpO1xufTtcblxudXRpbHMuZGVib3VuY2VNZXRob2QoIEZsaWNraXR5LCAnb25yZXNpemUnLCAxNTAgKTtcblxucHJvdG8ucmVzaXplID0gZnVuY3Rpb24oKSB7XG4gIC8vICMxMTc3IGRpc2FibGUgcmVzaXplIGJlaGF2aW9yIHdoZW4gYW5pbWF0aW5nIG9yIGRyYWdnaW5nIGZvciBpT1MgMTVcbiAgaWYgKCAhdGhpcy5pc0FjdGl2ZSB8fCB0aGlzLmlzQW5pbWF0aW5nIHx8IHRoaXMuaXNEcmFnZ2luZyApIHJldHVybjtcbiAgdGhpcy5nZXRTaXplKCk7XG4gIC8vIHdyYXAgdmFsdWVzXG4gIGlmICggdGhpcy5pc1dyYXBwaW5nICkge1xuICAgIHRoaXMueCA9IHV0aWxzLm1vZHVsbyggdGhpcy54LCB0aGlzLnNsaWRlYWJsZVdpZHRoICk7XG4gIH1cbiAgdGhpcy5wb3NpdGlvbkNlbGxzKCk7XG4gIHRoaXMuX3VwZGF0ZVdyYXBTaGlmdENlbGxzKCk7XG4gIHRoaXMuc2V0R2FsbGVyeVNpemUoKTtcbiAgdGhpcy5lbWl0RXZlbnQoJ3Jlc2l6ZScpO1xuICAvLyB1cGRhdGUgc2VsZWN0ZWQgaW5kZXggZm9yIGdyb3VwIHNsaWRlcywgaW5zdGFudFxuICAvLyBUT0RPOiBwb3NpdGlvbiBjYW4gYmUgbG9zdCBiZXR3ZWVuIGdyb3VwcyBvZiB2YXJpb3VzIG51bWJlcnNcbiAgbGV0IHNlbGVjdGVkRWxlbWVudCA9IHRoaXMuc2VsZWN0ZWRFbGVtZW50cyAmJiB0aGlzLnNlbGVjdGVkRWxlbWVudHNbMF07XG4gIHRoaXMuc2VsZWN0Q2VsbCggc2VsZWN0ZWRFbGVtZW50LCBmYWxzZSwgdHJ1ZSApO1xufTtcblxuLy8gd2F0Y2hlcyB0aGUgOmFmdGVyIHByb3BlcnR5LCBhY3RpdmF0ZXMvZGVhY3RpdmF0ZXNcbnByb3RvLndhdGNoQ1NTID0gZnVuY3Rpb24oKSB7XG4gIGlmICggIXRoaXMub3B0aW9ucy53YXRjaENTUyApIHJldHVybjtcblxuICBsZXQgYWZ0ZXJDb250ZW50ID0gZ2V0Q29tcHV0ZWRTdHlsZSggdGhpcy5lbGVtZW50LCAnOmFmdGVyJyApLmNvbnRlbnQ7XG4gIC8vIGFjdGl2YXRlIGlmIDphZnRlciB7IGNvbnRlbnQ6ICdmbGlja2l0eScgfVxuICBpZiAoIGFmdGVyQ29udGVudC5pbmNsdWRlcygnZmxpY2tpdHknKSApIHtcbiAgICB0aGlzLmFjdGl2YXRlKCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gIH1cbn07XG5cbi8vIC0tLS0tIGtleWRvd24gLS0tLS0gLy9cblxuLy8gZ28gcHJldmlvdXMvbmV4dCBpZiBsZWZ0L3JpZ2h0IGtleXMgcHJlc3NlZFxucHJvdG8ub25rZXlkb3duID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICBsZXQgeyBhY3RpdmVFbGVtZW50IH0gPSBkb2N1bWVudDtcbiAgbGV0IGhhbmRsZXIgPSBGbGlja2l0eS5rZXlib2FyZEhhbmRsZXJzWyBldmVudC5rZXkgXTtcbiAgLy8gb25seSB3b3JrIGlmIGVsZW1lbnQgaXMgaW4gZm9jdXNcbiAgaWYgKCAhdGhpcy5vcHRpb25zLmFjY2Vzc2liaWxpdHkgfHwgIWFjdGl2ZUVsZW1lbnQgfHwgIWhhbmRsZXIgKSByZXR1cm47XG5cbiAgbGV0IGlzRm9jdXNlZCA9IHRoaXMuZm9jdXNhYmxlRWxlbXMuc29tZSggKCBlbGVtICkgPT4gYWN0aXZlRWxlbWVudCA9PT0gZWxlbSApO1xuICBpZiAoIGlzRm9jdXNlZCApIGhhbmRsZXIuY2FsbCggdGhpcyApO1xufTtcblxuRmxpY2tpdHkua2V5Ym9hcmRIYW5kbGVycyA9IHtcbiAgQXJyb3dMZWZ0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnVpQ2hhbmdlKCk7XG4gICAgbGV0IGxlZnRNZXRob2QgPSB0aGlzLm9wdGlvbnMucmlnaHRUb0xlZnQgPyAnbmV4dCcgOiAncHJldmlvdXMnO1xuICAgIHRoaXNbIGxlZnRNZXRob2QgXSgpO1xuICB9LFxuICBBcnJvd1JpZ2h0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnVpQ2hhbmdlKCk7XG4gICAgbGV0IHJpZ2h0TWV0aG9kID0gdGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0ID8gJ3ByZXZpb3VzJyA6ICduZXh0JztcbiAgICB0aGlzWyByaWdodE1ldGhvZCBdKCk7XG4gIH0sXG59O1xuXG4vLyAtLS0tLSBmb2N1cyAtLS0tLSAvL1xuXG5wcm90by5mb2N1cyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVsZW1lbnQuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gZGVzdHJveSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vLyBkZWFjdGl2YXRlIGFsbCBGbGlja2l0eSBmdW5jdGlvbmFsaXR5LCBidXQga2VlcCBzdHVmZiBhdmFpbGFibGVcbnByb3RvLmRlYWN0aXZhdGUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCAhdGhpcy5pc0FjdGl2ZSApIHJldHVybjtcblxuICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZmxpY2tpdHktZW5hYmxlZCcpO1xuICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZmxpY2tpdHktcnRsJyk7XG4gIHRoaXMudW5zZWxlY3RTZWxlY3RlZFNsaWRlKCk7XG4gIC8vIGRlc3Ryb3kgY2VsbHNcbiAgdGhpcy5jZWxscy5mb3JFYWNoKCAoIGNlbGwgKSA9PiBjZWxsLmRlc3Ryb3koKSApO1xuICB0aGlzLnZpZXdwb3J0LnJlbW92ZSgpO1xuICAvLyBtb3ZlIGNoaWxkIGVsZW1lbnRzIGJhY2sgaW50byBlbGVtZW50XG4gIHRoaXMuZWxlbWVudC5hcHBlbmQoIC4uLnRoaXMuc2xpZGVyLmNoaWxkcmVuICk7XG4gIGlmICggdGhpcy5vcHRpb25zLmFjY2Vzc2liaWxpdHkgKSB7XG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgndGFiSW5kZXgnKTtcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCB0aGlzICk7XG4gIH1cbiAgLy8gc2V0IGZsYWdzXG4gIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgdGhpcy5lbWl0RXZlbnQoJ2RlYWN0aXZhdGUnKTtcbn07XG5cbnByb3RvLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCAncmVzaXplJywgdGhpcyApO1xuICB0aGlzLmFsbE9mZigpO1xuICB0aGlzLmVtaXRFdmVudCgnZGVzdHJveScpO1xuICBpZiAoIGpRdWVyeSAmJiB0aGlzLiRlbGVtZW50ICkge1xuICAgIGpRdWVyeS5yZW1vdmVEYXRhKCB0aGlzLmVsZW1lbnQsICdmbGlja2l0eScgKTtcbiAgfVxuICBkZWxldGUgdGhpcy5lbGVtZW50LmZsaWNraXR5R1VJRDtcbiAgZGVsZXRlIGluc3RhbmNlc1sgdGhpcy5ndWlkIF07XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBwcm90b3R5cGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuT2JqZWN0LmFzc2lnbiggcHJvdG8sIGFuaW1hdGVQcm90b3R5cGUgKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gZXh0cmFzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8qKlxuICogZ2V0IEZsaWNraXR5IGluc3RhbmNlIGZyb20gZWxlbWVudFxuICogQHBhcmFtIHtbRWxlbWVudCwgU3RyaW5nXX0gZWxlbSAtIGVsZW1lbnQgb3Igc2VsZWN0b3Igc3RyaW5nXG4gKiBAcmV0dXJucyB7RmxpY2tpdHl9IC0gRmxpY2tpdHkgaW5zdGFuY2VcbiAqL1xuRmxpY2tpdHkuZGF0YSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICBlbGVtID0gdXRpbHMuZ2V0UXVlcnlFbGVtZW50KCBlbGVtICk7XG4gIGlmICggZWxlbSApIHJldHVybiBpbnN0YW5jZXNbIGVsZW0uZmxpY2tpdHlHVUlEIF07XG59O1xuXG51dGlscy5odG1sSW5pdCggRmxpY2tpdHksICdmbGlja2l0eScgKTtcblxubGV0IHsgalF1ZXJ5QnJpZGdldCB9ID0gd2luZG93O1xuaWYgKCBqUXVlcnkgJiYgalF1ZXJ5QnJpZGdldCApIHtcbiAgalF1ZXJ5QnJpZGdldCggJ2ZsaWNraXR5JywgRmxpY2tpdHksIGpRdWVyeSApO1xufVxuXG4vLyBzZXQgaW50ZXJuYWwgalF1ZXJ5LCBmb3IgV2VicGFjayArIGpRdWVyeSB2MywgIzQ3OFxuRmxpY2tpdHkuc2V0SlF1ZXJ5ID0gZnVuY3Rpb24oIGpxICkge1xuICBqUXVlcnkgPSBqcTtcbn07XG5cbkZsaWNraXR5LkNlbGwgPSBDZWxsO1xuRmxpY2tpdHkuU2xpZGUgPSBTbGlkZTtcblxucmV0dXJuIEZsaWNraXR5O1xuXG59ICkgKTtcbiIsIi8vIGRyYWdcbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgICAgd2luZG93LFxuICAgICAgICByZXF1aXJlKCcuL2NvcmUnKSxcbiAgICAgICAgcmVxdWlyZSgndW5pZHJhZ2dlcicpLFxuICAgICAgICByZXF1aXJlKCdmaXp6eS11aS11dGlscycpLFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuRmxpY2tpdHkgPSBmYWN0b3J5KFxuICAgICAgICB3aW5kb3csXG4gICAgICAgIHdpbmRvdy5GbGlja2l0eSxcbiAgICAgICAgd2luZG93LlVuaWRyYWdnZXIsXG4gICAgICAgIHdpbmRvdy5maXp6eVVJVXRpbHMsXG4gICAgKTtcbiAgfVxuXG59KCB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnID8gd2luZG93IDogdGhpcyxcbiAgICBmdW5jdGlvbiBmYWN0b3J5KCB3aW5kb3csIEZsaWNraXR5LCBVbmlkcmFnZ2VyLCB1dGlscyApIHtcblxuLy8gLS0tLS0gZGVmYXVsdHMgLS0tLS0gLy9cblxuT2JqZWN0LmFzc2lnbiggRmxpY2tpdHkuZGVmYXVsdHMsIHtcbiAgZHJhZ2dhYmxlOiAnPjEnLFxuICBkcmFnVGhyZXNob2xkOiAzLFxufSApO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBkcmFnIHByb3RvdHlwZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5sZXQgcHJvdG8gPSBGbGlja2l0eS5wcm90b3R5cGU7XG5PYmplY3QuYXNzaWduKCBwcm90bywgVW5pZHJhZ2dlci5wcm90b3R5cGUgKTsgLy8gaW5oZXJpdCBVbmlkcmFnZ2VyXG5wcm90by50b3VjaEFjdGlvblZhbHVlID0gJyc7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5GbGlja2l0eS5jcmVhdGUuZHJhZyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLm9uKCAnYWN0aXZhdGUnLCB0aGlzLm9uQWN0aXZhdGVEcmFnICk7XG4gIHRoaXMub24oICd1aUNoYW5nZScsIHRoaXMuX3VpQ2hhbmdlRHJhZyApO1xuICB0aGlzLm9uKCAnZGVhY3RpdmF0ZScsIHRoaXMub25EZWFjdGl2YXRlRHJhZyApO1xuICB0aGlzLm9uKCAnY2VsbENoYW5nZScsIHRoaXMudXBkYXRlRHJhZ2dhYmxlICk7XG4gIHRoaXMub24oICdwb2ludGVyRG93bicsIHRoaXMuaGFuZGxlUG9pbnRlckRvd24gKTtcbiAgdGhpcy5vbiggJ3BvaW50ZXJVcCcsIHRoaXMuaGFuZGxlUG9pbnRlclVwICk7XG4gIHRoaXMub24oICdwb2ludGVyRG93bicsIHRoaXMuaGFuZGxlUG9pbnRlckRvbmUgKTtcbiAgdGhpcy5vbiggJ2RyYWdTdGFydCcsIHRoaXMuaGFuZGxlRHJhZ1N0YXJ0ICk7XG4gIHRoaXMub24oICdkcmFnTW92ZScsIHRoaXMuaGFuZGxlRHJhZ01vdmUgKTtcbiAgdGhpcy5vbiggJ2RyYWdFbmQnLCB0aGlzLmhhbmRsZURyYWdFbmQgKTtcbiAgdGhpcy5vbiggJ3N0YXRpY0NsaWNrJywgdGhpcy5oYW5kbGVTdGF0aWNDbGljayApO1xuICAvLyBUT0RPIHVwZGF0ZURyYWdnYWJsZSBvbiByZXNpemU/IGlmIGdyb3VwQ2VsbHMgJiBzbGlkZXMgY2hhbmdlXG59O1xuXG5wcm90by5vbkFjdGl2YXRlRHJhZyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmhhbmRsZXMgPSBbIHRoaXMudmlld3BvcnQgXTtcbiAgdGhpcy5iaW5kSGFuZGxlcygpO1xuICB0aGlzLnVwZGF0ZURyYWdnYWJsZSgpO1xufTtcblxucHJvdG8ub25EZWFjdGl2YXRlRHJhZyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnVuYmluZEhhbmRsZXMoKTtcbiAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWRyYWdnYWJsZScpO1xufTtcblxucHJvdG8udXBkYXRlRHJhZ2dhYmxlID0gZnVuY3Rpb24oKSB7XG4gIC8vIGRpc2FibGUgZHJhZ2dpbmcgaWYgbGVzcyB0aGFuIDIgc2xpZGVzLiAjMjc4XG4gIGlmICggdGhpcy5vcHRpb25zLmRyYWdnYWJsZSA9PT0gJz4xJyApIHtcbiAgICB0aGlzLmlzRHJhZ2dhYmxlID0gdGhpcy5zbGlkZXMubGVuZ3RoID4gMTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmlzRHJhZ2dhYmxlID0gdGhpcy5vcHRpb25zLmRyYWdnYWJsZTtcbiAgfVxuICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSggJ2lzLWRyYWdnYWJsZScsIHRoaXMuaXNEcmFnZ2FibGUgKTtcbn07XG5cbnByb3RvLl91aUNoYW5nZURyYWcgPSBmdW5jdGlvbigpIHtcbiAgZGVsZXRlIHRoaXMuaXNGcmVlU2Nyb2xsaW5nO1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gcG9pbnRlciBldmVudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxucHJvdG8uaGFuZGxlUG9pbnRlckRvd24gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIGlmICggIXRoaXMuaXNEcmFnZ2FibGUgKSB7XG4gICAgLy8gcHJvY2VlZCBmb3Igc3RhdGljQ2xpY2tcbiAgICB0aGlzLmJpbmRBY3RpdmVQb2ludGVyRXZlbnRzKCBldmVudCApO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBpc1RvdWNoU3RhcnQgPSBldmVudC50eXBlID09PSAndG91Y2hzdGFydCc7XG4gIGxldCBpc1RvdWNoUG9pbnRlciA9IGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnO1xuICBsZXQgaXNGb2N1c05vZGUgPSBldmVudC50YXJnZXQubWF0Y2hlcygnaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QnKTtcbiAgaWYgKCAhaXNUb3VjaFN0YXJ0ICYmICFpc1RvdWNoUG9pbnRlciAmJiAhaXNGb2N1c05vZGUgKSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICBpZiAoICFpc0ZvY3VzTm9kZSApIHRoaXMuZm9jdXMoKTtcbiAgLy8gYmx1clxuICBpZiAoIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IHRoaXMuZWxlbWVudCApIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpO1xuICAvLyBzdG9wIGlmIGl0IHdhcyBtb3ZpbmdcbiAgdGhpcy5kcmFnWCA9IHRoaXMueDtcbiAgdGhpcy52aWV3cG9ydC5jbGFzc0xpc3QuYWRkKCdpcy1wb2ludGVyLWRvd24nKTtcbiAgLy8gdHJhY2sgc2Nyb2xsaW5nXG4gIHRoaXMucG9pbnRlckRvd25TY3JvbGwgPSBnZXRTY3JvbGxQb3NpdGlvbigpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3Njcm9sbCcsIHRoaXMgKTtcbiAgdGhpcy5iaW5kQWN0aXZlUG9pbnRlckV2ZW50cyggZXZlbnQgKTtcbn07XG5cbi8vIC0tLS0tIG1vdmUgLS0tLS0gLy9cblxucHJvdG8uaGFzRHJhZ1N0YXJ0ZWQgPSBmdW5jdGlvbiggbW92ZVZlY3RvciApIHtcbiAgcmV0dXJuIE1hdGguYWJzKCBtb3ZlVmVjdG9yLnggKSA+IHRoaXMub3B0aW9ucy5kcmFnVGhyZXNob2xkO1xufTtcblxuLy8gLS0tLS0gdXAgLS0tLS0gLy9cblxucHJvdG8uaGFuZGxlUG9pbnRlclVwID0gZnVuY3Rpb24oKSB7XG4gIGRlbGV0ZSB0aGlzLmlzVG91Y2hTY3JvbGxpbmc7XG4gIHRoaXMudmlld3BvcnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtcG9pbnRlci1kb3duJyk7XG59O1xuXG5wcm90by5oYW5kbGVQb2ludGVyRG9uZSA9IGZ1bmN0aW9uKCkge1xuICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3Njcm9sbCcsIHRoaXMgKTtcbiAgZGVsZXRlIHRoaXMucG9pbnRlckRvd25TY3JvbGw7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBkcmFnZ2luZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5wcm90by5oYW5kbGVEcmFnU3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCAhdGhpcy5pc0RyYWdnYWJsZSApIHJldHVybjtcblxuICB0aGlzLmRyYWdTdGFydFBvc2l0aW9uID0gdGhpcy54O1xuICB0aGlzLnN0YXJ0QW5pbWF0aW9uKCk7XG4gIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCAnc2Nyb2xsJywgdGhpcyApO1xufTtcblxucHJvdG8uaGFuZGxlRHJhZ01vdmUgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIsIG1vdmVWZWN0b3IgKSB7XG4gIGlmICggIXRoaXMuaXNEcmFnZ2FibGUgKSByZXR1cm47XG5cbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICB0aGlzLnByZXZpb3VzRHJhZ1ggPSB0aGlzLmRyYWdYO1xuICAvLyByZXZlcnNlIGlmIHJpZ2h0LXRvLWxlZnRcbiAgbGV0IGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5yaWdodFRvTGVmdCA/IC0xIDogMTtcbiAgLy8gd3JhcCBhcm91bmQgbW92ZS4gIzU4OVxuICBpZiAoIHRoaXMuaXNXcmFwcGluZyApIG1vdmVWZWN0b3IueCAlPSB0aGlzLnNsaWRlYWJsZVdpZHRoO1xuICBsZXQgZHJhZ1ggPSB0aGlzLmRyYWdTdGFydFBvc2l0aW9uICsgbW92ZVZlY3Rvci54ICogZGlyZWN0aW9uO1xuXG4gIGlmICggIXRoaXMuaXNXcmFwcGluZyApIHtcbiAgICAvLyBzbG93IGRyYWdcbiAgICBsZXQgb3JpZ2luQm91bmQgPSBNYXRoLm1heCggLXRoaXMuc2xpZGVzWzBdLnRhcmdldCwgdGhpcy5kcmFnU3RhcnRQb3NpdGlvbiApO1xuICAgIGRyYWdYID0gZHJhZ1ggPiBvcmlnaW5Cb3VuZCA/ICggZHJhZ1ggKyBvcmlnaW5Cb3VuZCApICogMC41IDogZHJhZ1g7XG4gICAgbGV0IGVuZEJvdW5kID0gTWF0aC5taW4oIC10aGlzLmdldExhc3RTbGlkZSgpLnRhcmdldCwgdGhpcy5kcmFnU3RhcnRQb3NpdGlvbiApO1xuICAgIGRyYWdYID0gZHJhZ1ggPCBlbmRCb3VuZCA/ICggZHJhZ1ggKyBlbmRCb3VuZCApICogMC41IDogZHJhZ1g7XG4gIH1cblxuICB0aGlzLmRyYWdYID0gZHJhZ1g7XG4gIHRoaXMuZHJhZ01vdmVUaW1lID0gbmV3IERhdGUoKTtcbn07XG5cbnByb3RvLmhhbmRsZURyYWdFbmQgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCAhdGhpcy5pc0RyYWdnYWJsZSApIHJldHVybjtcblxuICBsZXQgeyBmcmVlU2Nyb2xsIH0gPSB0aGlzLm9wdGlvbnM7XG4gIGlmICggZnJlZVNjcm9sbCApIHRoaXMuaXNGcmVlU2Nyb2xsaW5nID0gdHJ1ZTtcbiAgLy8gc2V0IHNlbGVjdGVkSW5kZXggYmFzZWQgb24gd2hlcmUgZmxpY2sgd2lsbCBlbmQgdXBcbiAgbGV0IGluZGV4ID0gdGhpcy5kcmFnRW5kUmVzdGluZ1NlbGVjdCgpO1xuXG4gIGlmICggZnJlZVNjcm9sbCAmJiAhdGhpcy5pc1dyYXBwaW5nICkge1xuICAgIC8vIGlmIGZyZWUtc2Nyb2xsICYgbm90IHdyYXAgYXJvdW5kXG4gICAgLy8gZG8gbm90IGZyZWUtc2Nyb2xsIGlmIGdvaW5nIG91dHNpZGUgb2YgYm91bmRpbmcgc2xpZGVzXG4gICAgLy8gc28gYm91bmRpbmcgc2xpZGVzIGNhbiBhdHRyYWN0IHNsaWRlciwgYW5kIGtlZXAgaXQgaW4gYm91bmRzXG4gICAgbGV0IHJlc3RpbmdYID0gdGhpcy5nZXRSZXN0aW5nUG9zaXRpb24oKTtcbiAgICB0aGlzLmlzRnJlZVNjcm9sbGluZyA9IC1yZXN0aW5nWCA+IHRoaXMuc2xpZGVzWzBdLnRhcmdldCAmJlxuICAgICAgLXJlc3RpbmdYIDwgdGhpcy5nZXRMYXN0U2xpZGUoKS50YXJnZXQ7XG4gIH0gZWxzZSBpZiAoICFmcmVlU2Nyb2xsICYmIGluZGV4ID09PSB0aGlzLnNlbGVjdGVkSW5kZXggKSB7XG4gICAgLy8gYm9vc3Qgc2VsZWN0aW9uIGlmIHNlbGVjdGVkIGluZGV4IGhhcyBub3QgY2hhbmdlZFxuICAgIGluZGV4ICs9IHRoaXMuZHJhZ0VuZEJvb3N0U2VsZWN0KCk7XG4gIH1cbiAgZGVsZXRlIHRoaXMucHJldmlvdXNEcmFnWDtcbiAgLy8gYXBwbHkgc2VsZWN0aW9uXG4gIC8vIEhBQ0ssIHNldCBmbGFnIHNvIGRyYWdnaW5nIHN0YXlzIGluIGNvcnJlY3QgZGlyZWN0aW9uXG4gIHRoaXMuaXNEcmFnU2VsZWN0ID0gdGhpcy5pc1dyYXBwaW5nO1xuICB0aGlzLnNlbGVjdCggaW5kZXggKTtcbiAgZGVsZXRlIHRoaXMuaXNEcmFnU2VsZWN0O1xufTtcblxucHJvdG8uZHJhZ0VuZFJlc3RpbmdTZWxlY3QgPSBmdW5jdGlvbigpIHtcbiAgbGV0IHJlc3RpbmdYID0gdGhpcy5nZXRSZXN0aW5nUG9zaXRpb24oKTtcbiAgLy8gaG93IGZhciBhd2F5IGZyb20gc2VsZWN0ZWQgc2xpZGVcbiAgbGV0IGRpc3RhbmNlID0gTWF0aC5hYnMoIHRoaXMuZ2V0U2xpZGVEaXN0YW5jZSggLXJlc3RpbmdYLCB0aGlzLnNlbGVjdGVkSW5kZXggKSApO1xuICAvLyBnZXQgY2xvc2V0IHJlc3RpbmcgZ29pbmcgdXAgYW5kIGdvaW5nIGRvd25cbiAgbGV0IHBvc2l0aXZlUmVzdGluZyA9IHRoaXMuX2dldENsb3Nlc3RSZXN0aW5nKCByZXN0aW5nWCwgZGlzdGFuY2UsIDEgKTtcbiAgbGV0IG5lZ2F0aXZlUmVzdGluZyA9IHRoaXMuX2dldENsb3Nlc3RSZXN0aW5nKCByZXN0aW5nWCwgZGlzdGFuY2UsIC0xICk7XG4gIC8vIHVzZSBjbG9zZXIgcmVzdGluZyBmb3Igd3JhcC1hcm91bmRcbiAgcmV0dXJuIHBvc2l0aXZlUmVzdGluZy5kaXN0YW5jZSA8IG5lZ2F0aXZlUmVzdGluZy5kaXN0YW5jZSA/XG4gICAgcG9zaXRpdmVSZXN0aW5nLmluZGV4IDogbmVnYXRpdmVSZXN0aW5nLmluZGV4O1xufTtcblxuLyoqXG4gKiBnaXZlbiByZXN0aW5nIFggYW5kIGRpc3RhbmNlIHRvIHNlbGVjdGVkIGNlbGxcbiAqIGdldCB0aGUgZGlzdGFuY2UgYW5kIGluZGV4IG9mIHRoZSBjbG9zZXN0IGNlbGxcbiAqIEBwYXJhbSB7TnVtYmVyfSByZXN0aW5nWCAtIGVzdGltYXRlZCBwb3N0LWZsaWNrIHJlc3RpbmcgcG9zaXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSBkaXN0YW5jZSAtIGRpc3RhbmNlIHRvIHNlbGVjdGVkIGNlbGxcbiAqIEBwYXJhbSB7SW50ZWdlcn0gaW5jcmVtZW50IC0gKzEgb3IgLTEsIGdvaW5nIHVwIG9yIGRvd25cbiAqIEByZXR1cm5zIHtPYmplY3R9IC0geyBkaXN0YW5jZToge051bWJlcn0sIGluZGV4OiB7SW50ZWdlcn0gfVxuICovXG5wcm90by5fZ2V0Q2xvc2VzdFJlc3RpbmcgPSBmdW5jdGlvbiggcmVzdGluZ1gsIGRpc3RhbmNlLCBpbmNyZW1lbnQgKSB7XG4gIGxldCBpbmRleCA9IHRoaXMuc2VsZWN0ZWRJbmRleDtcbiAgbGV0IG1pbkRpc3RhbmNlID0gSW5maW5pdHk7XG4gIGxldCBjb25kaXRpb24gPSB0aGlzLm9wdGlvbnMuY29udGFpbiAmJiAhdGhpcy5pc1dyYXBwaW5nID9cbiAgICAvLyBpZiBjb250YWluaW5nLCBrZWVwIGdvaW5nIGlmIGRpc3RhbmNlIGlzIGVxdWFsIHRvIG1pbkRpc3RhbmNlXG4gICAgKCBkaXN0LCBtaW5EaXN0ICkgPT4gZGlzdCA8PSBtaW5EaXN0IDpcbiAgICAoIGRpc3QsIG1pbkRpc3QgKSA9PiBkaXN0IDwgbWluRGlzdDtcblxuICB3aGlsZSAoIGNvbmRpdGlvbiggZGlzdGFuY2UsIG1pbkRpc3RhbmNlICkgKSB7XG4gICAgLy8gbWVhc3VyZSBkaXN0YW5jZSB0byBuZXh0IGNlbGxcbiAgICBpbmRleCArPSBpbmNyZW1lbnQ7XG4gICAgbWluRGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICBkaXN0YW5jZSA9IHRoaXMuZ2V0U2xpZGVEaXN0YW5jZSggLXJlc3RpbmdYLCBpbmRleCApO1xuICAgIGlmICggZGlzdGFuY2UgPT09IG51bGwgKSBicmVhaztcblxuICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoIGRpc3RhbmNlICk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBkaXN0YW5jZTogbWluRGlzdGFuY2UsXG4gICAgLy8gc2VsZWN0ZWQgd2FzIHByZXZpb3VzIGluZGV4XG4gICAgaW5kZXg6IGluZGV4IC0gaW5jcmVtZW50LFxuICB9O1xufTtcblxuLyoqXG4gKiBtZWFzdXJlIGRpc3RhbmNlIGJldHdlZW4geCBhbmQgYSBzbGlkZSB0YXJnZXRcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IC0gaG9yaXpvbnRhbCBwb3NpdGlvblxuICogQHBhcmFtIHtJbnRlZ2VyfSBpbmRleCAtIHNsaWRlIGluZGV4XG4gKiBAcmV0dXJucyB7TnVtYmVyfSAtIHNsaWRlIGRpc3RhbmNlXG4gKi9cbnByb3RvLmdldFNsaWRlRGlzdGFuY2UgPSBmdW5jdGlvbiggeCwgaW5kZXggKSB7XG4gIGxldCBsZW4gPSB0aGlzLnNsaWRlcy5sZW5ndGg7XG4gIC8vIHdyYXAgYXJvdW5kIGlmIGF0IGxlYXN0IDIgc2xpZGVzXG4gIGxldCBpc1dyYXBBcm91bmQgPSB0aGlzLm9wdGlvbnMud3JhcEFyb3VuZCAmJiBsZW4gPiAxO1xuICBsZXQgc2xpZGVJbmRleCA9IGlzV3JhcEFyb3VuZCA/IHV0aWxzLm1vZHVsbyggaW5kZXgsIGxlbiApIDogaW5kZXg7XG4gIGxldCBzbGlkZSA9IHRoaXMuc2xpZGVzWyBzbGlkZUluZGV4IF07XG4gIGlmICggIXNsaWRlICkgcmV0dXJuIG51bGw7XG5cbiAgLy8gYWRkIGRpc3RhbmNlIGZvciB3cmFwLWFyb3VuZCBzbGlkZXNcbiAgbGV0IHdyYXAgPSBpc1dyYXBBcm91bmQgPyB0aGlzLnNsaWRlYWJsZVdpZHRoICogTWF0aC5mbG9vciggaW5kZXgvbGVuICkgOiAwO1xuICByZXR1cm4geCAtICggc2xpZGUudGFyZ2V0ICsgd3JhcCApO1xufTtcblxucHJvdG8uZHJhZ0VuZEJvb3N0U2VsZWN0ID0gZnVuY3Rpb24oKSB7XG4gIC8vIGRvIG5vdCBib29zdCBpZiBubyBwcmV2aW91c0RyYWdYIG9yIGRyYWdNb3ZlVGltZVxuICBpZiAoIHRoaXMucHJldmlvdXNEcmFnWCA9PT0gdW5kZWZpbmVkIHx8ICF0aGlzLmRyYWdNb3ZlVGltZSB8fFxuICAgIC8vIG9yIGlmIGRyYWcgd2FzIGhlbGQgZm9yIDEwMCBtc1xuICAgIG5ldyBEYXRlKCkgLSB0aGlzLmRyYWdNb3ZlVGltZSA+IDEwMCApIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGxldCBkaXN0YW5jZSA9IHRoaXMuZ2V0U2xpZGVEaXN0YW5jZSggLXRoaXMuZHJhZ1gsIHRoaXMuc2VsZWN0ZWRJbmRleCApO1xuICBsZXQgZGVsdGEgPSB0aGlzLnByZXZpb3VzRHJhZ1ggLSB0aGlzLmRyYWdYO1xuICBpZiAoIGRpc3RhbmNlID4gMCAmJiBkZWx0YSA+IDAgKSB7XG4gICAgLy8gYm9vc3QgdG8gbmV4dCBpZiBtb3ZpbmcgdG93YXJkcyB0aGUgcmlnaHQsIGFuZCBwb3NpdGl2ZSB2ZWxvY2l0eVxuICAgIHJldHVybiAxO1xuICB9IGVsc2UgaWYgKCBkaXN0YW5jZSA8IDAgJiYgZGVsdGEgPCAwICkge1xuICAgIC8vIGJvb3N0IHRvIHByZXZpb3VzIGlmIG1vdmluZyB0b3dhcmRzIHRoZSBsZWZ0LCBhbmQgbmVnYXRpdmUgdmVsb2NpdHlcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgcmV0dXJuIDA7XG59O1xuXG4vLyAtLS0tLSBzY3JvbGwgLS0tLS0gLy9cblxucHJvdG8ub25zY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgbGV0IHNjcm9sbCA9IGdldFNjcm9sbFBvc2l0aW9uKCk7XG4gIGxldCBzY3JvbGxNb3ZlWCA9IHRoaXMucG9pbnRlckRvd25TY3JvbGwueCAtIHNjcm9sbC54O1xuICBsZXQgc2Nyb2xsTW92ZVkgPSB0aGlzLnBvaW50ZXJEb3duU2Nyb2xsLnkgLSBzY3JvbGwueTtcbiAgLy8gY2FuY2VsIGNsaWNrL3RhcCBpZiBzY3JvbGwgaXMgdG9vIG11Y2hcbiAgaWYgKCBNYXRoLmFicyggc2Nyb2xsTW92ZVggKSA+IDMgfHwgTWF0aC5hYnMoIHNjcm9sbE1vdmVZICkgPiAzICkge1xuICAgIHRoaXMucG9pbnRlckRvbmUoKTtcbiAgfVxufTtcblxuLy8gLS0tLS0gdXRpbHMgLS0tLS0gLy9cblxuZnVuY3Rpb24gZ2V0U2Nyb2xsUG9zaXRpb24oKSB7XG4gIHJldHVybiB7XG4gICAgeDogd2luZG93LnBhZ2VYT2Zmc2V0LFxuICAgIHk6IHdpbmRvdy5wYWdlWU9mZnNldCxcbiAgfTtcbn1cblxuLy8gLS0tLS0gIC0tLS0tIC8vXG5cbnJldHVybiBGbGlja2l0eTtcblxufSApICk7XG4iLCIvLyBsYXp5bG9hZFxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxuICAgICAgICByZXF1aXJlKCcuL2NvcmUnKSxcbiAgICAgICAgcmVxdWlyZSgnZml6enktdWktdXRpbHMnKSxcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgZmFjdG9yeShcbiAgICAgICAgd2luZG93LkZsaWNraXR5LFxuICAgICAgICB3aW5kb3cuZml6enlVSVV0aWxzLFxuICAgICk7XG4gIH1cblxufSggdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uIGZhY3RvcnkoIEZsaWNraXR5LCB1dGlscyApIHtcblxuY29uc3QgbGF6eUF0dHIgPSAnZGF0YS1mbGlja2l0eS1sYXp5bG9hZCc7XG5jb25zdCBsYXp5U3JjQXR0ciA9IGAke2xhenlBdHRyfS1zcmNgO1xuY29uc3QgbGF6eVNyY3NldEF0dHIgPSBgJHtsYXp5QXR0cn0tc3Jjc2V0YDtcbmNvbnN0IGltZ1NlbGVjdG9yID0gYGltZ1ske2xhenlBdHRyfV0sIGltZ1ske2xhenlTcmNBdHRyfV0sIGAgK1xuICBgaW1nWyR7bGF6eVNyY3NldEF0dHJ9XSwgc291cmNlWyR7bGF6eVNyY3NldEF0dHJ9XWA7XG5cbkZsaWNraXR5LmNyZWF0ZS5sYXp5TG9hZCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLm9uKCAnc2VsZWN0JywgdGhpcy5sYXp5TG9hZCApO1xuXG4gIHRoaXMuaGFuZGxlTGF6eUxvYWRDb21wbGV0ZSA9IHRoaXMub25MYXp5TG9hZENvbXBsZXRlLmJpbmQoIHRoaXMgKTtcbn07XG5cbmxldCBwcm90byA9IEZsaWNraXR5LnByb3RvdHlwZTtcblxucHJvdG8ubGF6eUxvYWQgPSBmdW5jdGlvbigpIHtcbiAgbGV0IHsgbGF6eUxvYWQgfSA9IHRoaXMub3B0aW9ucztcbiAgaWYgKCAhbGF6eUxvYWQgKSByZXR1cm47XG5cbiAgLy8gZ2V0IGFkamFjZW50IGNlbGxzLCB1c2UgbGF6eUxvYWQgb3B0aW9uIGZvciBhZGphY2VudCBjb3VudFxuICBsZXQgYWRqQ291bnQgPSB0eXBlb2YgbGF6eUxvYWQgPT0gJ251bWJlcicgPyBsYXp5TG9hZCA6IDA7XG4gIC8vIGxhenkgbG9hZCBpbWFnZXNcbiAgdGhpcy5nZXRBZGphY2VudENlbGxFbGVtZW50cyggYWRqQ291bnQgKVxuICAgIC5tYXAoIGdldENlbGxMYXp5SW1hZ2VzIClcbiAgICAuZmxhdCgpXG4gICAgLmZvckVhY2goICggaW1nICkgPT4gbmV3IExhenlMb2FkZXIoIGltZywgdGhpcy5oYW5kbGVMYXp5TG9hZENvbXBsZXRlICkgKTtcbn07XG5cbmZ1bmN0aW9uIGdldENlbGxMYXp5SW1hZ2VzKCBjZWxsRWxlbSApIHtcbiAgLy8gY2hlY2sgaWYgY2VsbCBlbGVtZW50IGlzIGxhenkgaW1hZ2VcbiAgaWYgKCBjZWxsRWxlbS5tYXRjaGVzKCdpbWcnKSApIHtcbiAgICBsZXQgY2VsbEF0dHIgPSBjZWxsRWxlbS5nZXRBdHRyaWJ1dGUoIGxhenlBdHRyICk7XG4gICAgbGV0IGNlbGxTcmNBdHRyID0gY2VsbEVsZW0uZ2V0QXR0cmlidXRlKCBsYXp5U3JjQXR0ciApO1xuICAgIGxldCBjZWxsU3Jjc2V0QXR0ciA9IGNlbGxFbGVtLmdldEF0dHJpYnV0ZSggbGF6eVNyY3NldEF0dHIgKTtcbiAgICBpZiAoIGNlbGxBdHRyIHx8IGNlbGxTcmNBdHRyIHx8IGNlbGxTcmNzZXRBdHRyICkge1xuICAgICAgcmV0dXJuIGNlbGxFbGVtO1xuICAgIH1cbiAgfVxuICAvLyBzZWxlY3QgbGF6eSBpbWFnZXMgaW4gY2VsbFxuICByZXR1cm4gWyAuLi5jZWxsRWxlbS5xdWVyeVNlbGVjdG9yQWxsKCBpbWdTZWxlY3RvciApIF07XG59XG5cbnByb3RvLm9uTGF6eUxvYWRDb21wbGV0ZSA9IGZ1bmN0aW9uKCBpbWcsIGV2ZW50ICkge1xuICBsZXQgY2VsbCA9IHRoaXMuZ2V0UGFyZW50Q2VsbCggaW1nICk7XG4gIGxldCBjZWxsRWxlbSA9IGNlbGwgJiYgY2VsbC5lbGVtZW50O1xuICB0aGlzLmNlbGxTaXplQ2hhbmdlKCBjZWxsRWxlbSApO1xuXG4gIHRoaXMuZGlzcGF0Y2hFdmVudCggJ2xhenlMb2FkJywgZXZlbnQsIGNlbGxFbGVtICk7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBMYXp5TG9hZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8qKlxuICogY2xhc3MgdG8gaGFuZGxlIGxvYWRpbmcgaW1hZ2VzXG4gKiBAcGFyYW0ge0ltYWdlfSBpbWcgLSBJbWFnZSBlbGVtZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkNvbXBsZXRlIC0gY2FsbGJhY2sgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gTGF6eUxvYWRlciggaW1nLCBvbkNvbXBsZXRlICkge1xuICB0aGlzLmltZyA9IGltZztcbiAgdGhpcy5vbkNvbXBsZXRlID0gb25Db21wbGV0ZTtcbiAgdGhpcy5sb2FkKCk7XG59XG5cbkxhenlMb2FkZXIucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gdXRpbHMuaGFuZGxlRXZlbnQ7XG5cbkxhenlMb2FkZXIucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5pbWcuYWRkRXZlbnRMaXN0ZW5lciggJ2xvYWQnLCB0aGlzICk7XG4gIHRoaXMuaW1nLmFkZEV2ZW50TGlzdGVuZXIoICdlcnJvcicsIHRoaXMgKTtcbiAgLy8gZ2V0IHNyYyAmIHNyY3NldFxuICBsZXQgc3JjID0gdGhpcy5pbWcuZ2V0QXR0cmlidXRlKCBsYXp5QXR0ciApIHx8XG4gICAgdGhpcy5pbWcuZ2V0QXR0cmlidXRlKCBsYXp5U3JjQXR0ciApO1xuICBsZXQgc3Jjc2V0ID0gdGhpcy5pbWcuZ2V0QXR0cmlidXRlKCBsYXp5U3Jjc2V0QXR0ciApO1xuICAvLyBzZXQgc3JjICYgc2Vyc2V0XG4gIHRoaXMuaW1nLnNyYyA9IHNyYztcbiAgaWYgKCBzcmNzZXQgKSB0aGlzLmltZy5zZXRBdHRyaWJ1dGUoICdzcmNzZXQnLCBzcmNzZXQgKTtcbiAgLy8gcmVtb3ZlIGF0dHJcbiAgdGhpcy5pbWcucmVtb3ZlQXR0cmlidXRlKCBsYXp5QXR0ciApO1xuICB0aGlzLmltZy5yZW1vdmVBdHRyaWJ1dGUoIGxhenlTcmNBdHRyICk7XG4gIHRoaXMuaW1nLnJlbW92ZUF0dHJpYnV0ZSggbGF6eVNyY3NldEF0dHIgKTtcbn07XG5cbkxhenlMb2FkZXIucHJvdG90eXBlLm9ubG9hZCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdGhpcy5jb21wbGV0ZSggZXZlbnQsICdmbGlja2l0eS1sYXp5bG9hZGVkJyApO1xufTtcblxuTGF6eUxvYWRlci5wcm90b3R5cGUub25lcnJvciA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdGhpcy5jb21wbGV0ZSggZXZlbnQsICdmbGlja2l0eS1sYXp5ZXJyb3InICk7XG59O1xuXG5MYXp5TG9hZGVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uKCBldmVudCwgY2xhc3NOYW1lICkge1xuICAvLyB1bmJpbmQgZXZlbnRzXG4gIHRoaXMuaW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdsb2FkJywgdGhpcyApO1xuICB0aGlzLmltZy5yZW1vdmVFdmVudExpc3RlbmVyKCAnZXJyb3InLCB0aGlzICk7XG4gIGxldCBtZWRpYUVsZW0gPSB0aGlzLmltZy5wYXJlbnROb2RlLm1hdGNoZXMoJ3BpY3R1cmUnKSA/IHRoaXMuaW1nLnBhcmVudE5vZGUgOiB0aGlzLmltZztcbiAgbWVkaWFFbGVtLmNsYXNzTGlzdC5hZGQoIGNsYXNzTmFtZSApO1xuXG4gIHRoaXMub25Db21wbGV0ZSggdGhpcy5pbWcsIGV2ZW50ICk7XG59O1xuXG4vLyAtLS0tLSAgLS0tLS0gLy9cblxuRmxpY2tpdHkuTGF6eUxvYWRlciA9IExhenlMb2FkZXI7XG5cbnJldHVybiBGbGlja2l0eTtcblxufSApICk7XG4iLCIvLyBpbWFnZXNsb2FkZWRcbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgICAgcmVxdWlyZSgnLi9jb3JlJyksXG4gICAgICAgIHJlcXVpcmUoJ2ltYWdlc2xvYWRlZCcpLFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICBmYWN0b3J5KFxuICAgICAgICB3aW5kb3cuRmxpY2tpdHksXG4gICAgICAgIHdpbmRvdy5pbWFnZXNMb2FkZWQsXG4gICAgKTtcbiAgfVxuXG59KCB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnID8gd2luZG93IDogdGhpcyxcbiAgICBmdW5jdGlvbiBmYWN0b3J5KCBGbGlja2l0eSwgaW1hZ2VzTG9hZGVkICkge1xuXG5GbGlja2l0eS5jcmVhdGUuaW1hZ2VzTG9hZGVkID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMub24oICdhY3RpdmF0ZScsIHRoaXMuaW1hZ2VzTG9hZGVkICk7XG59O1xuXG5GbGlja2l0eS5wcm90b3R5cGUuaW1hZ2VzTG9hZGVkID0gZnVuY3Rpb24oKSB7XG4gIGlmICggIXRoaXMub3B0aW9ucy5pbWFnZXNMb2FkZWQgKSByZXR1cm47XG5cbiAgbGV0IG9uSW1hZ2VzTG9hZGVkUHJvZ3Jlc3MgPSAoIGluc3RhbmNlLCBpbWFnZSApID0+IHtcbiAgICBsZXQgY2VsbCA9IHRoaXMuZ2V0UGFyZW50Q2VsbCggaW1hZ2UuaW1nICk7XG4gICAgdGhpcy5jZWxsU2l6ZUNoYW5nZSggY2VsbCAmJiBjZWxsLmVsZW1lbnQgKTtcbiAgICBpZiAoICF0aGlzLm9wdGlvbnMuZnJlZVNjcm9sbCApIHRoaXMucG9zaXRpb25TbGlkZXJBdFNlbGVjdGVkKCk7XG4gIH07XG4gIGltYWdlc0xvYWRlZCggdGhpcy5zbGlkZXIgKS5vbiggJ3Byb2dyZXNzJywgb25JbWFnZXNMb2FkZWRQcm9ncmVzcyApO1xufTtcblxucmV0dXJuIEZsaWNraXR5O1xuXG59ICkgKTtcbiIsIi8qIVxuICogRmxpY2tpdHkgdjMuMC4wXG4gKiBUb3VjaCwgcmVzcG9uc2l2ZSwgZmxpY2thYmxlIGNhcm91c2Vsc1xuICpcbiAqIExpY2Vuc2VkIEdQTHYzIGZvciBvcGVuIHNvdXJjZSB1c2VcbiAqIG9yIEZsaWNraXR5IENvbW1lcmNpYWwgTGljZW5zZSBmb3IgY29tbWVyY2lhbCB1c2VcbiAqXG4gKiBodHRwczovL2ZsaWNraXR5Lm1ldGFmaXp6eS5jb1xuICogQ29weXJpZ2h0IDIwMTUtMjAyMiBNZXRhZml6enlcbiAqL1xuXG5pZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gIGNvbnN0IEZsaWNraXR5ID0gcmVxdWlyZSgnLi9jb3JlJyk7XG4gIHJlcXVpcmUoJy4vZHJhZycpO1xuICByZXF1aXJlKCcuL3ByZXYtbmV4dC1idXR0b24nKTtcbiAgcmVxdWlyZSgnLi9wYWdlLWRvdHMnKTtcbiAgcmVxdWlyZSgnLi9wbGF5ZXInKTtcbiAgcmVxdWlyZSgnLi9hZGQtcmVtb3ZlLWNlbGwnKTtcbiAgcmVxdWlyZSgnLi9sYXp5bG9hZCcpO1xuICByZXF1aXJlKCcuL2ltYWdlc2xvYWRlZCcpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gRmxpY2tpdHk7XG59XG4iLCIvLyBwYWdlIGRvdHNcbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgICAgcmVxdWlyZSgnLi9jb3JlJyksXG4gICAgICAgIHJlcXVpcmUoJ2Zpenp5LXVpLXV0aWxzJyksXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIGZhY3RvcnkoXG4gICAgICAgIHdpbmRvdy5GbGlja2l0eSxcbiAgICAgICAgd2luZG93LmZpenp5VUlVdGlscyxcbiAgICApO1xuICB9XG5cbn0oIHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbiBmYWN0b3J5KCBGbGlja2l0eSwgdXRpbHMgKSB7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFBhZ2VEb3RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbmZ1bmN0aW9uIFBhZ2VEb3RzKCkge1xuICAvLyBjcmVhdGUgaG9sZGVyIGVsZW1lbnRcbiAgdGhpcy5ob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdGhpcy5ob2xkZXIuY2xhc3NOYW1lID0gJ2ZsaWNraXR5LXBhZ2UtZG90cyc7XG4gIC8vIGNyZWF0ZSBkb3RzLCBhcnJheSBvZiBlbGVtZW50c1xuICB0aGlzLmRvdHMgPSBbXTtcbn1cblxuUGFnZURvdHMucHJvdG90eXBlLnNldERvdHMgPSBmdW5jdGlvbiggc2xpZGVzTGVuZ3RoICkge1xuICAvLyBnZXQgZGlmZmVyZW5jZSBiZXR3ZWVuIG51bWJlciBvZiBzbGlkZXMgYW5kIG51bWJlciBvZiBkb3RzXG4gIGxldCBkZWx0YSA9IHNsaWRlc0xlbmd0aCAtIHRoaXMuZG90cy5sZW5ndGg7XG4gIGlmICggZGVsdGEgPiAwICkge1xuICAgIHRoaXMuYWRkRG90cyggZGVsdGEgKTtcbiAgfSBlbHNlIGlmICggZGVsdGEgPCAwICkge1xuICAgIHRoaXMucmVtb3ZlRG90cyggLWRlbHRhICk7XG4gIH1cbn07XG5cblBhZ2VEb3RzLnByb3RvdHlwZS5hZGREb3RzID0gZnVuY3Rpb24oIGNvdW50ICkge1xuICBsZXQgbmV3RG90cyA9IG5ldyBBcnJheSggY291bnQgKS5maWxsKClcbiAgICAubWFwKCAoIGl0ZW0sIGkgKSA9PiB7XG4gICAgICBsZXQgZG90ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBkb3Quc2V0QXR0cmlidXRlKCAndHlwZScsICdidXR0b24nICk7XG4gICAgICBsZXQgbnVtID0gaSArIDEgKyB0aGlzLmRvdHMubGVuZ3RoO1xuICAgICAgZG90LmNsYXNzTmFtZSA9ICdmbGlja2l0eS1wYWdlLWRvdCc7XG4gICAgICBkb3QudGV4dENvbnRlbnQgPSBgVmlldyBzbGlkZSAke251bX1gO1xuICAgICAgcmV0dXJuIGRvdDtcbiAgICB9ICk7XG5cbiAgdGhpcy5ob2xkZXIuYXBwZW5kKCAuLi5uZXdEb3RzICk7XG4gIHRoaXMuZG90cyA9IHRoaXMuZG90cy5jb25jYXQoIG5ld0RvdHMgKTtcbn07XG5cblBhZ2VEb3RzLnByb3RvdHlwZS5yZW1vdmVEb3RzID0gZnVuY3Rpb24oIGNvdW50ICkge1xuICAvLyByZW1vdmUgZnJvbSB0aGlzLmRvdHMgY29sbGVjdGlvblxuICBsZXQgcmVtb3ZlRG90cyA9IHRoaXMuZG90cy5zcGxpY2UoIHRoaXMuZG90cy5sZW5ndGggLSBjb3VudCwgY291bnQgKTtcbiAgLy8gcmVtb3ZlIGZyb20gRE9NXG4gIHJlbW92ZURvdHMuZm9yRWFjaCggKCBkb3QgKSA9PiBkb3QucmVtb3ZlKCkgKTtcbn07XG5cblBhZ2VEb3RzLnByb3RvdHlwZS51cGRhdGVTZWxlY3RlZCA9IGZ1bmN0aW9uKCBpbmRleCApIHtcbiAgLy8gcmVtb3ZlIHNlbGVjdGVkIGNsYXNzIG9uIHByZXZpb3VzXG4gIGlmICggdGhpcy5zZWxlY3RlZERvdCApIHtcbiAgICB0aGlzLnNlbGVjdGVkRG90LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLXNlbGVjdGVkJyk7XG4gICAgdGhpcy5zZWxlY3RlZERvdC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICB9XG4gIC8vIGRvbid0IHByb2NlZWQgaWYgbm8gZG90c1xuICBpZiAoICF0aGlzLmRvdHMubGVuZ3RoICkgcmV0dXJuO1xuXG4gIHRoaXMuc2VsZWN0ZWREb3QgPSB0aGlzLmRvdHNbIGluZGV4IF07XG4gIHRoaXMuc2VsZWN0ZWREb3QuY2xhc3NMaXN0LmFkZCgnaXMtc2VsZWN0ZWQnKTtcbiAgdGhpcy5zZWxlY3RlZERvdC5zZXRBdHRyaWJ1dGUoICdhcmlhLWN1cnJlbnQnLCAnc3RlcCcgKTtcbn07XG5cbkZsaWNraXR5LlBhZ2VEb3RzID0gUGFnZURvdHM7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEZsaWNraXR5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbk9iamVjdC5hc3NpZ24oIEZsaWNraXR5LmRlZmF1bHRzLCB7XG4gIHBhZ2VEb3RzOiB0cnVlLFxufSApO1xuXG5GbGlja2l0eS5jcmVhdGUucGFnZURvdHMgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCAhdGhpcy5vcHRpb25zLnBhZ2VEb3RzICkgcmV0dXJuO1xuXG4gIHRoaXMucGFnZURvdHMgPSBuZXcgUGFnZURvdHMoKTtcbiAgdGhpcy5oYW5kbGVQYWdlRG90c0NsaWNrID0gdGhpcy5vblBhZ2VEb3RzQ2xpY2suYmluZCggdGhpcyApO1xuICAvLyBldmVudHNcbiAgdGhpcy5vbiggJ2FjdGl2YXRlJywgdGhpcy5hY3RpdmF0ZVBhZ2VEb3RzICk7XG4gIHRoaXMub24oICdzZWxlY3QnLCB0aGlzLnVwZGF0ZVNlbGVjdGVkUGFnZURvdHMgKTtcbiAgdGhpcy5vbiggJ2NlbGxDaGFuZ2UnLCB0aGlzLnVwZGF0ZVBhZ2VEb3RzICk7XG4gIHRoaXMub24oICdyZXNpemUnLCB0aGlzLnVwZGF0ZVBhZ2VEb3RzICk7XG4gIHRoaXMub24oICdkZWFjdGl2YXRlJywgdGhpcy5kZWFjdGl2YXRlUGFnZURvdHMgKTtcbn07XG5cbmxldCBwcm90byA9IEZsaWNraXR5LnByb3RvdHlwZTtcblxucHJvdG8uYWN0aXZhdGVQYWdlRG90cyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBhZ2VEb3RzLnNldERvdHMoIHRoaXMuc2xpZGVzLmxlbmd0aCApO1xuICB0aGlzLmZvY3VzYWJsZUVsZW1zLnB1c2goIC4uLnRoaXMucGFnZURvdHMuZG90cyApO1xuICB0aGlzLnBhZ2VEb3RzLmhvbGRlci5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCB0aGlzLmhhbmRsZVBhZ2VEb3RzQ2xpY2sgKTtcbiAgdGhpcy5lbGVtZW50LmFwcGVuZCggdGhpcy5wYWdlRG90cy5ob2xkZXIgKTtcbn07XG5cbnByb3RvLm9uUGFnZURvdHNDbGljayA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgbGV0IGluZGV4ID0gdGhpcy5wYWdlRG90cy5kb3RzLmluZGV4T2YoIGV2ZW50LnRhcmdldCApO1xuICBpZiAoIGluZGV4ID09PSAtMSApIHJldHVybjsgLy8gb25seSBkb3QgY2xpY2tzXG5cbiAgdGhpcy51aUNoYW5nZSgpO1xuICB0aGlzLnNlbGVjdCggaW5kZXggKTtcbn07XG5cbnByb3RvLnVwZGF0ZVNlbGVjdGVkUGFnZURvdHMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5wYWdlRG90cy51cGRhdGVTZWxlY3RlZCggdGhpcy5zZWxlY3RlZEluZGV4ICk7XG59O1xuXG5wcm90by51cGRhdGVQYWdlRG90cyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBhZ2VEb3RzLmRvdHMuZm9yRWFjaCggKCBkb3QgKSA9PiB7XG4gICAgdXRpbHMucmVtb3ZlRnJvbSggdGhpcy5mb2N1c2FibGVFbGVtcywgZG90ICk7XG4gIH0gKTtcbiAgdGhpcy5wYWdlRG90cy5zZXREb3RzKCB0aGlzLnNsaWRlcy5sZW5ndGggKTtcbiAgdGhpcy5mb2N1c2FibGVFbGVtcy5wdXNoKCAuLi50aGlzLnBhZ2VEb3RzLmRvdHMgKTtcbn07XG5cbnByb3RvLmRlYWN0aXZhdGVQYWdlRG90cyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBhZ2VEb3RzLmhvbGRlci5yZW1vdmUoKTtcbiAgdGhpcy5wYWdlRG90cy5ob2xkZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgdGhpcy5oYW5kbGVQYWdlRG90c0NsaWNrICk7XG59O1xuXG4vLyAtLS0tLSAgLS0tLS0gLy9cblxuRmxpY2tpdHkuUGFnZURvdHMgPSBQYWdlRG90cztcblxucmV0dXJuIEZsaWNraXR5O1xuXG59ICkgKTtcbiIsIi8vIHBsYXllciAmIGF1dG9QbGF5XG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoIHJlcXVpcmUoJy4vY29yZScpICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICBmYWN0b3J5KCB3aW5kb3cuRmxpY2tpdHkgKTtcbiAgfVxuXG59KCB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24gZmFjdG9yeSggRmxpY2tpdHkgKSB7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFBsYXllciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5mdW5jdGlvbiBQbGF5ZXIoIGF1dG9QbGF5LCBvblRpY2sgKSB7XG4gIHRoaXMuYXV0b1BsYXkgPSBhdXRvUGxheTtcbiAgdGhpcy5vblRpY2sgPSBvblRpY2s7XG4gIHRoaXMuc3RhdGUgPSAnc3RvcHBlZCc7XG4gIC8vIHZpc2liaWxpdHkgY2hhbmdlIGV2ZW50IGhhbmRsZXJcbiAgdGhpcy5vblZpc2liaWxpdHlDaGFuZ2UgPSB0aGlzLnZpc2liaWxpdHlDaGFuZ2UuYmluZCggdGhpcyApO1xuICB0aGlzLm9uVmlzaWJpbGl0eVBsYXkgPSB0aGlzLnZpc2liaWxpdHlQbGF5LmJpbmQoIHRoaXMgKTtcbn1cblxuLy8gc3RhcnQgcGxheVxuUGxheWVyLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24oKSB7XG4gIGlmICggdGhpcy5zdGF0ZSA9PT0gJ3BsYXlpbmcnICkgcmV0dXJuO1xuXG4gIC8vIGRvIG5vdCBwbGF5IGlmIHBhZ2UgaXMgaGlkZGVuLCBzdGFydCBwbGF5aW5nIHdoZW4gcGFnZSBpcyB2aXNpYmxlXG4gIGxldCBpc1BhZ2VIaWRkZW4gPSBkb2N1bWVudC5oaWRkZW47XG4gIGlmICggaXNQYWdlSGlkZGVuICkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd2aXNpYmlsaXR5Y2hhbmdlJywgdGhpcy5vblZpc2liaWxpdHlQbGF5ICk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5zdGF0ZSA9ICdwbGF5aW5nJztcbiAgLy8gbGlzdGVuIHRvIHZpc2liaWxpdHkgY2hhbmdlXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd2aXNpYmlsaXR5Y2hhbmdlJywgdGhpcy5vblZpc2liaWxpdHlDaGFuZ2UgKTtcbiAgLy8gc3RhcnQgdGlja2luZ1xuICB0aGlzLnRpY2soKTtcbn07XG5cblBsYXllci5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uKCkge1xuICAvLyBkbyBub3QgdGljayBpZiBub3QgcGxheWluZ1xuICBpZiAoIHRoaXMuc3RhdGUgIT09ICdwbGF5aW5nJyApIHJldHVybjtcblxuICAvLyBkZWZhdWx0IHRvIDMgc2Vjb25kc1xuICBsZXQgdGltZSA9IHR5cGVvZiB0aGlzLmF1dG9QbGF5ID09ICdudW1iZXInID8gdGhpcy5hdXRvUGxheSA6IDMwMDA7XG4gIC8vIEhBQ0s6IHJlc2V0IHRpY2tzIGlmIHN0b3BwZWQgYW5kIHN0YXJ0ZWQgd2l0aGluIGludGVydmFsXG4gIHRoaXMuY2xlYXIoKTtcbiAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCggKCkgPT4ge1xuICAgIHRoaXMub25UaWNrKCk7XG4gICAgdGhpcy50aWNrKCk7XG4gIH0sIHRpbWUgKTtcbn07XG5cblBsYXllci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnN0YXRlID0gJ3N0b3BwZWQnO1xuICB0aGlzLmNsZWFyKCk7XG4gIC8vIHJlbW92ZSB2aXNpYmlsaXR5IGNoYW5nZSBldmVudFxuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAndmlzaWJpbGl0eWNoYW5nZScsIHRoaXMub25WaXNpYmlsaXR5Q2hhbmdlICk7XG59O1xuXG5QbGF5ZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gIGNsZWFyVGltZW91dCggdGhpcy50aW1lb3V0ICk7XG59O1xuXG5QbGF5ZXIucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24oKSB7XG4gIGlmICggdGhpcy5zdGF0ZSA9PT0gJ3BsYXlpbmcnICkge1xuICAgIHRoaXMuc3RhdGUgPSAncGF1c2VkJztcbiAgICB0aGlzLmNsZWFyKCk7XG4gIH1cbn07XG5cblBsYXllci5wcm90b3R5cGUudW5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAvLyByZS1zdGFydCBwbGF5IGlmIHBhdXNlZFxuICBpZiAoIHRoaXMuc3RhdGUgPT09ICdwYXVzZWQnICkgdGhpcy5wbGF5KCk7XG59O1xuXG4vLyBwYXVzZSBpZiBwYWdlIHZpc2liaWxpdHkgaXMgaGlkZGVuLCB1bnBhdXNlIGlmIHZpc2libGVcblBsYXllci5wcm90b3R5cGUudmlzaWJpbGl0eUNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICBsZXQgaXNQYWdlSGlkZGVuID0gZG9jdW1lbnQuaGlkZGVuO1xuICB0aGlzWyBpc1BhZ2VIaWRkZW4gPyAncGF1c2UnIDogJ3VucGF1c2UnIF0oKTtcbn07XG5cblBsYXllci5wcm90b3R5cGUudmlzaWJpbGl0eVBsYXkgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5wbGF5KCk7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICd2aXNpYmlsaXR5Y2hhbmdlJywgdGhpcy5vblZpc2liaWxpdHlQbGF5ICk7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBGbGlja2l0eSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5PYmplY3QuYXNzaWduKCBGbGlja2l0eS5kZWZhdWx0cywge1xuICBwYXVzZUF1dG9QbGF5T25Ib3ZlcjogdHJ1ZSxcbn0gKTtcblxuRmxpY2tpdHkuY3JlYXRlLnBsYXllciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXIoIHRoaXMub3B0aW9ucy5hdXRvUGxheSwgKCkgPT4ge1xuICAgIHRoaXMubmV4dCggdHJ1ZSApO1xuICB9ICk7XG5cbiAgdGhpcy5vbiggJ2FjdGl2YXRlJywgdGhpcy5hY3RpdmF0ZVBsYXllciApO1xuICB0aGlzLm9uKCAndWlDaGFuZ2UnLCB0aGlzLnN0b3BQbGF5ZXIgKTtcbiAgdGhpcy5vbiggJ3BvaW50ZXJEb3duJywgdGhpcy5zdG9wUGxheWVyICk7XG4gIHRoaXMub24oICdkZWFjdGl2YXRlJywgdGhpcy5kZWFjdGl2YXRlUGxheWVyICk7XG59O1xuXG5sZXQgcHJvdG8gPSBGbGlja2l0eS5wcm90b3R5cGU7XG5cbnByb3RvLmFjdGl2YXRlUGxheWVyID0gZnVuY3Rpb24oKSB7XG4gIGlmICggIXRoaXMub3B0aW9ucy5hdXRvUGxheSApIHJldHVybjtcblxuICB0aGlzLnBsYXllci5wbGF5KCk7XG4gIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAnbW91c2VlbnRlcicsIHRoaXMgKTtcbn07XG5cbi8vIFBsYXllciBBUEksIGRvbid0IGhhdGUgdGhlIC4uLiB0aGFua3MgSSBrbm93IHdoZXJlIHRoZSBkb29yIGlzXG5cbnByb3RvLnBsYXlQbGF5ZXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5wbGF5ZXIucGxheSgpO1xufTtcblxucHJvdG8uc3RvcFBsYXllciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBsYXllci5zdG9wKCk7XG59O1xuXG5wcm90by5wYXVzZVBsYXllciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBsYXllci5wYXVzZSgpO1xufTtcblxucHJvdG8udW5wYXVzZVBsYXllciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBsYXllci51bnBhdXNlKCk7XG59O1xuXG5wcm90by5kZWFjdGl2YXRlUGxheWVyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucGxheWVyLnN0b3AoKTtcbiAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdtb3VzZWVudGVyJywgdGhpcyApO1xufTtcblxuLy8gLS0tLS0gbW91c2VlbnRlci9sZWF2ZSAtLS0tLSAvL1xuXG4vLyBwYXVzZSBhdXRvLXBsYXkgb24gaG92ZXJcbnByb3RvLm9ubW91c2VlbnRlciA9IGZ1bmN0aW9uKCkge1xuICBpZiAoICF0aGlzLm9wdGlvbnMucGF1c2VBdXRvUGxheU9uSG92ZXIgKSByZXR1cm47XG5cbiAgdGhpcy5wbGF5ZXIucGF1c2UoKTtcbiAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdtb3VzZWxlYXZlJywgdGhpcyApO1xufTtcblxuLy8gcmVzdW1lIGF1dG8tcGxheSBvbiBob3ZlciBvZmZcbnByb3RvLm9ubW91c2VsZWF2ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBsYXllci51bnBhdXNlKCk7XG4gIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnbW91c2VsZWF2ZScsIHRoaXMgKTtcbn07XG5cbi8vIC0tLS0tICAtLS0tLSAvL1xuXG5GbGlja2l0eS5QbGF5ZXIgPSBQbGF5ZXI7XG5cbnJldHVybiBGbGlja2l0eTtcblxufSApICk7XG4iLCIvLyBwcmV2L25leHQgYnV0dG9uc1xuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCByZXF1aXJlKCcuL2NvcmUnKSApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgZmFjdG9yeSggd2luZG93LkZsaWNraXR5ICk7XG4gIH1cblxufSggdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uIGZhY3RvcnkoIEZsaWNraXR5ICkge1xuXG5jb25zdCBzdmdVUkkgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBQcmV2TmV4dEJ1dHRvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5mdW5jdGlvbiBQcmV2TmV4dEJ1dHRvbiggaW5jcmVtZW50LCBkaXJlY3Rpb24sIGFycm93U2hhcGUgKSB7XG4gIHRoaXMuaW5jcmVtZW50ID0gaW5jcmVtZW50O1xuICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgdGhpcy5pc1ByZXZpb3VzID0gaW5jcmVtZW50ID09PSAncHJldmlvdXMnO1xuICB0aGlzLmlzTGVmdCA9IGRpcmVjdGlvbiA9PT0gJ2xlZnQnO1xuICB0aGlzLl9jcmVhdGUoIGFycm93U2hhcGUgKTtcbn1cblxuUHJldk5leHRCdXR0b24ucHJvdG90eXBlLl9jcmVhdGUgPSBmdW5jdGlvbiggYXJyb3dTaGFwZSApIHtcbiAgLy8gcHJvcGVydGllc1xuICBsZXQgZWxlbWVudCA9IHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBlbGVtZW50LmNsYXNzTmFtZSA9IGBmbGlja2l0eS1idXR0b24gZmxpY2tpdHktcHJldi1uZXh0LWJ1dHRvbiAke3RoaXMuaW5jcmVtZW50fWA7XG4gIGxldCBsYWJlbCA9IHRoaXMuaXNQcmV2aW91cyA/ICdQcmV2aW91cycgOiAnTmV4dCc7XG4gIC8vIHByZXZlbnQgYnV0dG9uIGZyb20gc3VibWl0dGluZyBmb3JtIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMDgzNjA3Ni8xODIxODNcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoICd0eXBlJywgJ2J1dHRvbicgKTtcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoICdhcmlhLWxhYmVsJywgbGFiZWwgKTtcbiAgLy8gaW5pdCBhcyBkaXNhYmxlZFxuICB0aGlzLmRpc2FibGUoKTtcbiAgLy8gY3JlYXRlIGFycm93XG4gIGxldCBzdmcgPSB0aGlzLmNyZWF0ZVNWRyggbGFiZWwsIGFycm93U2hhcGUgKTtcbiAgZWxlbWVudC5hcHBlbmQoIHN2ZyApO1xufTtcblxuUHJldk5leHRCdXR0b24ucHJvdG90eXBlLmNyZWF0ZVNWRyA9IGZ1bmN0aW9uKCBsYWJlbCwgYXJyb3dTaGFwZSApIHtcbiAgbGV0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyggc3ZnVVJJLCAnc3ZnJyApO1xuICBzdmcuc2V0QXR0cmlidXRlKCAnY2xhc3MnLCAnZmxpY2tpdHktYnV0dG9uLWljb24nICk7XG4gIHN2Zy5zZXRBdHRyaWJ1dGUoICd2aWV3Qm94JywgJzAgMCAxMDAgMTAwJyApO1xuICAvLyBhZGQgdGl0bGUgIzExODlcbiAgbGV0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCBzdmdVUkksICd0aXRsZScgKTtcbiAgdGl0bGUuYXBwZW5kKCBsYWJlbCApO1xuICAvLyBhZGQgcGF0aFxuICBsZXQgcGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyggc3ZnVVJJLCAncGF0aCcgKTtcbiAgbGV0IHBhdGhNb3ZlbWVudHMgPSBnZXRBcnJvd01vdmVtZW50cyggYXJyb3dTaGFwZSApO1xuICBwYXRoLnNldEF0dHJpYnV0ZSggJ2QnLCBwYXRoTW92ZW1lbnRzICk7XG4gIHBhdGguc2V0QXR0cmlidXRlKCAnY2xhc3MnLCAnYXJyb3cnICk7XG4gIC8vIHJvdGF0ZSBhcnJvd1xuICBpZiAoICF0aGlzLmlzTGVmdCApIHtcbiAgICBwYXRoLnNldEF0dHJpYnV0ZSggJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMTAwLCAxMDApIHJvdGF0ZSgxODApJyApO1xuICB9XG4gIHN2Zy5hcHBlbmQoIHRpdGxlLCBwYXRoICk7XG4gIHJldHVybiBzdmc7XG59O1xuXG4vLyBnZXQgU1ZHIHBhdGggbW92bWVtZW50XG5mdW5jdGlvbiBnZXRBcnJvd01vdmVtZW50cyggc2hhcGUgKSB7XG4gIC8vIHVzZSBzaGFwZSBhcyBtb3ZlbWVudCBpZiBzdHJpbmdcbiAgaWYgKCB0eXBlb2Ygc2hhcGUgPT0gJ3N0cmluZycgKSByZXR1cm4gc2hhcGU7XG5cbiAgbGV0IHsgeDAsIHgxLCB4MiwgeDMsIHkxLCB5MiB9ID0gc2hhcGU7XG5cbiAgLy8gY3JlYXRlIG1vdmVtZW50IHN0cmluZ1xuICByZXR1cm4gYE0gJHt4MH0sIDUwXG4gICAgTCAke3gxfSwgJHt5MSArIDUwfVxuICAgIEwgJHt4Mn0sICR7eTIgKyA1MH1cbiAgICBMICR7eDN9LCA1MFxuICAgIEwgJHt4Mn0sICR7NTAgLSB5Mn1cbiAgICBMICR7eDF9LCAkezUwIC0geTF9XG4gICAgWmA7XG59XG5cbi8vIC0tLS0tICAtLS0tLSAvL1xuXG5QcmV2TmV4dEJ1dHRvbi5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG59O1xuXG5QcmV2TmV4dEJ1dHRvbi5wcm90b3R5cGUuZGlzYWJsZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCAnZGlzYWJsZWQnLCB0cnVlICk7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBGbGlja2l0eSBwcm90b3R5cGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuT2JqZWN0LmFzc2lnbiggRmxpY2tpdHkuZGVmYXVsdHMsIHtcbiAgcHJldk5leHRCdXR0b25zOiB0cnVlLFxuICBhcnJvd1NoYXBlOiB7XG4gICAgeDA6IDEwLFxuICAgIHgxOiA2MCwgeTE6IDUwLFxuICAgIHgyOiA3MCwgeTI6IDQwLFxuICAgIHgzOiAzMCxcbiAgfSxcbn0gKTtcblxuRmxpY2tpdHkuY3JlYXRlLnByZXZOZXh0QnV0dG9ucyA9IGZ1bmN0aW9uKCkge1xuICBpZiAoICF0aGlzLm9wdGlvbnMucHJldk5leHRCdXR0b25zICkgcmV0dXJuO1xuXG4gIGxldCB7IHJpZ2h0VG9MZWZ0LCBhcnJvd1NoYXBlIH0gPSB0aGlzLm9wdGlvbnM7XG4gIGxldCBwcmV2RGlyZWN0aW9uID0gcmlnaHRUb0xlZnQgPyAncmlnaHQnIDogJ2xlZnQnO1xuICBsZXQgbmV4dERpcmVjdGlvbiA9IHJpZ2h0VG9MZWZ0ID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgdGhpcy5wcmV2QnV0dG9uID0gbmV3IFByZXZOZXh0QnV0dG9uKCAncHJldmlvdXMnLCBwcmV2RGlyZWN0aW9uLCBhcnJvd1NoYXBlICk7XG4gIHRoaXMubmV4dEJ1dHRvbiA9IG5ldyBQcmV2TmV4dEJ1dHRvbiggJ25leHQnLCBuZXh0RGlyZWN0aW9uLCBhcnJvd1NoYXBlICk7XG4gIHRoaXMuZm9jdXNhYmxlRWxlbXMucHVzaCggdGhpcy5wcmV2QnV0dG9uLmVsZW1lbnQgKTtcbiAgdGhpcy5mb2N1c2FibGVFbGVtcy5wdXNoKCB0aGlzLm5leHRCdXR0b24uZWxlbWVudCApO1xuXG4gIHRoaXMuaGFuZGxlUHJldkJ1dHRvbkNsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMudWlDaGFuZ2UoKTtcbiAgICB0aGlzLnByZXZpb3VzKCk7XG4gIH07XG5cbiAgdGhpcy5oYW5kbGVOZXh0QnV0dG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgdGhpcy51aUNoYW5nZSgpO1xuICAgIHRoaXMubmV4dCgpO1xuICB9O1xuXG4gIHRoaXMub24oICdhY3RpdmF0ZScsIHRoaXMuYWN0aXZhdGVQcmV2TmV4dEJ1dHRvbnMgKTtcbiAgdGhpcy5vbiggJ3NlbGVjdCcsIHRoaXMudXBkYXRlUHJldk5leHRCdXR0b25zICk7XG59O1xuXG5sZXQgcHJvdG8gPSBGbGlja2l0eS5wcm90b3R5cGU7XG5cbnByb3RvLnVwZGF0ZVByZXZOZXh0QnV0dG9ucyA9IGZ1bmN0aW9uKCkge1xuICBsZXQgbGFzdEluZGV4ID0gdGhpcy5zbGlkZXMubGVuZ3RoID8gdGhpcy5zbGlkZXMubGVuZ3RoIC0gMSA6IDA7XG4gIHRoaXMudXBkYXRlUHJldk5leHRCdXR0b24oIHRoaXMucHJldkJ1dHRvbiwgMCApO1xuICB0aGlzLnVwZGF0ZVByZXZOZXh0QnV0dG9uKCB0aGlzLm5leHRCdXR0b24sIGxhc3RJbmRleCApO1xufTtcblxucHJvdG8udXBkYXRlUHJldk5leHRCdXR0b24gPSBmdW5jdGlvbiggYnV0dG9uLCBkaXNhYmxlZEluZGV4ICkge1xuICAvLyBlbmFibGUgaXMgd3JhcEFyb3VuZCBhbmQgYXQgbGVhc3QgMiBzbGlkZXNcbiAgaWYgKCB0aGlzLmlzV3JhcHBpbmcgJiYgdGhpcy5zbGlkZXMubGVuZ3RoID4gMSApIHtcbiAgICBidXR0b24uZW5hYmxlKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IGlzRW5hYmxlZCA9IHRoaXMuc2VsZWN0ZWRJbmRleCAhPT0gZGlzYWJsZWRJbmRleDtcbiAgYnV0dG9uWyBpc0VuYWJsZWQgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJyBdKCk7XG4gIC8vIGlmIGRpc2FibGluZyBidXR0b24gdGhhdCBpcyBmb2N1c2VkLFxuICAvLyBzaGlmdCBmb2N1cyB0byBlbGVtZW50IHRvIG1haW50YWluIGtleWJvYXJkIGFjY2Vzc2liaWxpdHlcbiAgbGV0IGlzRGlzYWJsZWRGb2N1c2VkID0gIWlzRW5hYmxlZCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBidXR0b24uZWxlbWVudDtcbiAgaWYgKCBpc0Rpc2FibGVkRm9jdXNlZCApIHRoaXMuZm9jdXMoKTtcbn07XG5cbnByb3RvLmFjdGl2YXRlUHJldk5leHRCdXR0b25zID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucHJldkJ1dHRvbi5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsIHRoaXMuaGFuZGxlUHJldkJ1dHRvbkNsaWNrICk7XG4gIHRoaXMubmV4dEJ1dHRvbi5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsIHRoaXMuaGFuZGxlTmV4dEJ1dHRvbkNsaWNrICk7XG4gIHRoaXMuZWxlbWVudC5hcHBlbmQoIHRoaXMucHJldkJ1dHRvbi5lbGVtZW50LCB0aGlzLm5leHRCdXR0b24uZWxlbWVudCApO1xuICB0aGlzLm9uKCAnZGVhY3RpdmF0ZScsIHRoaXMuZGVhY3RpdmF0ZVByZXZOZXh0QnV0dG9ucyApO1xufTtcblxucHJvdG8uZGVhY3RpdmF0ZVByZXZOZXh0QnV0dG9ucyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnByZXZCdXR0b24uZWxlbWVudC5yZW1vdmUoKTtcbiAgdGhpcy5uZXh0QnV0dG9uLmVsZW1lbnQucmVtb3ZlKCk7XG4gIHRoaXMucHJldkJ1dHRvbi5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdjbGljaycsIHRoaXMuaGFuZGxlUHJldkJ1dHRvbkNsaWNrICk7XG4gIHRoaXMubmV4dEJ1dHRvbi5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdjbGljaycsIHRoaXMuaGFuZGxlTmV4dEJ1dHRvbkNsaWNrICk7XG4gIHRoaXMub2ZmKCAnZGVhY3RpdmF0ZScsIHRoaXMuZGVhY3RpdmF0ZVByZXZOZXh0QnV0dG9ucyApO1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbkZsaWNraXR5LlByZXZOZXh0QnV0dG9uID0gUHJldk5leHRCdXR0b247XG5cbnJldHVybiBGbGlja2l0eTtcblxufSApICk7XG4iLCIvKiFcbiAqIEluZmluaXRlIFNjcm9sbCB2Mi4wLjRcbiAqIG1lYXN1cmUgc2l6ZSBvZiBlbGVtZW50c1xuICogTUlUIGxpY2Vuc2VcbiAqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93LmdldFNpemUgPSBmYWN0b3J5KCk7XG4gIH1cblxufSApKCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoKSB7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGhlbHBlcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLy8gZ2V0IGEgbnVtYmVyIGZyb20gYSBzdHJpbmcsIG5vdCBhIHBlcmNlbnRhZ2VcbmZ1bmN0aW9uIGdldFN0eWxlU2l6ZSggdmFsdWUgKSB7XG4gIGxldCBudW0gPSBwYXJzZUZsb2F0KCB2YWx1ZSApO1xuICAvLyBub3QgYSBwZXJjZW50IGxpa2UgJzEwMCUnLCBhbmQgYSBudW1iZXJcbiAgbGV0IGlzVmFsaWQgPSB2YWx1ZS5pbmRleE9mKCclJykgPT0gLTEgJiYgIWlzTmFOKCBudW0gKTtcbiAgcmV0dXJuIGlzVmFsaWQgJiYgbnVtO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBtZWFzdXJlbWVudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxubGV0IG1lYXN1cmVtZW50cyA9IFtcbiAgJ3BhZGRpbmdMZWZ0JyxcbiAgJ3BhZGRpbmdSaWdodCcsXG4gICdwYWRkaW5nVG9wJyxcbiAgJ3BhZGRpbmdCb3R0b20nLFxuICAnbWFyZ2luTGVmdCcsXG4gICdtYXJnaW5SaWdodCcsXG4gICdtYXJnaW5Ub3AnLFxuICAnbWFyZ2luQm90dG9tJyxcbiAgJ2JvcmRlckxlZnRXaWR0aCcsXG4gICdib3JkZXJSaWdodFdpZHRoJyxcbiAgJ2JvcmRlclRvcFdpZHRoJyxcbiAgJ2JvcmRlckJvdHRvbVdpZHRoJyxcbl07XG5cbmxldCBtZWFzdXJlbWVudHNMZW5ndGggPSBtZWFzdXJlbWVudHMubGVuZ3RoO1xuXG5mdW5jdGlvbiBnZXRaZXJvU2l6ZSgpIHtcbiAgbGV0IHNpemUgPSB7XG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwLFxuICAgIGlubmVyV2lkdGg6IDAsXG4gICAgaW5uZXJIZWlnaHQ6IDAsXG4gICAgb3V0ZXJXaWR0aDogMCxcbiAgICBvdXRlckhlaWdodDogMCxcbiAgfTtcbiAgbWVhc3VyZW1lbnRzLmZvckVhY2goICggbWVhc3VyZW1lbnQgKSA9PiB7XG4gICAgc2l6ZVsgbWVhc3VyZW1lbnQgXSA9IDA7XG4gIH0gKTtcbiAgcmV0dXJuIHNpemU7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGdldFNpemUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuZnVuY3Rpb24gZ2V0U2l6ZSggZWxlbSApIHtcbiAgLy8gdXNlIHF1ZXJ5U2VsZXRvciBpZiBlbGVtIGlzIHN0cmluZ1xuICBpZiAoIHR5cGVvZiBlbGVtID09ICdzdHJpbmcnICkgZWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIGVsZW0gKTtcblxuICAvLyBkbyBub3QgcHJvY2VlZCBvbiBub24tb2JqZWN0c1xuICBsZXQgaXNFbGVtZW50ID0gZWxlbSAmJiB0eXBlb2YgZWxlbSA9PSAnb2JqZWN0JyAmJiBlbGVtLm5vZGVUeXBlO1xuICBpZiAoICFpc0VsZW1lbnQgKSByZXR1cm47XG5cbiAgbGV0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbSApO1xuXG4gIC8vIGlmIGhpZGRlbiwgZXZlcnl0aGluZyBpcyAwXG4gIGlmICggc3R5bGUuZGlzcGxheSA9PSAnbm9uZScgKSByZXR1cm4gZ2V0WmVyb1NpemUoKTtcblxuICBsZXQgc2l6ZSA9IHt9O1xuICBzaXplLndpZHRoID0gZWxlbS5vZmZzZXRXaWR0aDtcbiAgc2l6ZS5oZWlnaHQgPSBlbGVtLm9mZnNldEhlaWdodDtcblxuICBsZXQgaXNCb3JkZXJCb3ggPSBzaXplLmlzQm9yZGVyQm94ID0gc3R5bGUuYm94U2l6aW5nID09ICdib3JkZXItYm94JztcblxuICAvLyBnZXQgYWxsIG1lYXN1cmVtZW50c1xuICBtZWFzdXJlbWVudHMuZm9yRWFjaCggKCBtZWFzdXJlbWVudCApID0+IHtcbiAgICBsZXQgdmFsdWUgPSBzdHlsZVsgbWVhc3VyZW1lbnQgXTtcbiAgICBsZXQgbnVtID0gcGFyc2VGbG9hdCggdmFsdWUgKTtcbiAgICAvLyBhbnkgJ2F1dG8nLCAnbWVkaXVtJyB2YWx1ZSB3aWxsIGJlIDBcbiAgICBzaXplWyBtZWFzdXJlbWVudCBdID0gIWlzTmFOKCBudW0gKSA/IG51bSA6IDA7XG4gIH0gKTtcblxuICBsZXQgcGFkZGluZ1dpZHRoID0gc2l6ZS5wYWRkaW5nTGVmdCArIHNpemUucGFkZGluZ1JpZ2h0O1xuICBsZXQgcGFkZGluZ0hlaWdodCA9IHNpemUucGFkZGluZ1RvcCArIHNpemUucGFkZGluZ0JvdHRvbTtcbiAgbGV0IG1hcmdpbldpZHRoID0gc2l6ZS5tYXJnaW5MZWZ0ICsgc2l6ZS5tYXJnaW5SaWdodDtcbiAgbGV0IG1hcmdpbkhlaWdodCA9IHNpemUubWFyZ2luVG9wICsgc2l6ZS5tYXJnaW5Cb3R0b207XG4gIGxldCBib3JkZXJXaWR0aCA9IHNpemUuYm9yZGVyTGVmdFdpZHRoICsgc2l6ZS5ib3JkZXJSaWdodFdpZHRoO1xuICBsZXQgYm9yZGVySGVpZ2h0ID0gc2l6ZS5ib3JkZXJUb3BXaWR0aCArIHNpemUuYm9yZGVyQm90dG9tV2lkdGg7XG5cbiAgLy8gb3ZlcndyaXRlIHdpZHRoIGFuZCBoZWlnaHQgaWYgd2UgY2FuIGdldCBpdCBmcm9tIHN0eWxlXG4gIGxldCBzdHlsZVdpZHRoID0gZ2V0U3R5bGVTaXplKCBzdHlsZS53aWR0aCApO1xuICBpZiAoIHN0eWxlV2lkdGggIT09IGZhbHNlICkge1xuICAgIHNpemUud2lkdGggPSBzdHlsZVdpZHRoICtcbiAgICAgIC8vIGFkZCBwYWRkaW5nIGFuZCBib3JkZXIgdW5sZXNzIGl0J3MgYWxyZWFkeSBpbmNsdWRpbmcgaXRcbiAgICAgICggaXNCb3JkZXJCb3ggPyAwIDogcGFkZGluZ1dpZHRoICsgYm9yZGVyV2lkdGggKTtcbiAgfVxuXG4gIGxldCBzdHlsZUhlaWdodCA9IGdldFN0eWxlU2l6ZSggc3R5bGUuaGVpZ2h0ICk7XG4gIGlmICggc3R5bGVIZWlnaHQgIT09IGZhbHNlICkge1xuICAgIHNpemUuaGVpZ2h0ID0gc3R5bGVIZWlnaHQgK1xuICAgICAgLy8gYWRkIHBhZGRpbmcgYW5kIGJvcmRlciB1bmxlc3MgaXQncyBhbHJlYWR5IGluY2x1ZGluZyBpdFxuICAgICAgKCBpc0JvcmRlckJveCA/IDAgOiBwYWRkaW5nSGVpZ2h0ICsgYm9yZGVySGVpZ2h0ICk7XG4gIH1cblxuICBzaXplLmlubmVyV2lkdGggPSBzaXplLndpZHRoIC0gKCBwYWRkaW5nV2lkdGggKyBib3JkZXJXaWR0aCApO1xuICBzaXplLmlubmVySGVpZ2h0ID0gc2l6ZS5oZWlnaHQgLSAoIHBhZGRpbmdIZWlnaHQgKyBib3JkZXJIZWlnaHQgKTtcblxuICBzaXplLm91dGVyV2lkdGggPSBzaXplLndpZHRoICsgbWFyZ2luV2lkdGg7XG4gIHNpemUub3V0ZXJIZWlnaHQgPSBzaXplLmhlaWdodCArIG1hcmdpbkhlaWdodDtcblxuICByZXR1cm4gc2l6ZTtcbn1cblxucmV0dXJuIGdldFNpemU7XG5cbn0gKTtcbiIsIi8vIHNsaWRlXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5GbGlja2l0eSA9IHdpbmRvdy5GbGlja2l0eSB8fCB7fTtcbiAgICB3aW5kb3cuRmxpY2tpdHkuU2xpZGUgPSBmYWN0b3J5KCk7XG4gIH1cblxufSggdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uIGZhY3RvcnkoKSB7XG5cbmZ1bmN0aW9uIFNsaWRlKCBiZWdpbk1hcmdpbiwgZW5kTWFyZ2luLCBjZWxsQWxpZ24gKSB7XG4gIHRoaXMuYmVnaW5NYXJnaW4gPSBiZWdpbk1hcmdpbjtcbiAgdGhpcy5lbmRNYXJnaW4gPSBlbmRNYXJnaW47XG4gIHRoaXMuY2VsbEFsaWduID0gY2VsbEFsaWduO1xuICB0aGlzLmNlbGxzID0gW107XG4gIHRoaXMub3V0ZXJXaWR0aCA9IDA7XG4gIHRoaXMuaGVpZ2h0ID0gMDtcbn1cblxubGV0IHByb3RvID0gU2xpZGUucHJvdG90eXBlO1xuXG5wcm90by5hZGRDZWxsID0gZnVuY3Rpb24oIGNlbGwgKSB7XG4gIHRoaXMuY2VsbHMucHVzaCggY2VsbCApO1xuICB0aGlzLm91dGVyV2lkdGggKz0gY2VsbC5zaXplLm91dGVyV2lkdGg7XG4gIHRoaXMuaGVpZ2h0ID0gTWF0aC5tYXgoIGNlbGwuc2l6ZS5vdXRlckhlaWdodCwgdGhpcy5oZWlnaHQgKTtcbiAgLy8gZmlyc3QgY2VsbCBzdHVmZlxuICBpZiAoIHRoaXMuY2VsbHMubGVuZ3RoID09PSAxICkge1xuICAgIHRoaXMueCA9IGNlbGwueDsgLy8geCBjb21lcyBmcm9tIGZpcnN0IGNlbGxcbiAgICB0aGlzLmZpcnN0TWFyZ2luID0gY2VsbC5zaXplWyB0aGlzLmJlZ2luTWFyZ2luIF07XG4gIH1cbn07XG5cbnByb3RvLnVwZGF0ZVRhcmdldCA9IGZ1bmN0aW9uKCkge1xuICBsZXQgbGFzdENlbGwgPSB0aGlzLmdldExhc3RDZWxsKCk7XG4gIGxldCBsYXN0TWFyZ2luID0gbGFzdENlbGwgPyBsYXN0Q2VsbC5zaXplWyB0aGlzLmVuZE1hcmdpbiBdIDogMDtcbiAgbGV0IHNsaWRlV2lkdGggPSB0aGlzLm91dGVyV2lkdGggLSAoIHRoaXMuZmlyc3RNYXJnaW4gKyBsYXN0TWFyZ2luICk7XG4gIHRoaXMudGFyZ2V0ID0gdGhpcy54ICsgdGhpcy5maXJzdE1hcmdpbiArIHNsaWRlV2lkdGggKiB0aGlzLmNlbGxBbGlnbjtcbn07XG5cbnByb3RvLmdldExhc3RDZWxsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmNlbGxzWyB0aGlzLmNlbGxzLmxlbmd0aCAtIDEgXTtcbn07XG5cbnByb3RvLnNlbGVjdCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNlbGxzLmZvckVhY2goICggY2VsbCApID0+IGNlbGwuc2VsZWN0KCkgKTtcbn07XG5cbnByb3RvLnVuc2VsZWN0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuY2VsbHMuZm9yRWFjaCggKCBjZWxsICkgPT4gY2VsbC51bnNlbGVjdCgpICk7XG59O1xuXG5wcm90by5nZXRDZWxsRWxlbWVudHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuY2VsbHMubWFwKCAoIGNlbGwgKSA9PiBjZWxsLmVsZW1lbnQgKTtcbn07XG5cbnJldHVybiBTbGlkZTtcblxufSApICk7XG4iLCIvKiFcbiAqIGltYWdlc0xvYWRlZCB2NS4wLjBcbiAqIEphdmFTY3JpcHQgaXMgYWxsIGxpa2UgXCJZb3UgaW1hZ2VzIGFyZSBkb25lIHlldCBvciB3aGF0P1wiXG4gKiBNSVQgTGljZW5zZVxuICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSggd2luZG93LCByZXF1aXJlKCdldi1lbWl0dGVyJykgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5pbWFnZXNMb2FkZWQgPSBmYWN0b3J5KCB3aW5kb3csIHdpbmRvdy5FdkVtaXR0ZXIgKTtcbiAgfVxuXG59ICkoIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdGhpcyxcbiAgICBmdW5jdGlvbiBmYWN0b3J5KCB3aW5kb3csIEV2RW1pdHRlciApIHtcblxubGV0ICQgPSB3aW5kb3cualF1ZXJ5O1xubGV0IGNvbnNvbGUgPSB3aW5kb3cuY29uc29sZTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gaGVscGVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vLyB0dXJuIGVsZW1lbnQgb3Igbm9kZUxpc3QgaW50byBhbiBhcnJheVxuZnVuY3Rpb24gbWFrZUFycmF5KCBvYmogKSB7XG4gIC8vIHVzZSBvYmplY3QgaWYgYWxyZWFkeSBhbiBhcnJheVxuICBpZiAoIEFycmF5LmlzQXJyYXkoIG9iaiApICkgcmV0dXJuIG9iajtcblxuICBsZXQgaXNBcnJheUxpa2UgPSB0eXBlb2Ygb2JqID09ICdvYmplY3QnICYmIHR5cGVvZiBvYmoubGVuZ3RoID09ICdudW1iZXInO1xuICAvLyBjb252ZXJ0IG5vZGVMaXN0IHRvIGFycmF5XG4gIGlmICggaXNBcnJheUxpa2UgKSByZXR1cm4gWyAuLi5vYmogXTtcblxuICAvLyBhcnJheSBvZiBzaW5nbGUgaW5kZXhcbiAgcmV0dXJuIFsgb2JqIF07XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGltYWdlc0xvYWRlZCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vKipcbiAqIEBwYXJhbSB7W0FycmF5LCBFbGVtZW50LCBOb2RlTGlzdCwgU3RyaW5nXX0gZWxlbVxuICogQHBhcmFtIHtbT2JqZWN0LCBGdW5jdGlvbl19IG9wdGlvbnMgLSBpZiBmdW5jdGlvbiwgdXNlIGFzIGNhbGxiYWNrXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkFsd2F5cyAtIGNhbGxiYWNrIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7SW1hZ2VzTG9hZGVkfVxuICovXG5mdW5jdGlvbiBJbWFnZXNMb2FkZWQoIGVsZW0sIG9wdGlvbnMsIG9uQWx3YXlzICkge1xuICAvLyBjb2VyY2UgSW1hZ2VzTG9hZGVkKCkgd2l0aG91dCBuZXcsIHRvIGJlIG5ldyBJbWFnZXNMb2FkZWQoKVxuICBpZiAoICEoIHRoaXMgaW5zdGFuY2VvZiBJbWFnZXNMb2FkZWQgKSApIHtcbiAgICByZXR1cm4gbmV3IEltYWdlc0xvYWRlZCggZWxlbSwgb3B0aW9ucywgb25BbHdheXMgKTtcbiAgfVxuICAvLyB1c2UgZWxlbSBhcyBzZWxlY3RvciBzdHJpbmdcbiAgbGV0IHF1ZXJ5RWxlbSA9IGVsZW07XG4gIGlmICggdHlwZW9mIGVsZW0gPT0gJ3N0cmluZycgKSB7XG4gICAgcXVlcnlFbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggZWxlbSApO1xuICB9XG4gIC8vIGJhaWwgaWYgYmFkIGVsZW1lbnRcbiAgaWYgKCAhcXVlcnlFbGVtICkge1xuICAgIGNvbnNvbGUuZXJyb3IoYEJhZCBlbGVtZW50IGZvciBpbWFnZXNMb2FkZWQgJHtxdWVyeUVsZW0gfHwgZWxlbX1gKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLmVsZW1lbnRzID0gbWFrZUFycmF5KCBxdWVyeUVsZW0gKTtcbiAgdGhpcy5vcHRpb25zID0ge307XG4gIC8vIHNoaWZ0IGFyZ3VtZW50cyBpZiBubyBvcHRpb25zIHNldFxuICBpZiAoIHR5cGVvZiBvcHRpb25zID09ICdmdW5jdGlvbicgKSB7XG4gICAgb25BbHdheXMgPSBvcHRpb25zO1xuICB9IGVsc2Uge1xuICAgIE9iamVjdC5hc3NpZ24oIHRoaXMub3B0aW9ucywgb3B0aW9ucyApO1xuICB9XG5cbiAgaWYgKCBvbkFsd2F5cyApIHRoaXMub24oICdhbHdheXMnLCBvbkFsd2F5cyApO1xuXG4gIHRoaXMuZ2V0SW1hZ2VzKCk7XG4gIC8vIGFkZCBqUXVlcnkgRGVmZXJyZWQgb2JqZWN0XG4gIGlmICggJCApIHRoaXMuanFEZWZlcnJlZCA9IG5ldyAkLkRlZmVycmVkKCk7XG5cbiAgLy8gSEFDSyBjaGVjayBhc3luYyB0byBhbGxvdyB0aW1lIHRvIGJpbmQgbGlzdGVuZXJzXG4gIHNldFRpbWVvdXQoIHRoaXMuY2hlY2suYmluZCggdGhpcyApICk7XG59XG5cbkltYWdlc0xvYWRlZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdkVtaXR0ZXIucHJvdG90eXBlICk7XG5cbkltYWdlc0xvYWRlZC5wcm90b3R5cGUuZ2V0SW1hZ2VzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuaW1hZ2VzID0gW107XG5cbiAgLy8gZmlsdGVyICYgZmluZCBpdGVtcyBpZiB3ZSBoYXZlIGFuIGl0ZW0gc2VsZWN0b3JcbiAgdGhpcy5lbGVtZW50cy5mb3JFYWNoKCB0aGlzLmFkZEVsZW1lbnRJbWFnZXMsIHRoaXMgKTtcbn07XG5cbmNvbnN0IGVsZW1lbnROb2RlVHlwZXMgPSBbIDEsIDksIDExIF07XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBlbGVtXG4gKi9cbkltYWdlc0xvYWRlZC5wcm90b3R5cGUuYWRkRWxlbWVudEltYWdlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICAvLyBmaWx0ZXIgc2libGluZ3NcbiAgaWYgKCBlbGVtLm5vZGVOYW1lID09PSAnSU1HJyApIHtcbiAgICB0aGlzLmFkZEltYWdlKCBlbGVtICk7XG4gIH1cbiAgLy8gZ2V0IGJhY2tncm91bmQgaW1hZ2Ugb24gZWxlbWVudFxuICBpZiAoIHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kID09PSB0cnVlICkge1xuICAgIHRoaXMuYWRkRWxlbWVudEJhY2tncm91bmRJbWFnZXMoIGVsZW0gKTtcbiAgfVxuXG4gIC8vIGZpbmQgY2hpbGRyZW5cbiAgLy8gbm8gbm9uLWVsZW1lbnQgbm9kZXMsICMxNDNcbiAgbGV0IHsgbm9kZVR5cGUgfSA9IGVsZW07XG4gIGlmICggIW5vZGVUeXBlIHx8ICFlbGVtZW50Tm9kZVR5cGVzLmluY2x1ZGVzKCBub2RlVHlwZSApICkgcmV0dXJuO1xuXG4gIGxldCBjaGlsZEltZ3MgPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpO1xuICAvLyBjb25jYXQgY2hpbGRFbGVtcyB0byBmaWx0ZXJGb3VuZCBhcnJheVxuICBmb3IgKCBsZXQgaW1nIG9mIGNoaWxkSW1ncyApIHtcbiAgICB0aGlzLmFkZEltYWdlKCBpbWcgKTtcbiAgfVxuXG4gIC8vIGdldCBjaGlsZCBiYWNrZ3JvdW5kIGltYWdlc1xuICBpZiAoIHR5cGVvZiB0aGlzLm9wdGlvbnMuYmFja2dyb3VuZCA9PSAnc3RyaW5nJyApIHtcbiAgICBsZXQgY2hpbGRyZW4gPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoIHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kICk7XG4gICAgZm9yICggbGV0IGNoaWxkIG9mIGNoaWxkcmVuICkge1xuICAgICAgdGhpcy5hZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyggY2hpbGQgKTtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IHJlVVJMID0gL3VybFxcKChbJ1wiXSk/KC4qPylcXDFcXCkvZ2k7XG5cbkltYWdlc0xvYWRlZC5wcm90b3R5cGUuYWRkRWxlbWVudEJhY2tncm91bmRJbWFnZXMgPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgbGV0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbSApO1xuICAvLyBGaXJlZm94IHJldHVybnMgbnVsbCBpZiBpbiBhIGhpZGRlbiBpZnJhbWUgaHR0cHM6Ly9idWd6aWwubGEvNTQ4Mzk3XG4gIGlmICggIXN0eWxlICkgcmV0dXJuO1xuXG4gIC8vIGdldCB1cmwgaW5zaWRlIHVybChcIi4uLlwiKVxuICBsZXQgbWF0Y2hlcyA9IHJlVVJMLmV4ZWMoIHN0eWxlLmJhY2tncm91bmRJbWFnZSApO1xuICB3aGlsZSAoIG1hdGNoZXMgIT09IG51bGwgKSB7XG4gICAgbGV0IHVybCA9IG1hdGNoZXMgJiYgbWF0Y2hlc1syXTtcbiAgICBpZiAoIHVybCApIHtcbiAgICAgIHRoaXMuYWRkQmFja2dyb3VuZCggdXJsLCBlbGVtICk7XG4gICAgfVxuICAgIG1hdGNoZXMgPSByZVVSTC5leGVjKCBzdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge0ltYWdlfSBpbWdcbiAqL1xuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5hZGRJbWFnZSA9IGZ1bmN0aW9uKCBpbWcgKSB7XG4gIGxldCBsb2FkaW5nSW1hZ2UgPSBuZXcgTG9hZGluZ0ltYWdlKCBpbWcgKTtcbiAgdGhpcy5pbWFnZXMucHVzaCggbG9hZGluZ0ltYWdlICk7XG59O1xuXG5JbWFnZXNMb2FkZWQucHJvdG90eXBlLmFkZEJhY2tncm91bmQgPSBmdW5jdGlvbiggdXJsLCBlbGVtICkge1xuICBsZXQgYmFja2dyb3VuZCA9IG5ldyBCYWNrZ3JvdW5kKCB1cmwsIGVsZW0gKTtcbiAgdGhpcy5pbWFnZXMucHVzaCggYmFja2dyb3VuZCApO1xufTtcblxuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnByb2dyZXNzZWRDb3VudCA9IDA7XG4gIHRoaXMuaGFzQW55QnJva2VuID0gZmFsc2U7XG4gIC8vIGNvbXBsZXRlIGlmIG5vIGltYWdlc1xuICBpZiAoICF0aGlzLmltYWdlcy5sZW5ndGggKSB7XG4gICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLXN0eWxlICovXG4gIGxldCBvblByb2dyZXNzID0gKCBpbWFnZSwgZWxlbSwgbWVzc2FnZSApID0+IHtcbiAgICAvLyBIQUNLIC0gQ2hyb21lIHRyaWdnZXJzIGV2ZW50IGJlZm9yZSBvYmplY3QgcHJvcGVydGllcyBoYXZlIGNoYW5nZWQuICM4M1xuICAgIHNldFRpbWVvdXQoICgpID0+IHtcbiAgICAgIHRoaXMucHJvZ3Jlc3MoIGltYWdlLCBlbGVtLCBtZXNzYWdlICk7XG4gICAgfSApO1xuICB9O1xuXG4gIHRoaXMuaW1hZ2VzLmZvckVhY2goIGZ1bmN0aW9uKCBsb2FkaW5nSW1hZ2UgKSB7XG4gICAgbG9hZGluZ0ltYWdlLm9uY2UoICdwcm9ncmVzcycsIG9uUHJvZ3Jlc3MgKTtcbiAgICBsb2FkaW5nSW1hZ2UuY2hlY2soKTtcbiAgfSApO1xufTtcblxuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5wcm9ncmVzcyA9IGZ1bmN0aW9uKCBpbWFnZSwgZWxlbSwgbWVzc2FnZSApIHtcbiAgdGhpcy5wcm9ncmVzc2VkQ291bnQrKztcbiAgdGhpcy5oYXNBbnlCcm9rZW4gPSB0aGlzLmhhc0FueUJyb2tlbiB8fCAhaW1hZ2UuaXNMb2FkZWQ7XG4gIC8vIHByb2dyZXNzIGV2ZW50XG4gIHRoaXMuZW1pdEV2ZW50KCAncHJvZ3Jlc3MnLCBbIHRoaXMsIGltYWdlLCBlbGVtIF0gKTtcbiAgaWYgKCB0aGlzLmpxRGVmZXJyZWQgJiYgdGhpcy5qcURlZmVycmVkLm5vdGlmeSApIHtcbiAgICB0aGlzLmpxRGVmZXJyZWQubm90aWZ5KCB0aGlzLCBpbWFnZSApO1xuICB9XG4gIC8vIGNoZWNrIGlmIGNvbXBsZXRlZFxuICBpZiAoIHRoaXMucHJvZ3Jlc3NlZENvdW50ID09PSB0aGlzLmltYWdlcy5sZW5ndGggKSB7XG4gICAgdGhpcy5jb21wbGV0ZSgpO1xuICB9XG5cbiAgaWYgKCB0aGlzLm9wdGlvbnMuZGVidWcgJiYgY29uc29sZSApIHtcbiAgICBjb25zb2xlLmxvZyggYHByb2dyZXNzOiAke21lc3NhZ2V9YCwgaW1hZ2UsIGVsZW0gKTtcbiAgfVxufTtcblxuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuICBsZXQgZXZlbnROYW1lID0gdGhpcy5oYXNBbnlCcm9rZW4gPyAnZmFpbCcgOiAnZG9uZSc7XG4gIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gIHRoaXMuZW1pdEV2ZW50KCBldmVudE5hbWUsIFsgdGhpcyBdICk7XG4gIHRoaXMuZW1pdEV2ZW50KCAnYWx3YXlzJywgWyB0aGlzIF0gKTtcbiAgaWYgKCB0aGlzLmpxRGVmZXJyZWQgKSB7XG4gICAgbGV0IGpxTWV0aG9kID0gdGhpcy5oYXNBbnlCcm9rZW4gPyAncmVqZWN0JyA6ICdyZXNvbHZlJztcbiAgICB0aGlzLmpxRGVmZXJyZWRbIGpxTWV0aG9kIF0oIHRoaXMgKTtcbiAgfVxufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbmZ1bmN0aW9uIExvYWRpbmdJbWFnZSggaW1nICkge1xuICB0aGlzLmltZyA9IGltZztcbn1cblxuTG9hZGluZ0ltYWdlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2RW1pdHRlci5wcm90b3R5cGUgKTtcblxuTG9hZGluZ0ltYWdlLnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uKCkge1xuICAvLyBJZiBjb21wbGV0ZSBpcyB0cnVlIGFuZCBicm93c2VyIHN1cHBvcnRzIG5hdHVyYWwgc2l6ZXMsXG4gIC8vIHRyeSB0byBjaGVjayBmb3IgaW1hZ2Ugc3RhdHVzIG1hbnVhbGx5LlxuICBsZXQgaXNDb21wbGV0ZSA9IHRoaXMuZ2V0SXNJbWFnZUNvbXBsZXRlKCk7XG4gIGlmICggaXNDb21wbGV0ZSApIHtcbiAgICAvLyByZXBvcnQgYmFzZWQgb24gbmF0dXJhbFdpZHRoXG4gICAgdGhpcy5jb25maXJtKCB0aGlzLmltZy5uYXR1cmFsV2lkdGggIT09IDAsICduYXR1cmFsV2lkdGgnICk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gSWYgbm9uZSBvZiB0aGUgY2hlY2tzIGFib3ZlIG1hdGNoZWQsIHNpbXVsYXRlIGxvYWRpbmcgb24gZGV0YWNoZWQgZWxlbWVudC5cbiAgdGhpcy5wcm94eUltYWdlID0gbmV3IEltYWdlKCk7XG4gIC8vIGFkZCBjcm9zc09yaWdpbiBhdHRyaWJ1dGUuICMyMDRcbiAgaWYgKCB0aGlzLmltZy5jcm9zc09yaWdpbiApIHtcbiAgICB0aGlzLnByb3h5SW1hZ2UuY3Jvc3NPcmlnaW4gPSB0aGlzLmltZy5jcm9zc09yaWdpbjtcbiAgfVxuICB0aGlzLnByb3h5SW1hZ2UuYWRkRXZlbnRMaXN0ZW5lciggJ2xvYWQnLCB0aGlzICk7XG4gIHRoaXMucHJveHlJbWFnZS5hZGRFdmVudExpc3RlbmVyKCAnZXJyb3InLCB0aGlzICk7XG4gIC8vIGJpbmQgdG8gaW1hZ2UgYXMgd2VsbCBmb3IgRmlyZWZveC4gIzE5MVxuICB0aGlzLmltZy5hZGRFdmVudExpc3RlbmVyKCAnbG9hZCcsIHRoaXMgKTtcbiAgdGhpcy5pbWcuYWRkRXZlbnRMaXN0ZW5lciggJ2Vycm9yJywgdGhpcyApO1xuICB0aGlzLnByb3h5SW1hZ2Uuc3JjID0gdGhpcy5pbWcuY3VycmVudFNyYyB8fCB0aGlzLmltZy5zcmM7XG59O1xuXG5Mb2FkaW5nSW1hZ2UucHJvdG90eXBlLmdldElzSW1hZ2VDb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuICAvLyBjaGVjayBmb3Igbm9uLXplcm8sIG5vbi11bmRlZmluZWQgbmF0dXJhbFdpZHRoXG4gIC8vIGZpeGVzIFNhZmFyaStJbmZpbml0ZVNjcm9sbCtNYXNvbnJ5IGJ1ZyBpbmZpbml0ZS1zY3JvbGwjNjcxXG4gIHJldHVybiB0aGlzLmltZy5jb21wbGV0ZSAmJiB0aGlzLmltZy5uYXR1cmFsV2lkdGg7XG59O1xuXG5Mb2FkaW5nSW1hZ2UucHJvdG90eXBlLmNvbmZpcm0gPSBmdW5jdGlvbiggaXNMb2FkZWQsIG1lc3NhZ2UgKSB7XG4gIHRoaXMuaXNMb2FkZWQgPSBpc0xvYWRlZDtcbiAgbGV0IHsgcGFyZW50Tm9kZSB9ID0gdGhpcy5pbWc7XG4gIC8vIGVtaXQgcHJvZ3Jlc3Mgd2l0aCBwYXJlbnQgPHBpY3R1cmU+IG9yIHNlbGYgPGltZz5cbiAgbGV0IGVsZW0gPSBwYXJlbnROb2RlLm5vZGVOYW1lID09PSAnUElDVFVSRScgPyBwYXJlbnROb2RlIDogdGhpcy5pbWc7XG4gIHRoaXMuZW1pdEV2ZW50KCAncHJvZ3Jlc3MnLCBbIHRoaXMsIGVsZW0sIG1lc3NhZ2UgXSApO1xufTtcblxuLy8gLS0tLS0gZXZlbnRzIC0tLS0tIC8vXG5cbi8vIHRyaWdnZXIgc3BlY2lmaWVkIGhhbmRsZXIgZm9yIGV2ZW50IHR5cGVcbkxvYWRpbmdJbWFnZS5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIGxldCBtZXRob2QgPSAnb24nICsgZXZlbnQudHlwZTtcbiAgaWYgKCB0aGlzWyBtZXRob2QgXSApIHtcbiAgICB0aGlzWyBtZXRob2QgXSggZXZlbnQgKTtcbiAgfVxufTtcblxuTG9hZGluZ0ltYWdlLnByb3RvdHlwZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5jb25maXJtKCB0cnVlLCAnb25sb2FkJyApO1xuICB0aGlzLnVuYmluZEV2ZW50cygpO1xufTtcblxuTG9hZGluZ0ltYWdlLnByb3RvdHlwZS5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuY29uZmlybSggZmFsc2UsICdvbmVycm9yJyApO1xuICB0aGlzLnVuYmluZEV2ZW50cygpO1xufTtcblxuTG9hZGluZ0ltYWdlLnByb3RvdHlwZS51bmJpbmRFdmVudHMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5wcm94eUltYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdsb2FkJywgdGhpcyApO1xuICB0aGlzLnByb3h5SW1hZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2Vycm9yJywgdGhpcyApO1xuICB0aGlzLmltZy5yZW1vdmVFdmVudExpc3RlbmVyKCAnbG9hZCcsIHRoaXMgKTtcbiAgdGhpcy5pbWcucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2Vycm9yJywgdGhpcyApO1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gQmFja2dyb3VuZCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5mdW5jdGlvbiBCYWNrZ3JvdW5kKCB1cmwsIGVsZW1lbnQgKSB7XG4gIHRoaXMudXJsID0gdXJsO1xuICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICB0aGlzLmltZyA9IG5ldyBJbWFnZSgpO1xufVxuXG4vLyBpbmhlcml0IExvYWRpbmdJbWFnZSBwcm90b3R5cGVcbkJhY2tncm91bmQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggTG9hZGluZ0ltYWdlLnByb3RvdHlwZSApO1xuXG5CYWNrZ3JvdW5kLnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmltZy5hZGRFdmVudExpc3RlbmVyKCAnbG9hZCcsIHRoaXMgKTtcbiAgdGhpcy5pbWcuYWRkRXZlbnRMaXN0ZW5lciggJ2Vycm9yJywgdGhpcyApO1xuICB0aGlzLmltZy5zcmMgPSB0aGlzLnVybDtcbiAgLy8gY2hlY2sgaWYgaW1hZ2UgaXMgYWxyZWFkeSBjb21wbGV0ZVxuICBsZXQgaXNDb21wbGV0ZSA9IHRoaXMuZ2V0SXNJbWFnZUNvbXBsZXRlKCk7XG4gIGlmICggaXNDb21wbGV0ZSApIHtcbiAgICB0aGlzLmNvbmZpcm0oIHRoaXMuaW1nLm5hdHVyYWxXaWR0aCAhPT0gMCwgJ25hdHVyYWxXaWR0aCcgKTtcbiAgICB0aGlzLnVuYmluZEV2ZW50cygpO1xuICB9XG59O1xuXG5CYWNrZ3JvdW5kLnByb3RvdHlwZS51bmJpbmRFdmVudHMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5pbWcucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2xvYWQnLCB0aGlzICk7XG4gIHRoaXMuaW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdlcnJvcicsIHRoaXMgKTtcbn07XG5cbkJhY2tncm91bmQucHJvdG90eXBlLmNvbmZpcm0gPSBmdW5jdGlvbiggaXNMb2FkZWQsIG1lc3NhZ2UgKSB7XG4gIHRoaXMuaXNMb2FkZWQgPSBpc0xvYWRlZDtcbiAgdGhpcy5lbWl0RXZlbnQoICdwcm9ncmVzcycsIFsgdGhpcywgdGhpcy5lbGVtZW50LCBtZXNzYWdlIF0gKTtcbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGpRdWVyeSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5JbWFnZXNMb2FkZWQubWFrZUpRdWVyeVBsdWdpbiA9IGZ1bmN0aW9uKCBqUXVlcnkgKSB7XG4gIGpRdWVyeSA9IGpRdWVyeSB8fCB3aW5kb3cualF1ZXJ5O1xuICBpZiAoICFqUXVlcnkgKSByZXR1cm47XG5cbiAgLy8gc2V0IGxvY2FsIHZhcmlhYmxlXG4gICQgPSBqUXVlcnk7XG4gIC8vICQoKS5pbWFnZXNMb2FkZWQoKVxuICAkLmZuLmltYWdlc0xvYWRlZCA9IGZ1bmN0aW9uKCBvcHRpb25zLCBvbkFsd2F5cyApIHtcbiAgICBsZXQgaW5zdGFuY2UgPSBuZXcgSW1hZ2VzTG9hZGVkKCB0aGlzLCBvcHRpb25zLCBvbkFsd2F5cyApO1xuICAgIHJldHVybiBpbnN0YW5jZS5qcURlZmVycmVkLnByb21pc2UoICQoIHRoaXMgKSApO1xuICB9O1xufTtcbi8vIHRyeSBtYWtpbmcgcGx1Z2luXG5JbWFnZXNMb2FkZWQubWFrZUpRdWVyeVBsdWdpbigpO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxucmV0dXJuIEltYWdlc0xvYWRlZDtcblxufSApO1xuIiwiKGZ1bmN0aW9uKHdpbmRvdywgZmFjdG9yeSkge1xuXHR2YXIgbGF6eVNpemVzID0gZmFjdG9yeSh3aW5kb3csIHdpbmRvdy5kb2N1bWVudCwgRGF0ZSk7XG5cdHdpbmRvdy5sYXp5U2l6ZXMgPSBsYXp5U2l6ZXM7XG5cdGlmKHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpe1xuXHRcdG1vZHVsZS5leHBvcnRzID0gbGF6eVNpemVzO1xuXHR9XG59KHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgP1xuICAgICAgd2luZG93IDoge30sIFxuLyoqXG4gKiBpbXBvcnQoXCIuL3R5cGVzL2dsb2JhbFwiKVxuICogQHR5cGVkZWYgeyBpbXBvcnQoXCIuL3R5cGVzL2xhenlzaXplcy1jb25maWdcIikuTGF6eVNpemVzQ29uZmlnUGFydGlhbCB9IExhenlTaXplc0NvbmZpZ1BhcnRpYWxcbiAqL1xuZnVuY3Rpb24gbCh3aW5kb3csIGRvY3VtZW50LCBEYXRlKSB7IC8vIFBhc3MgaW4gdGhlIHdpbmRvdyBEYXRlIGZ1bmN0aW9uIGFsc28gZm9yIFNTUiBiZWNhdXNlIHRoZSBEYXRlIGNsYXNzIGNhbiBiZSBsb3N0XG5cdCd1c2Ugc3RyaWN0Jztcblx0Lypqc2hpbnQgZXFudWxsOnRydWUgKi9cblxuXHR2YXIgbGF6eXNpemVzLFxuXHRcdC8qKlxuXHRcdCAqIEB0eXBlIHsgTGF6eVNpemVzQ29uZmlnUGFydGlhbCB9XG5cdFx0ICovXG5cdFx0bGF6eVNpemVzQ2ZnO1xuXG5cdChmdW5jdGlvbigpe1xuXHRcdHZhciBwcm9wO1xuXG5cdFx0dmFyIGxhenlTaXplc0RlZmF1bHRzID0ge1xuXHRcdFx0bGF6eUNsYXNzOiAnbGF6eWxvYWQnLFxuXHRcdFx0bG9hZGVkQ2xhc3M6ICdsYXp5bG9hZGVkJyxcblx0XHRcdGxvYWRpbmdDbGFzczogJ2xhenlsb2FkaW5nJyxcblx0XHRcdHByZWxvYWRDbGFzczogJ2xhenlwcmVsb2FkJyxcblx0XHRcdGVycm9yQ2xhc3M6ICdsYXp5ZXJyb3InLFxuXHRcdFx0Ly9zdHJpY3RDbGFzczogJ2xhenlzdHJpY3QnLFxuXHRcdFx0YXV0b3NpemVzQ2xhc3M6ICdsYXp5YXV0b3NpemVzJyxcblx0XHRcdGZhc3RMb2FkZWRDbGFzczogJ2xzLWlzLWNhY2hlZCcsXG5cdFx0XHRpZnJhbWVMb2FkTW9kZTogMCxcblx0XHRcdHNyY0F0dHI6ICdkYXRhLXNyYycsXG5cdFx0XHRzcmNzZXRBdHRyOiAnZGF0YS1zcmNzZXQnLFxuXHRcdFx0c2l6ZXNBdHRyOiAnZGF0YS1zaXplcycsXG5cdFx0XHQvL3ByZWxvYWRBZnRlckxvYWQ6IGZhbHNlLFxuXHRcdFx0bWluU2l6ZTogNDAsXG5cdFx0XHRjdXN0b21NZWRpYToge30sXG5cdFx0XHRpbml0OiB0cnVlLFxuXHRcdFx0ZXhwRmFjdG9yOiAxLjUsXG5cdFx0XHRoRmFjOiAwLjgsXG5cdFx0XHRsb2FkTW9kZTogMixcblx0XHRcdGxvYWRIaWRkZW46IHRydWUsXG5cdFx0XHRyaWNUaW1lb3V0OiAwLFxuXHRcdFx0dGhyb3R0bGVEZWxheTogMTI1LFxuXHRcdH07XG5cblx0XHRsYXp5U2l6ZXNDZmcgPSB3aW5kb3cubGF6eVNpemVzQ29uZmlnIHx8IHdpbmRvdy5sYXp5c2l6ZXNDb25maWcgfHwge307XG5cblx0XHRmb3IocHJvcCBpbiBsYXp5U2l6ZXNEZWZhdWx0cyl7XG5cdFx0XHRpZighKHByb3AgaW4gbGF6eVNpemVzQ2ZnKSl7XG5cdFx0XHRcdGxhenlTaXplc0NmZ1twcm9wXSA9IGxhenlTaXplc0RlZmF1bHRzW3Byb3BdO1xuXHRcdFx0fVxuXHRcdH1cblx0fSkoKTtcblxuXHRpZiAoIWRvY3VtZW50IHx8ICFkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGluaXQ6IGZ1bmN0aW9uICgpIHt9LFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBAdHlwZSB7IExhenlTaXplc0NvbmZpZ1BhcnRpYWwgfVxuXHRcdFx0ICovXG5cdFx0XHRjZmc6IGxhenlTaXplc0NmZyxcblx0XHRcdC8qKlxuXHRcdFx0ICogQHR5cGUgeyB0cnVlIH1cblx0XHRcdCAqL1xuXHRcdFx0bm9TdXBwb3J0OiB0cnVlLFxuXHRcdH07XG5cdH1cblxuXHR2YXIgZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuXHR2YXIgc3VwcG9ydFBpY3R1cmUgPSB3aW5kb3cuSFRNTFBpY3R1cmVFbGVtZW50O1xuXG5cdHZhciBfYWRkRXZlbnRMaXN0ZW5lciA9ICdhZGRFdmVudExpc3RlbmVyJztcblxuXHR2YXIgX2dldEF0dHJpYnV0ZSA9ICdnZXRBdHRyaWJ1dGUnO1xuXG5cdC8qKlxuXHQgKiBVcGRhdGUgdG8gYmluZCB0byB3aW5kb3cgYmVjYXVzZSAndGhpcycgYmVjb21lcyBudWxsIGR1cmluZyBTU1Jcblx0ICogYnVpbGRzLlxuXHQgKi9cblx0dmFyIGFkZEV2ZW50TGlzdGVuZXIgPSB3aW5kb3dbX2FkZEV2ZW50TGlzdGVuZXJdLmJpbmQod2luZG93KTtcblxuXHR2YXIgc2V0VGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0O1xuXG5cdHZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHNldFRpbWVvdXQ7XG5cblx0dmFyIHJlcXVlc3RJZGxlQ2FsbGJhY2sgPSB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjaztcblxuXHR2YXIgcmVnUGljdHVyZSA9IC9ecGljdHVyZSQvaTtcblxuXHR2YXIgbG9hZEV2ZW50cyA9IFsnbG9hZCcsICdlcnJvcicsICdsYXp5aW5jbHVkZWQnLCAnX2xhenlsb2FkZWQnXTtcblxuXHR2YXIgcmVnQ2xhc3NDYWNoZSA9IHt9O1xuXG5cdHZhciBmb3JFYWNoID0gQXJyYXkucHJvdG90eXBlLmZvckVhY2g7XG5cblx0LyoqXG5cdCAqIEBwYXJhbSBlbGUge0VsZW1lbnR9XG5cdCAqIEBwYXJhbSBjbHMge3N0cmluZ31cblx0ICovXG5cdHZhciBoYXNDbGFzcyA9IGZ1bmN0aW9uKGVsZSwgY2xzKSB7XG5cdFx0aWYoIXJlZ0NsYXNzQ2FjaGVbY2xzXSl7XG5cdFx0XHRyZWdDbGFzc0NhY2hlW2Nsc10gPSBuZXcgUmVnRXhwKCcoXFxcXHN8XiknK2NscysnKFxcXFxzfCQpJyk7XG5cdFx0fVxuXHRcdHJldHVybiByZWdDbGFzc0NhY2hlW2Nsc10udGVzdChlbGVbX2dldEF0dHJpYnV0ZV0oJ2NsYXNzJykgfHwgJycpICYmIHJlZ0NsYXNzQ2FjaGVbY2xzXTtcblx0fTtcblxuXHQvKipcblx0ICogQHBhcmFtIGVsZSB7RWxlbWVudH1cblx0ICogQHBhcmFtIGNscyB7c3RyaW5nfVxuXHQgKi9cblx0dmFyIGFkZENsYXNzID0gZnVuY3Rpb24oZWxlLCBjbHMpIHtcblx0XHRpZiAoIWhhc0NsYXNzKGVsZSwgY2xzKSl7XG5cdFx0XHRlbGUuc2V0QXR0cmlidXRlKCdjbGFzcycsIChlbGVbX2dldEF0dHJpYnV0ZV0oJ2NsYXNzJykgfHwgJycpLnRyaW0oKSArICcgJyArIGNscyk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBAcGFyYW0gZWxlIHtFbGVtZW50fVxuXHQgKiBAcGFyYW0gY2xzIHtzdHJpbmd9XG5cdCAqL1xuXHR2YXIgcmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbihlbGUsIGNscykge1xuXHRcdHZhciByZWc7XG5cdFx0aWYgKChyZWcgPSBoYXNDbGFzcyhlbGUsY2xzKSkpIHtcblx0XHRcdGVsZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgKGVsZVtfZ2V0QXR0cmlidXRlXSgnY2xhc3MnKSB8fCAnJykucmVwbGFjZShyZWcsICcgJykpO1xuXHRcdH1cblx0fTtcblxuXHR2YXIgYWRkUmVtb3ZlTG9hZEV2ZW50cyA9IGZ1bmN0aW9uKGRvbSwgZm4sIGFkZCl7XG5cdFx0dmFyIGFjdGlvbiA9IGFkZCA/IF9hZGRFdmVudExpc3RlbmVyIDogJ3JlbW92ZUV2ZW50TGlzdGVuZXInO1xuXHRcdGlmKGFkZCl7XG5cdFx0XHRhZGRSZW1vdmVMb2FkRXZlbnRzKGRvbSwgZm4pO1xuXHRcdH1cblx0XHRsb2FkRXZlbnRzLmZvckVhY2goZnVuY3Rpb24oZXZ0KXtcblx0XHRcdGRvbVthY3Rpb25dKGV2dCwgZm4pO1xuXHRcdH0pO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAcGFyYW0gZWxlbSB7IEVsZW1lbnQgfVxuXHQgKiBAcGFyYW0gbmFtZSB7IHN0cmluZyB9XG5cdCAqIEBwYXJhbSBkZXRhaWwgeyBhbnkgfVxuXHQgKiBAcGFyYW0gbm9CdWJibGVzIHsgYm9vbGVhbiB9XG5cdCAqIEBwYXJhbSBub0NhbmNlbGFibGUgeyBib29sZWFuIH1cblx0ICogQHJldHVybnMgeyBDdXN0b21FdmVudCB9XG5cdCAqL1xuXHR2YXIgdHJpZ2dlckV2ZW50ID0gZnVuY3Rpb24oZWxlbSwgbmFtZSwgZGV0YWlsLCBub0J1YmJsZXMsIG5vQ2FuY2VsYWJsZSl7XG5cdFx0dmFyIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG5cblx0XHRpZighZGV0YWlsKXtcblx0XHRcdGRldGFpbCA9IHt9O1xuXHRcdH1cblxuXHRcdGRldGFpbC5pbnN0YW5jZSA9IGxhenlzaXplcztcblxuXHRcdGV2ZW50LmluaXRFdmVudChuYW1lLCAhbm9CdWJibGVzLCAhbm9DYW5jZWxhYmxlKTtcblxuXHRcdGV2ZW50LmRldGFpbCA9IGRldGFpbDtcblxuXHRcdGVsZW0uZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdFx0cmV0dXJuIGV2ZW50O1xuXHR9O1xuXG5cdHZhciB1cGRhdGVQb2x5ZmlsbCA9IGZ1bmN0aW9uIChlbCwgZnVsbCl7XG5cdFx0dmFyIHBvbHlmaWxsO1xuXHRcdGlmKCAhc3VwcG9ydFBpY3R1cmUgJiYgKCBwb2x5ZmlsbCA9ICh3aW5kb3cucGljdHVyZWZpbGwgfHwgbGF6eVNpemVzQ2ZnLnBmKSApICl7XG5cdFx0XHRpZihmdWxsICYmIGZ1bGwuc3JjICYmICFlbFtfZ2V0QXR0cmlidXRlXSgnc3Jjc2V0Jykpe1xuXHRcdFx0XHRlbC5zZXRBdHRyaWJ1dGUoJ3NyY3NldCcsIGZ1bGwuc3JjKTtcblx0XHRcdH1cblx0XHRcdHBvbHlmaWxsKHtyZWV2YWx1YXRlOiB0cnVlLCBlbGVtZW50czogW2VsXX0pO1xuXHRcdH0gZWxzZSBpZihmdWxsICYmIGZ1bGwuc3JjKXtcblx0XHRcdGVsLnNyYyA9IGZ1bGwuc3JjO1xuXHRcdH1cblx0fTtcblxuXHR2YXIgZ2V0Q1NTID0gZnVuY3Rpb24gKGVsZW0sIHN0eWxlKXtcblx0XHRyZXR1cm4gKGdldENvbXB1dGVkU3R5bGUoZWxlbSwgbnVsbCkgfHwge30pW3N0eWxlXTtcblx0fTtcblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIGVsZW0geyBFbGVtZW50IH1cblx0ICogQHBhcmFtIHBhcmVudCB7IEVsZW1lbnQgfVxuXHQgKiBAcGFyYW0gW3dpZHRoXSB7bnVtYmVyfVxuXHQgKiBAcmV0dXJucyB7bnVtYmVyfVxuXHQgKi9cblx0dmFyIGdldFdpZHRoID0gZnVuY3Rpb24oZWxlbSwgcGFyZW50LCB3aWR0aCl7XG5cdFx0d2lkdGggPSB3aWR0aCB8fCBlbGVtLm9mZnNldFdpZHRoO1xuXG5cdFx0d2hpbGUod2lkdGggPCBsYXp5U2l6ZXNDZmcubWluU2l6ZSAmJiBwYXJlbnQgJiYgIWVsZW0uX2xhenlzaXplc1dpZHRoKXtcblx0XHRcdHdpZHRoID0gIHBhcmVudC5vZmZzZXRXaWR0aDtcblx0XHRcdHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuXHRcdH1cblxuXHRcdHJldHVybiB3aWR0aDtcblx0fTtcblxuXHR2YXIgckFGID0gKGZ1bmN0aW9uKCl7XG5cdFx0dmFyIHJ1bm5pbmcsIHdhaXRpbmc7XG5cdFx0dmFyIGZpcnN0Rm5zID0gW107XG5cdFx0dmFyIHNlY29uZEZucyA9IFtdO1xuXHRcdHZhciBmbnMgPSBmaXJzdEZucztcblxuXHRcdHZhciBydW4gPSBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIHJ1bkZucyA9IGZucztcblxuXHRcdFx0Zm5zID0gZmlyc3RGbnMubGVuZ3RoID8gc2Vjb25kRm5zIDogZmlyc3RGbnM7XG5cblx0XHRcdHJ1bm5pbmcgPSB0cnVlO1xuXHRcdFx0d2FpdGluZyA9IGZhbHNlO1xuXG5cdFx0XHR3aGlsZShydW5GbnMubGVuZ3RoKXtcblx0XHRcdFx0cnVuRm5zLnNoaWZ0KCkoKTtcblx0XHRcdH1cblxuXHRcdFx0cnVubmluZyA9IGZhbHNlO1xuXHRcdH07XG5cblx0XHR2YXIgcmFmQmF0Y2ggPSBmdW5jdGlvbihmbiwgcXVldWUpe1xuXHRcdFx0aWYocnVubmluZyAmJiAhcXVldWUpe1xuXHRcdFx0XHRmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm5zLnB1c2goZm4pO1xuXG5cdFx0XHRcdGlmKCF3YWl0aW5nKXtcblx0XHRcdFx0XHR3YWl0aW5nID0gdHJ1ZTtcblx0XHRcdFx0XHQoZG9jdW1lbnQuaGlkZGVuID8gc2V0VGltZW91dCA6IHJlcXVlc3RBbmltYXRpb25GcmFtZSkocnVuKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRyYWZCYXRjaC5fbHNGbHVzaCA9IHJ1bjtcblxuXHRcdHJldHVybiByYWZCYXRjaDtcblx0fSkoKTtcblxuXHR2YXIgckFGSXQgPSBmdW5jdGlvbihmbiwgc2ltcGxlKXtcblx0XHRyZXR1cm4gc2ltcGxlID9cblx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyQUYoZm4pO1xuXHRcdFx0fSA6XG5cdFx0XHRmdW5jdGlvbigpe1xuXHRcdFx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cdFx0XHRcdHZhciBhcmdzID0gYXJndW1lbnRzO1xuXHRcdFx0XHRyQUYoZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRmbi5hcHBseSh0aGF0LCBhcmdzKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0O1xuXHR9O1xuXG5cdHZhciB0aHJvdHRsZSA9IGZ1bmN0aW9uKGZuKXtcblx0XHR2YXIgcnVubmluZztcblx0XHR2YXIgbGFzdFRpbWUgPSAwO1xuXHRcdHZhciBnRGVsYXkgPSBsYXp5U2l6ZXNDZmcudGhyb3R0bGVEZWxheTtcblx0XHR2YXIgcklDVGltZW91dCA9IGxhenlTaXplc0NmZy5yaWNUaW1lb3V0O1xuXHRcdHZhciBydW4gPSBmdW5jdGlvbigpe1xuXHRcdFx0cnVubmluZyA9IGZhbHNlO1xuXHRcdFx0bGFzdFRpbWUgPSBEYXRlLm5vdygpO1xuXHRcdFx0Zm4oKTtcblx0XHR9O1xuXHRcdHZhciBpZGxlQ2FsbGJhY2sgPSByZXF1ZXN0SWRsZUNhbGxiYWNrICYmIHJJQ1RpbWVvdXQgPiA0OSA/XG5cdFx0XHRmdW5jdGlvbigpe1xuXHRcdFx0XHRyZXF1ZXN0SWRsZUNhbGxiYWNrKHJ1biwge3RpbWVvdXQ6IHJJQ1RpbWVvdXR9KTtcblxuXHRcdFx0XHRpZihySUNUaW1lb3V0ICE9PSBsYXp5U2l6ZXNDZmcucmljVGltZW91dCl7XG5cdFx0XHRcdFx0cklDVGltZW91dCA9IGxhenlTaXplc0NmZy5yaWNUaW1lb3V0O1xuXHRcdFx0XHR9XG5cdFx0XHR9IDpcblx0XHRcdHJBRkl0KGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHNldFRpbWVvdXQocnVuKTtcblx0XHRcdH0sIHRydWUpXG5cdFx0O1xuXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGlzUHJpb3JpdHkpe1xuXHRcdFx0dmFyIGRlbGF5O1xuXG5cdFx0XHRpZigoaXNQcmlvcml0eSA9IGlzUHJpb3JpdHkgPT09IHRydWUpKXtcblx0XHRcdFx0cklDVGltZW91dCA9IDMzO1xuXHRcdFx0fVxuXG5cdFx0XHRpZihydW5uaW5nKXtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRydW5uaW5nID0gIHRydWU7XG5cblx0XHRcdGRlbGF5ID0gZ0RlbGF5IC0gKERhdGUubm93KCkgLSBsYXN0VGltZSk7XG5cblx0XHRcdGlmKGRlbGF5IDwgMCl7XG5cdFx0XHRcdGRlbGF5ID0gMDtcblx0XHRcdH1cblxuXHRcdFx0aWYoaXNQcmlvcml0eSB8fCBkZWxheSA8IDkpe1xuXHRcdFx0XHRpZGxlQ2FsbGJhY2soKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNldFRpbWVvdXQoaWRsZUNhbGxiYWNrLCBkZWxheSk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fTtcblxuXHQvL2Jhc2VkIG9uIGh0dHA6Ly9tb2Rlcm5qYXZhc2NyaXB0LmJsb2dzcG90LmRlLzIwMTMvMDgvYnVpbGRpbmctYmV0dGVyLWRlYm91bmNlLmh0bWxcblx0dmFyIGRlYm91bmNlID0gZnVuY3Rpb24oZnVuYykge1xuXHRcdHZhciB0aW1lb3V0LCB0aW1lc3RhbXA7XG5cdFx0dmFyIHdhaXQgPSA5OTtcblx0XHR2YXIgcnVuID0gZnVuY3Rpb24oKXtcblx0XHRcdHRpbWVvdXQgPSBudWxsO1xuXHRcdFx0ZnVuYygpO1xuXHRcdH07XG5cdFx0dmFyIGxhdGVyID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbGFzdCA9IERhdGUubm93KCkgLSB0aW1lc3RhbXA7XG5cblx0XHRcdGlmIChsYXN0IDwgd2FpdCkge1xuXHRcdFx0XHRzZXRUaW1lb3V0KGxhdGVyLCB3YWl0IC0gbGFzdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQocmVxdWVzdElkbGVDYWxsYmFjayB8fCBydW4pKHJ1bik7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG5cblx0XHRcdGlmICghdGltZW91dCkge1xuXHRcdFx0XHR0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fTtcblxuXHR2YXIgbG9hZGVyID0gKGZ1bmN0aW9uKCl7XG5cdFx0dmFyIHByZWxvYWRFbGVtcywgaXNDb21wbGV0ZWQsIHJlc2V0UHJlbG9hZGluZ1RpbWVyLCBsb2FkTW9kZSwgc3RhcnRlZDtcblxuXHRcdHZhciBlTHZXLCBlbHZILCBlTHRvcCwgZUxsZWZ0LCBlTHJpZ2h0LCBlTGJvdHRvbSwgaXNCb2R5SGlkZGVuO1xuXG5cdFx0dmFyIHJlZ0ltZyA9IC9eaW1nJC9pO1xuXHRcdHZhciByZWdJZnJhbWUgPSAvXmlmcmFtZSQvaTtcblxuXHRcdHZhciBzdXBwb3J0U2Nyb2xsID0gKCdvbnNjcm9sbCcgaW4gd2luZG93KSAmJiAhKC8oZ2xlfGluZylib3QvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpO1xuXG5cdFx0dmFyIHNocmlua0V4cGFuZCA9IDA7XG5cdFx0dmFyIGN1cnJlbnRFeHBhbmQgPSAwO1xuXG5cdFx0dmFyIGlzTG9hZGluZyA9IDA7XG5cdFx0dmFyIGxvd1J1bnMgPSAtMTtcblxuXHRcdHZhciByZXNldFByZWxvYWRpbmcgPSBmdW5jdGlvbihlKXtcblx0XHRcdGlzTG9hZGluZy0tO1xuXHRcdFx0aWYoIWUgfHwgaXNMb2FkaW5nIDwgMCB8fCAhZS50YXJnZXQpe1xuXHRcdFx0XHRpc0xvYWRpbmcgPSAwO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR2YXIgaXNWaXNpYmxlID0gZnVuY3Rpb24gKGVsZW0pIHtcblx0XHRcdGlmIChpc0JvZHlIaWRkZW4gPT0gbnVsbCkge1xuXHRcdFx0XHRpc0JvZHlIaWRkZW4gPSBnZXRDU1MoZG9jdW1lbnQuYm9keSwgJ3Zpc2liaWxpdHknKSA9PSAnaGlkZGVuJztcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGlzQm9keUhpZGRlbiB8fCAhKGdldENTUyhlbGVtLnBhcmVudE5vZGUsICd2aXNpYmlsaXR5JykgPT0gJ2hpZGRlbicgJiYgZ2V0Q1NTKGVsZW0sICd2aXNpYmlsaXR5JykgPT0gJ2hpZGRlbicpO1xuXHRcdH07XG5cblx0XHR2YXIgaXNOZXN0ZWRWaXNpYmxlID0gZnVuY3Rpb24oZWxlbSwgZWxlbUV4cGFuZCl7XG5cdFx0XHR2YXIgb3V0ZXJSZWN0O1xuXHRcdFx0dmFyIHBhcmVudCA9IGVsZW07XG5cdFx0XHR2YXIgdmlzaWJsZSA9IGlzVmlzaWJsZShlbGVtKTtcblxuXHRcdFx0ZUx0b3AgLT0gZWxlbUV4cGFuZDtcblx0XHRcdGVMYm90dG9tICs9IGVsZW1FeHBhbmQ7XG5cdFx0XHRlTGxlZnQgLT0gZWxlbUV4cGFuZDtcblx0XHRcdGVMcmlnaHQgKz0gZWxlbUV4cGFuZDtcblxuXHRcdFx0d2hpbGUodmlzaWJsZSAmJiAocGFyZW50ID0gcGFyZW50Lm9mZnNldFBhcmVudCkgJiYgcGFyZW50ICE9IGRvY3VtZW50LmJvZHkgJiYgcGFyZW50ICE9IGRvY0VsZW0pe1xuXHRcdFx0XHR2aXNpYmxlID0gKChnZXRDU1MocGFyZW50LCAnb3BhY2l0eScpIHx8IDEpID4gMCk7XG5cblx0XHRcdFx0aWYodmlzaWJsZSAmJiBnZXRDU1MocGFyZW50LCAnb3ZlcmZsb3cnKSAhPSAndmlzaWJsZScpe1xuXHRcdFx0XHRcdG91dGVyUmVjdCA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRcdFx0XHR2aXNpYmxlID0gZUxyaWdodCA+IG91dGVyUmVjdC5sZWZ0ICYmXG5cdFx0XHRcdFx0XHRlTGxlZnQgPCBvdXRlclJlY3QucmlnaHQgJiZcblx0XHRcdFx0XHRcdGVMYm90dG9tID4gb3V0ZXJSZWN0LnRvcCAtIDEgJiZcblx0XHRcdFx0XHRcdGVMdG9wIDwgb3V0ZXJSZWN0LmJvdHRvbSArIDFcblx0XHRcdFx0XHQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHZpc2libGU7XG5cdFx0fTtcblxuXHRcdHZhciBjaGVja0VsZW1lbnRzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZUxsZW4sIGksIHJlY3QsIGF1dG9Mb2FkRWxlbSwgbG9hZGVkU29tZXRoaW5nLCBlbGVtRXhwYW5kLCBlbGVtTmVnYXRpdmVFeHBhbmQsIGVsZW1FeHBhbmRWYWwsXG5cdFx0XHRcdGJlZm9yZUV4cGFuZFZhbCwgZGVmYXVsdEV4cGFuZCwgcHJlbG9hZEV4cGFuZCwgaEZhYztcblx0XHRcdHZhciBsYXp5bG9hZEVsZW1zID0gbGF6eXNpemVzLmVsZW1lbnRzO1xuXG5cdFx0XHRpZigobG9hZE1vZGUgPSBsYXp5U2l6ZXNDZmcubG9hZE1vZGUpICYmIGlzTG9hZGluZyA8IDggJiYgKGVMbGVuID0gbGF6eWxvYWRFbGVtcy5sZW5ndGgpKXtcblxuXHRcdFx0XHRpID0gMDtcblxuXHRcdFx0XHRsb3dSdW5zKys7XG5cblx0XHRcdFx0Zm9yKDsgaSA8IGVMbGVuOyBpKyspe1xuXG5cdFx0XHRcdFx0aWYoIWxhenlsb2FkRWxlbXNbaV0gfHwgbGF6eWxvYWRFbGVtc1tpXS5fbGF6eVJhY2Upe2NvbnRpbnVlO31cblxuXHRcdFx0XHRcdGlmKCFzdXBwb3J0U2Nyb2xsIHx8IChsYXp5c2l6ZXMucHJlbWF0dXJlVW52ZWlsICYmIGxhenlzaXplcy5wcmVtYXR1cmVVbnZlaWwobGF6eWxvYWRFbGVtc1tpXSkpKXt1bnZlaWxFbGVtZW50KGxhenlsb2FkRWxlbXNbaV0pO2NvbnRpbnVlO31cblxuXHRcdFx0XHRcdGlmKCEoZWxlbUV4cGFuZFZhbCA9IGxhenlsb2FkRWxlbXNbaV1bX2dldEF0dHJpYnV0ZV0oJ2RhdGEtZXhwYW5kJykpIHx8ICEoZWxlbUV4cGFuZCA9IGVsZW1FeHBhbmRWYWwgKiAxKSl7XG5cdFx0XHRcdFx0XHRlbGVtRXhwYW5kID0gY3VycmVudEV4cGFuZDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIWRlZmF1bHRFeHBhbmQpIHtcblx0XHRcdFx0XHRcdGRlZmF1bHRFeHBhbmQgPSAoIWxhenlTaXplc0NmZy5leHBhbmQgfHwgbGF6eVNpemVzQ2ZnLmV4cGFuZCA8IDEpID9cblx0XHRcdFx0XHRcdFx0ZG9jRWxlbS5jbGllbnRIZWlnaHQgPiA1MDAgJiYgZG9jRWxlbS5jbGllbnRXaWR0aCA+IDUwMCA/IDUwMCA6IDM3MCA6XG5cdFx0XHRcdFx0XHRcdGxhenlTaXplc0NmZy5leHBhbmQ7XG5cblx0XHRcdFx0XHRcdGxhenlzaXplcy5fZGVmRXggPSBkZWZhdWx0RXhwYW5kO1xuXG5cdFx0XHRcdFx0XHRwcmVsb2FkRXhwYW5kID0gZGVmYXVsdEV4cGFuZCAqIGxhenlTaXplc0NmZy5leHBGYWN0b3I7XG5cdFx0XHRcdFx0XHRoRmFjID0gbGF6eVNpemVzQ2ZnLmhGYWM7XG5cdFx0XHRcdFx0XHRpc0JvZHlIaWRkZW4gPSBudWxsO1xuXG5cdFx0XHRcdFx0XHRpZihjdXJyZW50RXhwYW5kIDwgcHJlbG9hZEV4cGFuZCAmJiBpc0xvYWRpbmcgPCAxICYmIGxvd1J1bnMgPiAyICYmIGxvYWRNb2RlID4gMiAmJiAhZG9jdW1lbnQuaGlkZGVuKXtcblx0XHRcdFx0XHRcdFx0Y3VycmVudEV4cGFuZCA9IHByZWxvYWRFeHBhbmQ7XG5cdFx0XHRcdFx0XHRcdGxvd1J1bnMgPSAwO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmKGxvYWRNb2RlID4gMSAmJiBsb3dSdW5zID4gMSAmJiBpc0xvYWRpbmcgPCA2KXtcblx0XHRcdFx0XHRcdFx0Y3VycmVudEV4cGFuZCA9IGRlZmF1bHRFeHBhbmQ7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRjdXJyZW50RXhwYW5kID0gc2hyaW5rRXhwYW5kO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmKGJlZm9yZUV4cGFuZFZhbCAhPT0gZWxlbUV4cGFuZCl7XG5cdFx0XHRcdFx0XHRlTHZXID0gaW5uZXJXaWR0aCArIChlbGVtRXhwYW5kICogaEZhYyk7XG5cdFx0XHRcdFx0XHRlbHZIID0gaW5uZXJIZWlnaHQgKyBlbGVtRXhwYW5kO1xuXHRcdFx0XHRcdFx0ZWxlbU5lZ2F0aXZlRXhwYW5kID0gZWxlbUV4cGFuZCAqIC0xO1xuXHRcdFx0XHRcdFx0YmVmb3JlRXhwYW5kVmFsID0gZWxlbUV4cGFuZDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZWN0ID0gbGF6eWxvYWRFbGVtc1tpXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdFx0XHRcdGlmICgoZUxib3R0b20gPSByZWN0LmJvdHRvbSkgPj0gZWxlbU5lZ2F0aXZlRXhwYW5kICYmXG5cdFx0XHRcdFx0XHQoZUx0b3AgPSByZWN0LnRvcCkgPD0gZWx2SCAmJlxuXHRcdFx0XHRcdFx0KGVMcmlnaHQgPSByZWN0LnJpZ2h0KSA+PSBlbGVtTmVnYXRpdmVFeHBhbmQgKiBoRmFjICYmXG5cdFx0XHRcdFx0XHQoZUxsZWZ0ID0gcmVjdC5sZWZ0KSA8PSBlTHZXICYmXG5cdFx0XHRcdFx0XHQoZUxib3R0b20gfHwgZUxyaWdodCB8fCBlTGxlZnQgfHwgZUx0b3ApICYmXG5cdFx0XHRcdFx0XHQobGF6eVNpemVzQ2ZnLmxvYWRIaWRkZW4gfHwgaXNWaXNpYmxlKGxhenlsb2FkRWxlbXNbaV0pKSAmJlxuXHRcdFx0XHRcdFx0KChpc0NvbXBsZXRlZCAmJiBpc0xvYWRpbmcgPCAzICYmICFlbGVtRXhwYW5kVmFsICYmIChsb2FkTW9kZSA8IDMgfHwgbG93UnVucyA8IDQpKSB8fCBpc05lc3RlZFZpc2libGUobGF6eWxvYWRFbGVtc1tpXSwgZWxlbUV4cGFuZCkpKXtcblx0XHRcdFx0XHRcdHVudmVpbEVsZW1lbnQobGF6eWxvYWRFbGVtc1tpXSk7XG5cdFx0XHRcdFx0XHRsb2FkZWRTb21ldGhpbmcgPSB0cnVlO1xuXHRcdFx0XHRcdFx0aWYoaXNMb2FkaW5nID4gOSl7YnJlYWs7fVxuXHRcdFx0XHRcdH0gZWxzZSBpZighbG9hZGVkU29tZXRoaW5nICYmIGlzQ29tcGxldGVkICYmICFhdXRvTG9hZEVsZW0gJiZcblx0XHRcdFx0XHRcdGlzTG9hZGluZyA8IDQgJiYgbG93UnVucyA8IDQgJiYgbG9hZE1vZGUgPiAyICYmXG5cdFx0XHRcdFx0XHQocHJlbG9hZEVsZW1zWzBdIHx8IGxhenlTaXplc0NmZy5wcmVsb2FkQWZ0ZXJMb2FkKSAmJlxuXHRcdFx0XHRcdFx0KHByZWxvYWRFbGVtc1swXSB8fCAoIWVsZW1FeHBhbmRWYWwgJiYgKChlTGJvdHRvbSB8fCBlTHJpZ2h0IHx8IGVMbGVmdCB8fCBlTHRvcCkgfHwgbGF6eWxvYWRFbGVtc1tpXVtfZ2V0QXR0cmlidXRlXShsYXp5U2l6ZXNDZmcuc2l6ZXNBdHRyKSAhPSAnYXV0bycpKSkpe1xuXHRcdFx0XHRcdFx0YXV0b0xvYWRFbGVtID0gcHJlbG9hZEVsZW1zWzBdIHx8IGxhenlsb2FkRWxlbXNbaV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYoYXV0b0xvYWRFbGVtICYmICFsb2FkZWRTb21ldGhpbmcpe1xuXHRcdFx0XHRcdHVudmVpbEVsZW1lbnQoYXV0b0xvYWRFbGVtKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR2YXIgdGhyb3R0bGVkQ2hlY2tFbGVtZW50cyA9IHRocm90dGxlKGNoZWNrRWxlbWVudHMpO1xuXG5cdFx0dmFyIHN3aXRjaExvYWRpbmdDbGFzcyA9IGZ1bmN0aW9uKGUpe1xuXHRcdFx0dmFyIGVsZW0gPSBlLnRhcmdldDtcblxuXHRcdFx0aWYgKGVsZW0uX2xhenlDYWNoZSkge1xuXHRcdFx0XHRkZWxldGUgZWxlbS5fbGF6eUNhY2hlO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHJlc2V0UHJlbG9hZGluZyhlKTtcblx0XHRcdGFkZENsYXNzKGVsZW0sIGxhenlTaXplc0NmZy5sb2FkZWRDbGFzcyk7XG5cdFx0XHRyZW1vdmVDbGFzcyhlbGVtLCBsYXp5U2l6ZXNDZmcubG9hZGluZ0NsYXNzKTtcblx0XHRcdGFkZFJlbW92ZUxvYWRFdmVudHMoZWxlbSwgcmFmU3dpdGNoTG9hZGluZ0NsYXNzKTtcblx0XHRcdHRyaWdnZXJFdmVudChlbGVtLCAnbGF6eWxvYWRlZCcpO1xuXHRcdH07XG5cdFx0dmFyIHJhZmVkU3dpdGNoTG9hZGluZ0NsYXNzID0gckFGSXQoc3dpdGNoTG9hZGluZ0NsYXNzKTtcblx0XHR2YXIgcmFmU3dpdGNoTG9hZGluZ0NsYXNzID0gZnVuY3Rpb24oZSl7XG5cdFx0XHRyYWZlZFN3aXRjaExvYWRpbmdDbGFzcyh7dGFyZ2V0OiBlLnRhcmdldH0pO1xuXHRcdH07XG5cblx0XHR2YXIgY2hhbmdlSWZyYW1lU3JjID0gZnVuY3Rpb24oZWxlbSwgc3JjKXtcblx0XHRcdHZhciBsb2FkTW9kZSA9IGVsZW0uZ2V0QXR0cmlidXRlKCdkYXRhLWxvYWQtbW9kZScpIHx8IGxhenlTaXplc0NmZy5pZnJhbWVMb2FkTW9kZTtcblxuXHRcdFx0Ly8gbG9hZE1vZGUgY2FuIGJlIGFsc28gYSBzdHJpbmchXG5cdFx0XHRpZiAobG9hZE1vZGUgPT0gMCkge1xuXHRcdFx0XHRlbGVtLmNvbnRlbnRXaW5kb3cubG9jYXRpb24ucmVwbGFjZShzcmMpO1xuXHRcdFx0fSBlbHNlIGlmIChsb2FkTW9kZSA9PSAxKSB7XG5cdFx0XHRcdGVsZW0uc3JjID0gc3JjO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR2YXIgaGFuZGxlU291cmNlcyA9IGZ1bmN0aW9uKHNvdXJjZSl7XG5cdFx0XHR2YXIgY3VzdG9tTWVkaWE7XG5cblx0XHRcdHZhciBzb3VyY2VTcmNzZXQgPSBzb3VyY2VbX2dldEF0dHJpYnV0ZV0obGF6eVNpemVzQ2ZnLnNyY3NldEF0dHIpO1xuXG5cdFx0XHRpZiggKGN1c3RvbU1lZGlhID0gbGF6eVNpemVzQ2ZnLmN1c3RvbU1lZGlhW3NvdXJjZVtfZ2V0QXR0cmlidXRlXSgnZGF0YS1tZWRpYScpIHx8IHNvdXJjZVtfZ2V0QXR0cmlidXRlXSgnbWVkaWEnKV0pICl7XG5cdFx0XHRcdHNvdXJjZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgY3VzdG9tTWVkaWEpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZihzb3VyY2VTcmNzZXQpe1xuXHRcdFx0XHRzb3VyY2Uuc2V0QXR0cmlidXRlKCdzcmNzZXQnLCBzb3VyY2VTcmNzZXQpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR2YXIgbGF6eVVudmVpbCA9IHJBRkl0KGZ1bmN0aW9uIChlbGVtLCBkZXRhaWwsIGlzQXV0bywgc2l6ZXMsIGlzSW1nKXtcblx0XHRcdHZhciBzcmMsIHNyY3NldCwgcGFyZW50LCBpc1BpY3R1cmUsIGV2ZW50LCBmaXJlc0xvYWQ7XG5cblx0XHRcdGlmKCEoZXZlbnQgPSB0cmlnZ2VyRXZlbnQoZWxlbSwgJ2xhenliZWZvcmV1bnZlaWwnLCBkZXRhaWwpKS5kZWZhdWx0UHJldmVudGVkKXtcblxuXHRcdFx0XHRpZihzaXplcyl7XG5cdFx0XHRcdFx0aWYoaXNBdXRvKXtcblx0XHRcdFx0XHRcdGFkZENsYXNzKGVsZW0sIGxhenlTaXplc0NmZy5hdXRvc2l6ZXNDbGFzcyk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCdzaXplcycsIHNpemVzKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzcmNzZXQgPSBlbGVtW19nZXRBdHRyaWJ1dGVdKGxhenlTaXplc0NmZy5zcmNzZXRBdHRyKTtcblx0XHRcdFx0c3JjID0gZWxlbVtfZ2V0QXR0cmlidXRlXShsYXp5U2l6ZXNDZmcuc3JjQXR0cik7XG5cblx0XHRcdFx0aWYoaXNJbWcpIHtcblx0XHRcdFx0XHRwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRcdFx0aXNQaWN0dXJlID0gcGFyZW50ICYmIHJlZ1BpY3R1cmUudGVzdChwYXJlbnQubm9kZU5hbWUgfHwgJycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZmlyZXNMb2FkID0gZGV0YWlsLmZpcmVzTG9hZCB8fCAoKCdzcmMnIGluIGVsZW0pICYmIChzcmNzZXQgfHwgc3JjIHx8IGlzUGljdHVyZSkpO1xuXG5cdFx0XHRcdGV2ZW50ID0ge3RhcmdldDogZWxlbX07XG5cblx0XHRcdFx0YWRkQ2xhc3MoZWxlbSwgbGF6eVNpemVzQ2ZnLmxvYWRpbmdDbGFzcyk7XG5cblx0XHRcdFx0aWYoZmlyZXNMb2FkKXtcblx0XHRcdFx0XHRjbGVhclRpbWVvdXQocmVzZXRQcmVsb2FkaW5nVGltZXIpO1xuXHRcdFx0XHRcdHJlc2V0UHJlbG9hZGluZ1RpbWVyID0gc2V0VGltZW91dChyZXNldFByZWxvYWRpbmcsIDI1MDApO1xuXHRcdFx0XHRcdGFkZFJlbW92ZUxvYWRFdmVudHMoZWxlbSwgcmFmU3dpdGNoTG9hZGluZ0NsYXNzLCB0cnVlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmKGlzUGljdHVyZSl7XG5cdFx0XHRcdFx0Zm9yRWFjaC5jYWxsKHBhcmVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc291cmNlJyksIGhhbmRsZVNvdXJjZXMpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYoc3Jjc2V0KXtcblx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSgnc3Jjc2V0Jywgc3Jjc2V0KTtcblx0XHRcdFx0fSBlbHNlIGlmKHNyYyAmJiAhaXNQaWN0dXJlKXtcblx0XHRcdFx0XHRpZihyZWdJZnJhbWUudGVzdChlbGVtLm5vZGVOYW1lKSl7XG5cdFx0XHRcdFx0XHRjaGFuZ2VJZnJhbWVTcmMoZWxlbSwgc3JjKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZWxlbS5zcmMgPSBzcmM7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYoaXNJbWcgJiYgKHNyY3NldCB8fCBpc1BpY3R1cmUpKXtcblx0XHRcdFx0XHR1cGRhdGVQb2x5ZmlsbChlbGVtLCB7c3JjOiBzcmN9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZihlbGVtLl9sYXp5UmFjZSl7XG5cdFx0XHRcdGRlbGV0ZSBlbGVtLl9sYXp5UmFjZTtcblx0XHRcdH1cblx0XHRcdHJlbW92ZUNsYXNzKGVsZW0sIGxhenlTaXplc0NmZy5sYXp5Q2xhc3MpO1xuXG5cdFx0XHRyQUYoZnVuY3Rpb24oKXtcblx0XHRcdFx0Ly8gUGFydCBvZiB0aGlzIGNhbiBiZSByZW1vdmVkIGFzIHNvb24gYXMgdGhpcyBmaXggaXMgb2xkZXI6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTc3MzEgKDIwMTUpXG5cdFx0XHRcdHZhciBpc0xvYWRlZCA9IGVsZW0uY29tcGxldGUgJiYgZWxlbS5uYXR1cmFsV2lkdGggPiAxO1xuXG5cdFx0XHRcdGlmKCAhZmlyZXNMb2FkIHx8IGlzTG9hZGVkKXtcblx0XHRcdFx0XHRpZiAoaXNMb2FkZWQpIHtcblx0XHRcdFx0XHRcdGFkZENsYXNzKGVsZW0sIGxhenlTaXplc0NmZy5mYXN0TG9hZGVkQ2xhc3MpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRzd2l0Y2hMb2FkaW5nQ2xhc3MoZXZlbnQpO1xuXHRcdFx0XHRcdGVsZW0uX2xhenlDYWNoZSA9IHRydWU7XG5cdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xuXHRcdFx0XHRcdFx0aWYgKCdfbGF6eUNhY2hlJyBpbiBlbGVtKSB7XG5cdFx0XHRcdFx0XHRcdGRlbGV0ZSBlbGVtLl9sYXp5Q2FjaGU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgOSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGVsZW0ubG9hZGluZyA9PSAnbGF6eScpIHtcblx0XHRcdFx0XHRpc0xvYWRpbmctLTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgdHJ1ZSk7XG5cdFx0fSk7XG5cblx0XHQvKipcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBlbGVtIHsgRWxlbWVudCB9XG5cdFx0ICovXG5cdFx0dmFyIHVudmVpbEVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbSl7XG5cdFx0XHRpZiAoZWxlbS5fbGF6eVJhY2UpIHtyZXR1cm47fVxuXHRcdFx0dmFyIGRldGFpbDtcblxuXHRcdFx0dmFyIGlzSW1nID0gcmVnSW1nLnRlc3QoZWxlbS5ub2RlTmFtZSk7XG5cblx0XHRcdC8vYWxsb3cgdXNpbmcgc2l6ZXM9XCJhdXRvXCIsIGJ1dCBkb24ndCB1c2UuIGl0J3MgaW52YWxpZC4gVXNlIGRhdGEtc2l6ZXM9XCJhdXRvXCIgb3IgYSB2YWxpZCB2YWx1ZSBmb3Igc2l6ZXMgaW5zdGVhZCAoaS5lLjogc2l6ZXM9XCI4MHZ3XCIpXG5cdFx0XHR2YXIgc2l6ZXMgPSBpc0ltZyAmJiAoZWxlbVtfZ2V0QXR0cmlidXRlXShsYXp5U2l6ZXNDZmcuc2l6ZXNBdHRyKSB8fCBlbGVtW19nZXRBdHRyaWJ1dGVdKCdzaXplcycpKTtcblx0XHRcdHZhciBpc0F1dG8gPSBzaXplcyA9PSAnYXV0byc7XG5cblx0XHRcdGlmKCAoaXNBdXRvIHx8ICFpc0NvbXBsZXRlZCkgJiYgaXNJbWcgJiYgKGVsZW1bX2dldEF0dHJpYnV0ZV0oJ3NyYycpIHx8IGVsZW0uc3Jjc2V0KSAmJiAhZWxlbS5jb21wbGV0ZSAmJiAhaGFzQ2xhc3MoZWxlbSwgbGF6eVNpemVzQ2ZnLmVycm9yQ2xhc3MpICYmIGhhc0NsYXNzKGVsZW0sIGxhenlTaXplc0NmZy5sYXp5Q2xhc3MpKXtyZXR1cm47fVxuXG5cdFx0XHRkZXRhaWwgPSB0cmlnZ2VyRXZlbnQoZWxlbSwgJ2xhenl1bnZlaWxyZWFkJykuZGV0YWlsO1xuXG5cdFx0XHRpZihpc0F1dG8pe1xuXHRcdFx0XHQgYXV0b1NpemVyLnVwZGF0ZUVsZW0oZWxlbSwgdHJ1ZSwgZWxlbS5vZmZzZXRXaWR0aCk7XG5cdFx0XHR9XG5cblx0XHRcdGVsZW0uX2xhenlSYWNlID0gdHJ1ZTtcblx0XHRcdGlzTG9hZGluZysrO1xuXG5cdFx0XHRsYXp5VW52ZWlsKGVsZW0sIGRldGFpbCwgaXNBdXRvLCBzaXplcywgaXNJbWcpO1xuXHRcdH07XG5cblx0XHR2YXIgYWZ0ZXJTY3JvbGwgPSBkZWJvdW5jZShmdW5jdGlvbigpe1xuXHRcdFx0bGF6eVNpemVzQ2ZnLmxvYWRNb2RlID0gMztcblx0XHRcdHRocm90dGxlZENoZWNrRWxlbWVudHMoKTtcblx0XHR9KTtcblxuXHRcdHZhciBhbHRMb2FkbW9kZVNjcm9sbExpc3RuZXIgPSBmdW5jdGlvbigpe1xuXHRcdFx0aWYobGF6eVNpemVzQ2ZnLmxvYWRNb2RlID09IDMpe1xuXHRcdFx0XHRsYXp5U2l6ZXNDZmcubG9hZE1vZGUgPSAyO1xuXHRcdFx0fVxuXHRcdFx0YWZ0ZXJTY3JvbGwoKTtcblx0XHR9O1xuXG5cdFx0dmFyIG9ubG9hZCA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRpZihpc0NvbXBsZXRlZCl7cmV0dXJuO31cblx0XHRcdGlmKERhdGUubm93KCkgLSBzdGFydGVkIDwgOTk5KXtcblx0XHRcdFx0c2V0VGltZW91dChvbmxvYWQsIDk5OSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXG5cdFx0XHRpc0NvbXBsZXRlZCA9IHRydWU7XG5cblx0XHRcdGxhenlTaXplc0NmZy5sb2FkTW9kZSA9IDM7XG5cblx0XHRcdHRocm90dGxlZENoZWNrRWxlbWVudHMoKTtcblxuXHRcdFx0YWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgYWx0TG9hZG1vZGVTY3JvbGxMaXN0bmVyLCB0cnVlKTtcblx0XHR9O1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdF86IGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHN0YXJ0ZWQgPSBEYXRlLm5vdygpO1xuXG5cdFx0XHRcdGxhenlzaXplcy5lbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobGF6eVNpemVzQ2ZnLmxhenlDbGFzcyk7XG5cdFx0XHRcdHByZWxvYWRFbGVtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobGF6eVNpemVzQ2ZnLmxhenlDbGFzcyArICcgJyArIGxhenlTaXplc0NmZy5wcmVsb2FkQ2xhc3MpO1xuXG5cdFx0XHRcdGFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRocm90dGxlZENoZWNrRWxlbWVudHMsIHRydWUpO1xuXG5cdFx0XHRcdGFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRocm90dGxlZENoZWNrRWxlbWVudHMsIHRydWUpO1xuXG5cdFx0XHRcdGFkZEV2ZW50TGlzdGVuZXIoJ3BhZ2VzaG93JywgZnVuY3Rpb24gKGUpIHtcblx0XHRcdFx0XHRpZiAoZS5wZXJzaXN0ZWQpIHtcblx0XHRcdFx0XHRcdHZhciBsb2FkaW5nRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIGxhenlTaXplc0NmZy5sb2FkaW5nQ2xhc3MpO1xuXG5cdFx0XHRcdFx0XHRpZiAobG9hZGluZ0VsZW1lbnRzLmxlbmd0aCAmJiBsb2FkaW5nRWxlbWVudHMuZm9yRWFjaCkge1xuXHRcdFx0XHRcdFx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdGxvYWRpbmdFbGVtZW50cy5mb3JFYWNoKCBmdW5jdGlvbiAoaW1nKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoaW1nLmNvbXBsZXRlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHVudmVpbEVsZW1lbnQoaW1nKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZih3aW5kb3cuTXV0YXRpb25PYnNlcnZlcil7XG5cdFx0XHRcdFx0bmV3IE11dGF0aW9uT2JzZXJ2ZXIoIHRocm90dGxlZENoZWNrRWxlbWVudHMgKS5vYnNlcnZlKCBkb2NFbGVtLCB7Y2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlLCBhdHRyaWJ1dGVzOiB0cnVlfSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRvY0VsZW1bX2FkZEV2ZW50TGlzdGVuZXJdKCdET01Ob2RlSW5zZXJ0ZWQnLCB0aHJvdHRsZWRDaGVja0VsZW1lbnRzLCB0cnVlKTtcblx0XHRcdFx0XHRkb2NFbGVtW19hZGRFdmVudExpc3RlbmVyXSgnRE9NQXR0ck1vZGlmaWVkJywgdGhyb3R0bGVkQ2hlY2tFbGVtZW50cywgdHJ1ZSk7XG5cdFx0XHRcdFx0c2V0SW50ZXJ2YWwodGhyb3R0bGVkQ2hlY2tFbGVtZW50cywgOTk5KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCB0aHJvdHRsZWRDaGVja0VsZW1lbnRzLCB0cnVlKTtcblxuXHRcdFx0XHQvLywgJ2Z1bGxzY3JlZW5jaGFuZ2UnXG5cdFx0XHRcdFsnZm9jdXMnLCAnbW91c2VvdmVyJywgJ2NsaWNrJywgJ2xvYWQnLCAndHJhbnNpdGlvbmVuZCcsICdhbmltYXRpb25lbmQnXS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpe1xuXHRcdFx0XHRcdGRvY3VtZW50W19hZGRFdmVudExpc3RlbmVyXShuYW1lLCB0aHJvdHRsZWRDaGVja0VsZW1lbnRzLCB0cnVlKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0aWYoKC9kJHxeYy8udGVzdChkb2N1bWVudC5yZWFkeVN0YXRlKSkpe1xuXHRcdFx0XHRcdG9ubG9hZCgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBvbmxvYWQpO1xuXHRcdFx0XHRcdGRvY3VtZW50W19hZGRFdmVudExpc3RlbmVyXSgnRE9NQ29udGVudExvYWRlZCcsIHRocm90dGxlZENoZWNrRWxlbWVudHMpO1xuXHRcdFx0XHRcdHNldFRpbWVvdXQob25sb2FkLCAyMDAwMCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZihsYXp5c2l6ZXMuZWxlbWVudHMubGVuZ3RoKXtcblx0XHRcdFx0XHRjaGVja0VsZW1lbnRzKCk7XG5cdFx0XHRcdFx0ckFGLl9sc0ZsdXNoKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhyb3R0bGVkQ2hlY2tFbGVtZW50cygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0Y2hlY2tFbGVtczogdGhyb3R0bGVkQ2hlY2tFbGVtZW50cyxcblx0XHRcdHVudmVpbDogdW52ZWlsRWxlbWVudCxcblx0XHRcdF9hTFNMOiBhbHRMb2FkbW9kZVNjcm9sbExpc3RuZXIsXG5cdFx0fTtcblx0fSkoKTtcblxuXG5cdHZhciBhdXRvU2l6ZXIgPSAoZnVuY3Rpb24oKXtcblx0XHR2YXIgYXV0b3NpemVzRWxlbXM7XG5cblx0XHR2YXIgc2l6ZUVsZW1lbnQgPSByQUZJdChmdW5jdGlvbihlbGVtLCBwYXJlbnQsIGV2ZW50LCB3aWR0aCl7XG5cdFx0XHR2YXIgc291cmNlcywgaSwgbGVuO1xuXHRcdFx0ZWxlbS5fbGF6eXNpemVzV2lkdGggPSB3aWR0aDtcblx0XHRcdHdpZHRoICs9ICdweCc7XG5cblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCdzaXplcycsIHdpZHRoKTtcblxuXHRcdFx0aWYocmVnUGljdHVyZS50ZXN0KHBhcmVudC5ub2RlTmFtZSB8fCAnJykpe1xuXHRcdFx0XHRzb3VyY2VzID0gcGFyZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzb3VyY2UnKTtcblx0XHRcdFx0Zm9yKGkgPSAwLCBsZW4gPSBzb3VyY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKXtcblx0XHRcdFx0XHRzb3VyY2VzW2ldLnNldEF0dHJpYnV0ZSgnc2l6ZXMnLCB3aWR0aCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYoIWV2ZW50LmRldGFpbC5kYXRhQXR0cil7XG5cdFx0XHRcdHVwZGF0ZVBvbHlmaWxsKGVsZW0sIGV2ZW50LmRldGFpbCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0LyoqXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gZWxlbSB7RWxlbWVudH1cblx0XHQgKiBAcGFyYW0gZGF0YUF0dHJcblx0XHQgKiBAcGFyYW0gW3dpZHRoXSB7IG51bWJlciB9XG5cdFx0ICovXG5cdFx0dmFyIGdldFNpemVFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW0sIGRhdGFBdHRyLCB3aWR0aCl7XG5cdFx0XHR2YXIgZXZlbnQ7XG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXG5cdFx0XHRpZihwYXJlbnQpe1xuXHRcdFx0XHR3aWR0aCA9IGdldFdpZHRoKGVsZW0sIHBhcmVudCwgd2lkdGgpO1xuXHRcdFx0XHRldmVudCA9IHRyaWdnZXJFdmVudChlbGVtLCAnbGF6eWJlZm9yZXNpemVzJywge3dpZHRoOiB3aWR0aCwgZGF0YUF0dHI6ICEhZGF0YUF0dHJ9KTtcblxuXHRcdFx0XHRpZighZXZlbnQuZGVmYXVsdFByZXZlbnRlZCl7XG5cdFx0XHRcdFx0d2lkdGggPSBldmVudC5kZXRhaWwud2lkdGg7XG5cblx0XHRcdFx0XHRpZih3aWR0aCAmJiB3aWR0aCAhPT0gZWxlbS5fbGF6eXNpemVzV2lkdGgpe1xuXHRcdFx0XHRcdFx0c2l6ZUVsZW1lbnQoZWxlbSwgcGFyZW50LCBldmVudCwgd2lkdGgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR2YXIgdXBkYXRlRWxlbWVudHNTaXplcyA9IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgaTtcblx0XHRcdHZhciBsZW4gPSBhdXRvc2l6ZXNFbGVtcy5sZW5ndGg7XG5cdFx0XHRpZihsZW4pe1xuXHRcdFx0XHRpID0gMDtcblxuXHRcdFx0XHRmb3IoOyBpIDwgbGVuOyBpKyspe1xuXHRcdFx0XHRcdGdldFNpemVFbGVtZW50KGF1dG9zaXplc0VsZW1zW2ldKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR2YXIgZGVib3VuY2VkVXBkYXRlRWxlbWVudHNTaXplcyA9IGRlYm91bmNlKHVwZGF0ZUVsZW1lbnRzU2l6ZXMpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdF86IGZ1bmN0aW9uKCl7XG5cdFx0XHRcdGF1dG9zaXplc0VsZW1zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShsYXp5U2l6ZXNDZmcuYXV0b3NpemVzQ2xhc3MpO1xuXHRcdFx0XHRhZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBkZWJvdW5jZWRVcGRhdGVFbGVtZW50c1NpemVzKTtcblx0XHRcdH0sXG5cdFx0XHRjaGVja0VsZW1zOiBkZWJvdW5jZWRVcGRhdGVFbGVtZW50c1NpemVzLFxuXHRcdFx0dXBkYXRlRWxlbTogZ2V0U2l6ZUVsZW1lbnRcblx0XHR9O1xuXHR9KSgpO1xuXG5cdHZhciBpbml0ID0gZnVuY3Rpb24oKXtcblx0XHRpZighaW5pdC5pICYmIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpe1xuXHRcdFx0aW5pdC5pID0gdHJ1ZTtcblx0XHRcdGF1dG9TaXplci5fKCk7XG5cdFx0XHRsb2FkZXIuXygpO1xuXHRcdH1cblx0fTtcblxuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cdFx0aWYobGF6eVNpemVzQ2ZnLmluaXQpe1xuXHRcdFx0aW5pdCgpO1xuXHRcdH1cblx0fSk7XG5cblx0bGF6eXNpemVzID0ge1xuXHRcdC8qKlxuXHRcdCAqIEB0eXBlIHsgTGF6eVNpemVzQ29uZmlnUGFydGlhbCB9XG5cdFx0ICovXG5cdFx0Y2ZnOiBsYXp5U2l6ZXNDZmcsXG5cdFx0YXV0b1NpemVyOiBhdXRvU2l6ZXIsXG5cdFx0bG9hZGVyOiBsb2FkZXIsXG5cdFx0aW5pdDogaW5pdCxcblx0XHR1UDogdXBkYXRlUG9seWZpbGwsXG5cdFx0YUM6IGFkZENsYXNzLFxuXHRcdHJDOiByZW1vdmVDbGFzcyxcblx0XHRoQzogaGFzQ2xhc3MsXG5cdFx0ZmlyZTogdHJpZ2dlckV2ZW50LFxuXHRcdGdXOiBnZXRXaWR0aCxcblx0XHRyQUY6IHJBRixcblx0fTtcblxuXHRyZXR1cm4gbGF6eXNpemVzO1xufVxuKSk7XG4iLCIvKiFcbiAqIFVuaWRyYWdnZXIgdjMuMC4xXG4gKiBEcmFnZ2FibGUgYmFzZSBjbGFzc1xuICogTUlUIGxpY2Vuc2VcbiAqL1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3csIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICAgIHdpbmRvdyxcbiAgICAgICAgcmVxdWlyZSgnZXYtZW1pdHRlcicpLFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuVW5pZHJhZ2dlciA9IGZhY3RvcnkoXG4gICAgICAgIHdpbmRvdyxcbiAgICAgICAgd2luZG93LkV2RW1pdHRlcixcbiAgICApO1xuICB9XG5cbn0oIHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbiBmYWN0b3J5KCB3aW5kb3csIEV2RW1pdHRlciApIHtcblxuZnVuY3Rpb24gVW5pZHJhZ2dlcigpIHt9XG5cbi8vIGluaGVyaXQgRXZFbWl0dGVyXG5sZXQgcHJvdG8gPSBVbmlkcmFnZ2VyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2RW1pdHRlci5wcm90b3R5cGUgKTtcblxuLy8gLS0tLS0gYmluZCBzdGFydCAtLS0tLSAvL1xuXG4vLyB0cmlnZ2VyIGhhbmRsZXIgbWV0aG9kcyBmb3IgZXZlbnRzXG5wcm90by5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgbGV0IG1ldGhvZCA9ICdvbicgKyBldmVudC50eXBlO1xuICBpZiAoIHRoaXNbIG1ldGhvZCBdICkge1xuICAgIHRoaXNbIG1ldGhvZCBdKCBldmVudCApO1xuICB9XG59O1xuXG5sZXQgc3RhcnRFdmVudCwgYWN0aXZlRXZlbnRzO1xuaWYgKCAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgKSB7XG4gIC8vIEhBQ0sgcHJlZmVyIFRvdWNoIEV2ZW50cyBhcyB5b3UgY2FuIHByZXZlbnREZWZhdWx0IG9uIHRvdWNoc3RhcnQgdG9cbiAgLy8gZGlzYWJsZSBzY3JvbGwgaW4gaU9TICYgbW9iaWxlIENocm9tZSBtZXRhZml6enkvZmxpY2tpdHkjMTE3N1xuICBzdGFydEV2ZW50ID0gJ3RvdWNoc3RhcnQnO1xuICBhY3RpdmVFdmVudHMgPSBbICd0b3VjaG1vdmUnLCAndG91Y2hlbmQnLCAndG91Y2hjYW5jZWwnIF07XG59IGVsc2UgaWYgKCB3aW5kb3cuUG9pbnRlckV2ZW50ICkge1xuICAvLyBQb2ludGVyIEV2ZW50c1xuICBzdGFydEV2ZW50ID0gJ3BvaW50ZXJkb3duJztcbiAgYWN0aXZlRXZlbnRzID0gWyAncG9pbnRlcm1vdmUnLCAncG9pbnRlcnVwJywgJ3BvaW50ZXJjYW5jZWwnIF07XG59IGVsc2Uge1xuICAvLyBtb3VzZSBldmVudHNcbiAgc3RhcnRFdmVudCA9ICdtb3VzZWRvd24nO1xuICBhY3RpdmVFdmVudHMgPSBbICdtb3VzZW1vdmUnLCAnbW91c2V1cCcgXTtcbn1cblxuLy8gcHJvdG90eXBlIHNvIGl0IGNhbiBiZSBvdmVyd3JpdGVhYmxlIGJ5IEZsaWNraXR5XG5wcm90by50b3VjaEFjdGlvblZhbHVlID0gJ25vbmUnO1xuXG5wcm90by5iaW5kSGFuZGxlcyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9iaW5kSGFuZGxlcyggJ2FkZEV2ZW50TGlzdGVuZXInLCB0aGlzLnRvdWNoQWN0aW9uVmFsdWUgKTtcbn07XG5cbnByb3RvLnVuYmluZEhhbmRsZXMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fYmluZEhhbmRsZXMoICdyZW1vdmVFdmVudExpc3RlbmVyJywgJycgKTtcbn07XG5cbi8qKlxuICogQWRkIG9yIHJlbW92ZSBzdGFydCBldmVudFxuICogQHBhcmFtIHtTdHJpbmd9IGJpbmRNZXRob2QgLSBhZGRFdmVudExpc3RlbmVyIG9yIHJlbW92ZUV2ZW50TGlzdGVuZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSB0b3VjaEFjdGlvbiAtIHZhbHVlIGZvciB0b3VjaC1hY3Rpb24gQ1NTIHByb3BlcnR5XG4gKi9cbnByb3RvLl9iaW5kSGFuZGxlcyA9IGZ1bmN0aW9uKCBiaW5kTWV0aG9kLCB0b3VjaEFjdGlvbiApIHtcbiAgdGhpcy5oYW5kbGVzLmZvckVhY2goICggaGFuZGxlICkgPT4ge1xuICAgIGhhbmRsZVsgYmluZE1ldGhvZCBdKCBzdGFydEV2ZW50LCB0aGlzICk7XG4gICAgaGFuZGxlWyBiaW5kTWV0aG9kIF0oICdjbGljaycsIHRoaXMgKTtcbiAgICAvLyB0b3VjaC1hY3Rpb246IG5vbmUgdG8gb3ZlcnJpZGUgYnJvd3NlciB0b3VjaCBnZXN0dXJlcy4gbWV0YWZpenp5L2ZsaWNraXR5IzU0MFxuICAgIGlmICggd2luZG93LlBvaW50ZXJFdmVudCApIGhhbmRsZS5zdHlsZS50b3VjaEFjdGlvbiA9IHRvdWNoQWN0aW9uO1xuICB9ICk7XG59O1xuXG5wcm90by5iaW5kQWN0aXZlUG9pbnRlckV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICBhY3RpdmVFdmVudHMuZm9yRWFjaCggKCBldmVudE5hbWUgKSA9PiB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIGV2ZW50TmFtZSwgdGhpcyApO1xuICB9ICk7XG59O1xuXG5wcm90by51bmJpbmRBY3RpdmVQb2ludGVyRXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gIGFjdGl2ZUV2ZW50cy5mb3JFYWNoKCAoIGV2ZW50TmFtZSApID0+IHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggZXZlbnROYW1lLCB0aGlzICk7XG4gIH0gKTtcbn07XG5cbi8vIC0tLS0tIGV2ZW50IGhhbmRsZXIgaGVscGVycyAtLS0tLSAvL1xuXG4vLyB0cmlnZ2VyIG1ldGhvZCB3aXRoIG1hdGNoaW5nIHBvaW50ZXJcbnByb3RvLndpdGhQb2ludGVyID0gZnVuY3Rpb24oIG1ldGhvZE5hbWUsIGV2ZW50ICkge1xuICBpZiAoIGV2ZW50LnBvaW50ZXJJZCA9PT0gdGhpcy5wb2ludGVySWRlbnRpZmllciApIHtcbiAgICB0aGlzWyBtZXRob2ROYW1lIF0oIGV2ZW50LCBldmVudCApO1xuICB9XG59O1xuXG4vLyB0cmlnZ2VyIG1ldGhvZCB3aXRoIG1hdGNoaW5nIHRvdWNoXG5wcm90by53aXRoVG91Y2ggPSBmdW5jdGlvbiggbWV0aG9kTmFtZSwgZXZlbnQgKSB7XG4gIGxldCB0b3VjaDtcbiAgZm9yICggbGV0IGNoYW5nZWRUb3VjaCBvZiBldmVudC5jaGFuZ2VkVG91Y2hlcyApIHtcbiAgICBpZiAoIGNoYW5nZWRUb3VjaC5pZGVudGlmaWVyID09PSB0aGlzLnBvaW50ZXJJZGVudGlmaWVyICkge1xuICAgICAgdG91Y2ggPSBjaGFuZ2VkVG91Y2g7XG4gICAgfVxuICB9XG4gIGlmICggdG91Y2ggKSB0aGlzWyBtZXRob2ROYW1lIF0oIGV2ZW50LCB0b3VjaCApO1xufTtcblxuLy8gLS0tLS0gc3RhcnQgZXZlbnQgLS0tLS0gLy9cblxucHJvdG8ub25tb3VzZWRvd24gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHRoaXMucG9pbnRlckRvd24oIGV2ZW50LCBldmVudCApO1xufTtcblxucHJvdG8ub250b3VjaHN0YXJ0ID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB0aGlzLnBvaW50ZXJEb3duKCBldmVudCwgZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0gKTtcbn07XG5cbnByb3RvLm9ucG9pbnRlcmRvd24gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHRoaXMucG9pbnRlckRvd24oIGV2ZW50LCBldmVudCApO1xufTtcblxuLy8gbm9kZXMgdGhhdCBoYXZlIHRleHQgZmllbGRzXG5jb25zdCBjdXJzb3JOb2RlcyA9IFsgJ1RFWFRBUkVBJywgJ0lOUFVUJywgJ1NFTEVDVCcsICdPUFRJT04nIF07XG4vLyBpbnB1dCB0eXBlcyB0aGF0IGRvIG5vdCBoYXZlIHRleHQgZmllbGRzXG5jb25zdCBjbGlja1R5cGVzID0gWyAncmFkaW8nLCAnY2hlY2tib3gnLCAnYnV0dG9uJywgJ3N1Ym1pdCcsICdpbWFnZScsICdmaWxlJyBdO1xuXG4vKipcbiAqIGFueSB0aW1lIHlvdSBzZXQgYGV2ZW50LCBwb2ludGVyYCBpdCByZWZlcnMgdG86XG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQHBhcmFtIHtFdmVudCB8IFRvdWNofSBwb2ludGVyXG4gKi9cbnByb3RvLnBvaW50ZXJEb3duID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICAvLyBkaXNtaXNzIG11bHRpLXRvdWNoIHRhcHMsIHJpZ2h0IGNsaWNrcywgYW5kIGNsaWNrcyBvbiB0ZXh0IGZpZWxkc1xuICBsZXQgaXNDdXJzb3JOb2RlID0gY3Vyc29yTm9kZXMuaW5jbHVkZXMoIGV2ZW50LnRhcmdldC5ub2RlTmFtZSApO1xuICBsZXQgaXNDbGlja1R5cGUgPSBjbGlja1R5cGVzLmluY2x1ZGVzKCBldmVudC50YXJnZXQudHlwZSApO1xuICBsZXQgaXNPa2F5RWxlbWVudCA9ICFpc0N1cnNvck5vZGUgfHwgaXNDbGlja1R5cGU7XG4gIGxldCBpc09rYXkgPSAhdGhpcy5pc1BvaW50ZXJEb3duICYmICFldmVudC5idXR0b24gJiYgaXNPa2F5RWxlbWVudDtcbiAgaWYgKCAhaXNPa2F5ICkgcmV0dXJuO1xuXG4gIHRoaXMuaXNQb2ludGVyRG93biA9IHRydWU7XG4gIC8vIHNhdmUgcG9pbnRlciBpZGVudGlmaWVyIHRvIG1hdGNoIHVwIHRvdWNoIGV2ZW50c1xuICB0aGlzLnBvaW50ZXJJZGVudGlmaWVyID0gcG9pbnRlci5wb2ludGVySWQgIT09IHVuZGVmaW5lZCA/XG4gICAgLy8gcG9pbnRlcklkIGZvciBwb2ludGVyIGV2ZW50cywgdG91Y2guaW5kZW50aWZpZXIgZm9yIHRvdWNoIGV2ZW50c1xuICAgIHBvaW50ZXIucG9pbnRlcklkIDogcG9pbnRlci5pZGVudGlmaWVyO1xuICAvLyB0cmFjayBwb3NpdGlvbiBmb3IgbW92ZVxuICB0aGlzLnBvaW50ZXJEb3duUG9pbnRlciA9IHtcbiAgICBwYWdlWDogcG9pbnRlci5wYWdlWCxcbiAgICBwYWdlWTogcG9pbnRlci5wYWdlWSxcbiAgfTtcblxuICB0aGlzLmJpbmRBY3RpdmVQb2ludGVyRXZlbnRzKCk7XG4gIHRoaXMuZW1pdEV2ZW50KCAncG9pbnRlckRvd24nLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcbn07XG5cbi8vIC0tLS0tIG1vdmUgLS0tLS0gLy9cblxucHJvdG8ub25tb3VzZW1vdmUgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHRoaXMucG9pbnRlck1vdmUoIGV2ZW50LCBldmVudCApO1xufTtcblxucHJvdG8ub25wb2ludGVybW92ZSA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdGhpcy53aXRoUG9pbnRlciggJ3BvaW50ZXJNb3ZlJywgZXZlbnQgKTtcbn07XG5cbnByb3RvLm9udG91Y2htb3ZlID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB0aGlzLndpdGhUb3VjaCggJ3BvaW50ZXJNb3ZlJywgZXZlbnQgKTtcbn07XG5cbnByb3RvLnBvaW50ZXJNb3ZlID0gZnVuY3Rpb24oIGV2ZW50LCBwb2ludGVyICkge1xuICBsZXQgbW92ZVZlY3RvciA9IHtcbiAgICB4OiBwb2ludGVyLnBhZ2VYIC0gdGhpcy5wb2ludGVyRG93blBvaW50ZXIucGFnZVgsXG4gICAgeTogcG9pbnRlci5wYWdlWSAtIHRoaXMucG9pbnRlckRvd25Qb2ludGVyLnBhZ2VZLFxuICB9O1xuICB0aGlzLmVtaXRFdmVudCggJ3BvaW50ZXJNb3ZlJywgWyBldmVudCwgcG9pbnRlciwgbW92ZVZlY3RvciBdICk7XG4gIC8vIHN0YXJ0IGRyYWcgaWYgcG9pbnRlciBoYXMgbW92ZWQgZmFyIGVub3VnaCB0byBzdGFydCBkcmFnXG4gIGxldCBpc0RyYWdTdGFydGluZyA9ICF0aGlzLmlzRHJhZ2dpbmcgJiYgdGhpcy5oYXNEcmFnU3RhcnRlZCggbW92ZVZlY3RvciApO1xuICBpZiAoIGlzRHJhZ1N0YXJ0aW5nICkgdGhpcy5kcmFnU3RhcnQoIGV2ZW50LCBwb2ludGVyICk7XG4gIGlmICggdGhpcy5pc0RyYWdnaW5nICkgdGhpcy5kcmFnTW92ZSggZXZlbnQsIHBvaW50ZXIsIG1vdmVWZWN0b3IgKTtcbn07XG5cbi8vIGNvbmRpdGlvbiBpZiBwb2ludGVyIGhhcyBtb3ZlZCBmYXIgZW5vdWdoIHRvIHN0YXJ0IGRyYWdcbnByb3RvLmhhc0RyYWdTdGFydGVkID0gZnVuY3Rpb24oIG1vdmVWZWN0b3IgKSB7XG4gIHJldHVybiBNYXRoLmFicyggbW92ZVZlY3Rvci54ICkgPiAzIHx8IE1hdGguYWJzKCBtb3ZlVmVjdG9yLnkgKSA+IDM7XG59O1xuXG4vLyAtLS0tLSBkcmFnIC0tLS0tIC8vXG5cbnByb3RvLmRyYWdTdGFydCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTtcbiAgdGhpcy5pc1ByZXZlbnRpbmdDbGlja3MgPSB0cnVlOyAvLyBzZXQgZmxhZyB0byBwcmV2ZW50IGNsaWNrc1xuICB0aGlzLmVtaXRFdmVudCggJ2RyYWdTdGFydCcsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xufTtcblxucHJvdG8uZHJhZ01vdmUgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIsIG1vdmVWZWN0b3IgKSB7XG4gIHRoaXMuZW1pdEV2ZW50KCAnZHJhZ01vdmUnLCBbIGV2ZW50LCBwb2ludGVyLCBtb3ZlVmVjdG9yIF0gKTtcbn07XG5cbi8vIC0tLS0tIGVuZCAtLS0tLSAvL1xuXG5wcm90by5vbm1vdXNldXAgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHRoaXMucG9pbnRlclVwKCBldmVudCwgZXZlbnQgKTtcbn07XG5cbnByb3RvLm9ucG9pbnRlcnVwID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB0aGlzLndpdGhQb2ludGVyKCAncG9pbnRlclVwJywgZXZlbnQgKTtcbn07XG5cbnByb3RvLm9udG91Y2hlbmQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHRoaXMud2l0aFRvdWNoKCAncG9pbnRlclVwJywgZXZlbnQgKTtcbn07XG5cbnByb3RvLnBvaW50ZXJVcCA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgdGhpcy5wb2ludGVyRG9uZSgpO1xuICB0aGlzLmVtaXRFdmVudCggJ3BvaW50ZXJVcCcsIFsgZXZlbnQsIHBvaW50ZXIgXSApO1xuXG4gIGlmICggdGhpcy5pc0RyYWdnaW5nICkge1xuICAgIHRoaXMuZHJhZ0VuZCggZXZlbnQsIHBvaW50ZXIgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBwb2ludGVyIGRpZG4ndCBtb3ZlIGVub3VnaCBmb3IgZHJhZyB0byBzdGFydFxuICAgIHRoaXMuc3RhdGljQ2xpY2soIGV2ZW50LCBwb2ludGVyICk7XG4gIH1cbn07XG5cbnByb3RvLmRyYWdFbmQgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlOyAvLyByZXNldCBmbGFnXG4gIC8vIHJlLWVuYWJsZSBjbGlja2luZyBhc3luY1xuICBzZXRUaW1lb3V0KCAoKSA9PiBkZWxldGUgdGhpcy5pc1ByZXZlbnRpbmdDbGlja3MgKTtcblxuICB0aGlzLmVtaXRFdmVudCggJ2RyYWdFbmQnLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcbn07XG5cbi8vIHRyaWdnZXJlZCBvbiBwb2ludGVyIHVwICYgcG9pbnRlciBjYW5jZWxcbnByb3RvLnBvaW50ZXJEb25lID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuaXNQb2ludGVyRG93biA9IGZhbHNlO1xuICBkZWxldGUgdGhpcy5wb2ludGVySWRlbnRpZmllcjtcbiAgdGhpcy51bmJpbmRBY3RpdmVQb2ludGVyRXZlbnRzKCk7XG4gIHRoaXMuZW1pdEV2ZW50KCdwb2ludGVyRG9uZScpO1xufTtcblxuLy8gLS0tLS0gY2FuY2VsIC0tLS0tIC8vXG5cbnByb3RvLm9ucG9pbnRlcmNhbmNlbCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdGhpcy53aXRoUG9pbnRlciggJ3BvaW50ZXJDYW5jZWwnLCBldmVudCApO1xufTtcblxucHJvdG8ub250b3VjaGNhbmNlbCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdGhpcy53aXRoVG91Y2goICdwb2ludGVyQ2FuY2VsJywgZXZlbnQgKTtcbn07XG5cbnByb3RvLnBvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbiggZXZlbnQsIHBvaW50ZXIgKSB7XG4gIHRoaXMucG9pbnRlckRvbmUoKTtcbiAgdGhpcy5lbWl0RXZlbnQoICdwb2ludGVyQ2FuY2VsJywgWyBldmVudCwgcG9pbnRlciBdICk7XG59O1xuXG4vLyAtLS0tLSBjbGljayAtLS0tLSAvL1xuXG4vLyBoYW5kbGUgYWxsIGNsaWNrcyBhbmQgcHJldmVudCBjbGlja3Mgd2hlbiBkcmFnZ2luZ1xucHJvdG8ub25jbGljayA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgaWYgKCB0aGlzLmlzUHJldmVudGluZ0NsaWNrcyApIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG59O1xuXG4vLyB0cmlnZ2VyZWQgYWZ0ZXIgcG9pbnRlciBkb3duICYgdXAgd2l0aCBuby90aW55IG1vdmVtZW50XG5wcm90by5zdGF0aWNDbGljayA9IGZ1bmN0aW9uKCBldmVudCwgcG9pbnRlciApIHtcbiAgLy8gaWdub3JlIGVtdWxhdGVkIG1vdXNlIHVwIGNsaWNrc1xuICBsZXQgaXNNb3VzZXVwID0gZXZlbnQudHlwZSA9PT0gJ21vdXNldXAnO1xuICBpZiAoIGlzTW91c2V1cCAmJiB0aGlzLmlzSWdub3JpbmdNb3VzZVVwICkgcmV0dXJuO1xuXG4gIHRoaXMuZW1pdEV2ZW50KCAnc3RhdGljQ2xpY2snLCBbIGV2ZW50LCBwb2ludGVyIF0gKTtcblxuICAvLyBzZXQgZmxhZyBmb3IgZW11bGF0ZWQgY2xpY2tzIDMwMG1zIGFmdGVyIHRvdWNoZW5kXG4gIGlmICggaXNNb3VzZXVwICkge1xuICAgIHRoaXMuaXNJZ25vcmluZ01vdXNlVXAgPSB0cnVlO1xuICAgIC8vIHJlc2V0IGZsYWcgYWZ0ZXIgNDAwbXNcbiAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICBkZWxldGUgdGhpcy5pc0lnbm9yaW5nTW91c2VVcDtcbiAgICB9LCA0MDAgKTtcbiAgfVxufTtcblxuLy8gLS0tLS0gIC0tLS0tIC8vXG5cbnJldHVybiBVbmlkcmFnZ2VyO1xuXG59ICkgKTtcbiIsIi8vIHZlbmRvclxud2luZG93LkZsaWNraXR5ID0gcmVxdWlyZSgnZmxpY2tpdHknKTtcbnJlcXVpcmUoJ2xhenlzaXplcycpO1xuXG4vLyBtb2R1bGVzXG53aW5kb3cuUHViU3ViID0gcmVxdWlyZSgnLi9zY3JpcHRzL3B1YnN1YicpO1xuXG53aW5kb3cuZGVib3VuY2UgPSBmdW5jdGlvbiAoZm4sIHdhaXQpIHtcblx0bGV0IHQ7XG5cdHJldHVybiAoLi4uYXJncykgPT4ge1xuXHRcdGNsZWFyVGltZW91dCh0KTtcblx0XHR0ID0gc2V0VGltZW91dCgoKSA9PiBmbi5hcHBseSh0aGlzLCBhcmdzKSwgd2FpdCk7XG5cdH07XG59XG5cbndpbmRvdy50aHJvdHRsZSA9IGZ1bmN0aW9uKGNiLCBkZWxheSkge1xuXHRsZXQgd2FpdCA9IGZhbHNlO1xuXHRsZXQgc3RvcmVkQXJncyA9IG51bGw7XG5cblx0ZnVuY3Rpb24gY2hlY2tTdG9yZWRBcmdzICgpIHtcblx0XHRpZiAoc3RvcmVkQXJncyA9PSBudWxsKSB7XG5cdFx0XHR3YWl0ID0gZmFsc2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNiKC4uLnN0b3JlZEFyZ3MpO1xuXHRcdFx0c3RvcmVkQXJncyA9IG51bGw7XG5cdFx0XHRzZXRUaW1lb3V0KGNoZWNrU3RvcmVkQXJncywgZGVsYXkpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiAoLi4uYXJncykgPT4ge1xuXHRcdGlmICh3YWl0KSB7XG5cdFx0XHRzdG9yZWRBcmdzID0gYXJncztcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjYiguLi5hcmdzKTtcblx0XHR3YWl0ID0gdHJ1ZTtcblx0XHRzZXRUaW1lb3V0KGNoZWNrU3RvcmVkQXJncywgZGVsYXkpO1xuXHR9XG59IiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdEVWRU5UUzoge1xuXHRcdGNhcnRVcGRhdGVkOiAnY2FydC11cGRhdGVkJ1xuXHR9LFxuXHRzdWJzY3JpYmVyczoge30sXG5cdHN1YnNjcmliZTogZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcblx0XHRpZiAodGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRoaXMuc3Vic2NyaWJlcnNbZXZlbnROYW1lXSA9IFtdO1xuXHRcdH1cblxuXHRcdHRoaXMuc3Vic2NyaWJlcnNbZXZlbnROYW1lXSA9IFsuLi50aGlzLnN1YnNjcmliZXJzW2V2ZW50TmFtZV0sIGNhbGxiYWNrXTtcblxuXHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHR0aGlzLnN1YnNjcmliZXJzW2V2ZW50TmFtZV0gPSB0aGlzLnN1YnNjcmliZXJzW2V2ZW50TmFtZV0uZmlsdGVyKChjYikgPT4ge1xuXHRcdFx0XHRyZXR1cm4gY2IgIT09IGNhbGxiYWNrO1xuXHRcdFx0fSk7XG5cdFx0fTtcblx0fSxcblx0cHVibGlzaDogZnVuY3Rpb24gKGV2ZW50TmFtZSwgZGF0YSkge1xuXHRcdGlmICh0aGlzLnN1YnNjcmliZXJzW2V2ZW50TmFtZV0pIHtcblx0XHRcdHRoaXMuc3Vic2NyaWJlcnNbZXZlbnROYW1lXS5mb3JFYWNoKChjYWxsYmFjaykgPT4ge1xuXHRcdFx0XHRjYWxsYmFjayhkYXRhKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxufVxuIl19
